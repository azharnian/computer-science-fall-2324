!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="2f83fcf0-6756-4701-ab9d-738170a5aa18",t._sentryDebugIdIdentifier="sentry-dbid-2f83fcf0-6756-4701-ab9d-738170a5aa18")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"468e0ce18ce8eaa072d85361b0e2c2d814ed5dca"},(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"+8+C":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fom2"),a=n("8Y7J");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[i.a]]}),t})()},"+qjk":function(t,e,n){"use strict";n.d(e,"a",function(){return K});var i=n("hl0K"),a=n("Qyzw"),o=n("UJbk"),c=n("oxHj"),r=n("8Y7J"),s=n("+oQn"),l=n("iInd"),d=n("SVse"),p=n("UNx2"),g=n("rayB"),u=n("1O3W");let f=(()=>{class t{transform(t){return`assets/svg/pollen-counter-${t||"unknown"}.svg`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Zb({name:"pollenCounterSrc",type:t,pure:!0}),t})();var h=n("H36N");function m(t,e){if(1&t&&(r.gc(0,"div",6),r.bc(1,"img",7),r.tc(2,"pollenCounterSrc"),r.gc(3,"h3",8),r.fd(4),r.tc(5,"pollenLevelLabel"),r.fc(),r.gc(6,"p",9),r.fd(7),r.fc(),r.fc()),2&t){const t=e.$implicit;r.Mb(1),r.Bc("src",r.uc(2,3,t.level),r.Vc),r.Mb(3),r.gd(r.uc(5,5,t.level)),r.Mb(3),r.gd(t.description)}}let b=(()=>{class t{constructor(){this.trans=i.a.pollen.guide,this.pollenGuideList=[{level:1,description:this.trans.levelDescription.low},{level:2,description:this.trans.levelDescription.moderate},{level:3,description:this.trans.levelDescription.high},{level:4,description:this.trans.levelDescription.veryHigh}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ub({type:t,selectors:[["app-pollen-guide"]],decls:8,vars:3,consts:[[1,"pollen-guide"],[1,"pollen-guide__header"],[1,"pollen-guide__header_title"],[1,"pollen-guide__header_description"],[1,"pollen-guide__list"],["class","pollen-guide__list__item",4,"ngFor","ngForOf"],[1,"pollen-guide__list__item"],["width","48","height","48",1,"pollen-guide__list__item_icon",3,"src"],[1,"pollen-guide__list__item_title"],[1,"pollen-guide__list__item_description"]],template:function(t,e){1&t&&(r.gc(0,"div",0),r.gc(1,"div",1),r.gc(2,"h2",2),r.fd(3),r.fc(),r.gc(4,"p",3),r.fd(5),r.fc(),r.fc(),r.gc(6,"div",4),r.dd(7,m,8,7,"div",5),r.fc(),r.fc()),2&t&&(r.Mb(3),r.gd(e.trans.title),r.Mb(2),r.gd(e.trans.description),r.Mb(2),r.Bc("ngForOf",e.pollenGuideList))},directives:[d.n],pipes:[f,h.a],styles:[".pollen-guide[_ngcontent-%COMP%]{padding:16px;background-color:#fff;border:1px solid #f3f5f7;box-shadow:0 12px 16px -4px rgba(0,0,0,.08),0 4px 6px -2px rgba(0,0,0,.03);border-radius:8px;max-width:375px;max-height:80vh;overflow:auto;font-weight:400;font-size:16px;line-height:24px;letter-spacing:-.31px;color:#101828}.pollen-guide__header[_ngcontent-%COMP%]{margin-bottom:32px}.pollen-guide__header_title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:8px;font-size:18px;line-height:28px;letter-spacing:-.44px}.pollen-guide__list[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:24px}.pollen-guide__list__item[_ngcontent-%COMP%]{display:grid;grid-template-columns:48px 1fr;-moz-column-gap:24px;column-gap:24px}.pollen-guide__list__item_icon[_ngcontent-%COMP%]{width:48px;height:48px;grid-row:1/span 2}.pollen-guide__list__item_title[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.pollen-guide__list__item_description[_ngcontent-%COMP%]{word-break:break-word}"]}),t})();function _(t,e){if(1&t){const t=r.hc();r.gc(0,"app-pollen-guide",3),r.oc("mouseenter",function(){return r.Sc(t),r.sc().onMouseEnter()})("mouseleave",function(){return r.Sc(t),r.sc().onMouseLeave()}),r.fc()}}let y=(()=>{class t{constructor(t){this.cdr=t,this.isTooltipOpen=!1}ngOnInit(){}onMouseLeave(){this.timeout=setTimeout(()=>{this.isTooltipOpen=!1,this.cdr.markForCheck()},100),this.cdr.detectChanges()}onMouseEnter(){this.timeout=clearTimeout(this.timeout),this.isTooltipOpen=!0,this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.i))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-pollen-guide-tooltip"]],decls:3,vars:2,consts:[["cdkOverlayOrigin","","src","assets/svg/ic-information-circle-outline-gray.svg","width","18","height","18",1,"pollen-guide-tooltip",3,"mouseenter","mouseleave"],["trigger","cdkOverlayOrigin"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],[3,"mouseenter","mouseleave"]],template:function(t,e){if(1&t&&(r.gc(0,"img",0,1),r.oc("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()}),r.fc(),r.dd(2,_,1,0,"ng-template",2)),2&t){const t=r.Oc(1);r.Mb(2),r.Bc("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.isTooltipOpen)}},directives:[u.b,u.a,b],styles:[".pollen-guide-tooltip[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;display:block}"]}),t})();var v=n("VKVi");let w=(()=>{class t{constructor(){this.pollenTypeTrans=i.a.pollen.type,this.POLLEN_TYPE_LABEL_MAP={global:this.pollenTypeTrans.global,tree:this.pollenTypeTrans.treePollen,grass:this.pollenTypeTrans.grassPollen,weed:this.pollenTypeTrans.weedPollen}}transform(t){return this.POLLEN_TYPE_LABEL_MAP[t]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Zb({name:"pollenTypeLabel",type:t,pure:!0}),t})(),x=(()=>{class t{constructor(){this.POLLEN_TYPE_SRC_MAP={global:"ic-pollen-solid-gray-500",tree:"ic-pollen-trees-solid-gray-500",grass:"ic-pollen-grasses-solid-gray-500",weed:"ic-pollen-weeds-solid-gray-500"}}transform(t){return`assets/svg/${this.POLLEN_TYPE_SRC_MAP[t]}.svg`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Zb({name:"pollenTypeSrc",type:t,pure:!0}),t})();var M=n("Tz07");const O=function(t){return{height:t,width:"100%",marginBottom:"-6px"}};function C(t,e){if(1&t&&(r.ec(0),r.gc(1,"app-loading",3),r.rc(),r.bc(2,"rect",4),r.fc(),r.dc()),2&t){const t=r.sc();r.Mb(1),r.Yc(r.Hc(4,O,t.isPollenPage?"535px":"480px")),r.ad("display","block")}}function P(t,e){1&t&&r.bc(0,"app-pollen-guide-tooltip",16)}function I(t,e){if(1&t&&r.bc(0,"h2",19),2&t){const t=r.sc(3);r.Bc("innerHTML",t.title,r.Tc)}}function k(t,e){if(1&t&&(r.ec(0),r.gc(1,"div"),r.dd(2,I,1,1,"h2",17),r.bc(3,"app-pollen-guide-tooltip",16),r.fc(),r.bc(4,"img",18),r.tc(5,"pollenCounterSrc"),r.dc()),2&t){const t=r.sc(2);r.Mb(2),r.Bc("ngIf",t.title),r.Mb(2),r.Bc("src",r.uc(5,2,t.currentPollen.globalIndexLevel),r.Vc)}}function T(t,e){if(1&t&&(r.gc(0,"span"),r.fd(1),r.tc(2,"pollenLevelLabel"),r.fc()),2&t){const t=e.ngIf;r.Mb(1),r.gd(r.uc(2,1,t))}}function L(t,e){if(1&t&&(r.gc(0,"div",20),r.bc(1,"img",21),r.tc(2,"pollenCounterSrc"),r.dd(3,T,3,3,"span",9),r.fc()),2&t){const t=r.sc(2);r.Mb(1),r.Bc("src",r.uc(2,2,null==t.currentPollen?null:t.currentPollen.globalIndexLevel),r.Vc),r.Mb(2),r.Bc("ngIf",null==t.currentPollen?null:t.currentPollen.globalIndexLevel)}}function S(t,e){if(1&t&&(r.gc(0,"span",22),r.fd(1),r.fc()),2&t){const t=r.sc(2);r.Mb(1),r.gd(t.trans.type.text)}}const B=function(t,e){return{pollenType:t,pollenLevel:e}};function q(t,e){if(1&t&&r.cc(0,24),2&t){const t=r.sc().$implicit,e=r.sc(2),n=r.Oc(4);r.Bc("ngTemplateOutlet",n)("ngTemplateOutletContext",r.Ic(2,B,t,e.pollenIndexMap[t]))}}function D(t,e){if(1&t&&(r.ec(0),r.dd(1,q,1,5,"ng-container",23),r.dc()),2&t){const t=e.$implicit,n=r.sc(2);r.Mb(1),r.Bc("ngIf",!n.isPollenPage||n.isPollenPage&&"global"!==t)}}function A(t,e){if(1&t&&(r.gc(0,"a",25),r.fd(1),r.fc()),2&t){const t=r.sc(2);r.Bc("routerLink",t.pollenUrl),r.Mb(1),r.gd(t.trans.card.buttonText)}}function R(t,e){if(1&t&&(r.gc(0,"div",5),r.gc(1,"div",6),r.gc(2,"div"),r.gc(3,"h3",7),r.fd(4),r.tc(5,"replace"),r.fc(),r.dd(6,P,1,0,"app-pollen-guide-tooltip",8),r.fc(),r.dd(7,k,6,4,"ng-container",9),r.dd(8,L,4,4,"div",10),r.fc(),r.gc(9,"div",11),r.dd(10,S,2,1,"span",12),r.gc(11,"table",13),r.gc(12,"tbody"),r.dd(13,D,2,1,"ng-container",14),r.fc(),r.fc(),r.dd(14,A,2,2,"a",15),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(1),r.Sb("is-pollen-page",t.isPollenPage),r.Mb(3),r.hd(" ",t.isPollenPage?r.wc(5,11,t.trans.page.cardSectionTitle,"{cityName}",t.city||(null==t.locationInfo?null:t.locationInfo.name)):t.trans.text," "),r.Mb(2),r.Bc("ngIf",t.isPollenPage),r.Mb(1),r.Bc("ngIf",!t.isPollenPage),r.Mb(1),r.Bc("ngIf",t.isPollenPage),r.Mb(2),r.Bc("ngIf",t.isPollenPage),r.Mb(1),r.Bc("title",t.isPlatformServer?t.title:"")("SeoSchema",t.schemaData),r.Mb(2),r.Bc("ngForOf",t.pollenTypes),r.Mb(1),r.Bc("ngIf",!t.isPollenPage)}}function H(t,e){1&t&&r.bc(0,"div"),2&t&&r.Qb("pollen__content__table__dot ",e.ngIf,"")}function j(t,e){if(1&t&&(r.gc(0,"tr",27),r.gc(1,"td",28),r.bc(2,"img",29),r.tc(3,"pollenTypeSrc"),r.fc(),r.gc(4,"td"),r.gc(5,"span",30),r.fd(6),r.fc(),r.fc(),r.gc(7,"td"),r.gc(8,"span",31),r.fd(9),r.tc(10,"pollenLevelLabel"),r.fc(),r.fc(),r.gc(11,"td"),r.dd(12,H,1,3,"div",32),r.tc(13,"pollenLevelBgColor"),r.fc(),r.fc()),2&t){const t=e.ngIf,n=r.sc(),i=n.pollenType,a=n.pollenLevel;r.Sb("pollen__content__table_row__global-index","global"===i),r.Mb(2),r.Bc("src",r.uc(3,6,i),r.Vc),r.Mb(4),r.gd(t),r.Mb(3),r.gd(r.uc(10,8,a)),r.Mb(3),r.Bc("ngIf",r.uc(13,10,a))}}function z(t,e){1&t&&(r.dd(0,j,14,12,"tr",26),r.tc(1,"pollenTypeLabel")),2&t&&r.Bc("ngIf",r.uc(1,1,e.pollenType))}let K=(()=>{class t{constructor(t,e,n){this.seoSchemaService=t,this.isPlatformServer=e,this.router=n,this.trans=i.a.pollen,this.pollenTypes=["global",...c.a]}ngOnInit(){}ngOnChanges(t){var e,n,i;((null===(e=t.locationInfo)||void 0===e?void 0:e.currentValue)||(null===(n=t.city)||void 0===n?void 0:n.currentValue))&&(this.updateTitleAndSeoData(),this.updatePollenUrl()),(null===(i=t.currentPollen)||void 0===i?void 0:i.currentValue)&&(0===Object.keys(this.currentPollen).length&&this.setDefaultPollen(),this.setPollenIndexMap())}setPollenIndexMap(){const{globalIndexLevel:t,pollens:e}=this.currentPollen,n=e.reduce((t,e)=>(t[e.type]=e.level,t),{global:t});this.pollenIndexMap=n}setDefaultPollen(){this.currentPollen=o.a}updateTitleAndSeoData(){this.title=this.trans.card.title.replace(/{city}/gi,this.city||this.locationInfo.name)}updatePollenUrl(){this.pollenUrl=["/pollen",...this.router.url.split("/").slice(1)]}}return t.\u0275fac=function(e){return new(e||t)(r.ac(s.a),r.ac(a.c),r.ac(l.g))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-pollen"]],inputs:{currentPollen:"currentPollen",locationInfo:"locationInfo",city:"city",isPollenPage:"isPollenPage"},features:[r.Kb],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["pollenTempl",""],["pollenTableRowTempl",""],["preserveAspectRatio","none",1,"pollen"],["x","0","y","0","rx","1","ry","1","width","100%","height","100%"],[1,"pollen"],[1,"pollen__header"],[1,"pollen__header_section-title"],["class","pollen__header_tooltip",4,"ngIf"],[4,"ngIf"],["class","pollen__header__global-index",4,"ngIf"],[1,"pollen__content"],["class","pollen__content__header",4,"ngIf"],[1,"pollen__content__table",3,"title","SeoSchema"],[4,"ngFor","ngForOf"],["class","iqair-contained-button pollen__content__button",3,"routerLink",4,"ngIf"],[1,"pollen__header_tooltip"],["class","pollen__header_title",3,"innerHTML",4,"ngIf"],["width","64","height","64",1,"pollen__header_icon",3,"src"],[1,"pollen__header_title",3,"innerHTML"],[1,"pollen__header__global-index"],["width","164","height","164",3,"src"],[1,"pollen__content__header"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"iqair-contained-button","pollen__content__button",3,"routerLink"],["class","pollen__content__table_row",3,"pollen__content__table_row__global-index",4,"ngIf"],[1,"pollen__content__table_row"],[1,"pollen__content__table__icon"],["width","24","height","24",3,"src"],[1,"pollen__content__table__type"],[1,"pollen__content__table__level"],[3,"class",4,"ngIf"]],template:function(t,e){if(1&t&&(r.dd(0,C,3,6,"ng-container",0),r.dd(1,R,15,15,"ng-template",null,1,r.ed),r.dd(3,z,2,3,"ng-template",null,2,r.ed)),2&t){const t=r.Oc(2);r.Bc("ngIf",!e.currentPollen)("ngIfElse",t)}},directives:[d.o,p.a,g.a,d.n,y,d.t,l.j],pipes:[v.a,f,h.a,w,x,M.a],styles:[".pollen[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);margin-bottom:16px}@media only screen and (min-width:960px){.pollen[_ngcontent-%COMP%]{margin-bottom:24px}}.pollen__header[_ngcontent-%COMP%]{padding:16px;background-color:#f3f7fb;display:grid;grid-template-columns:1fr 64px;grid-column-gap:8px;grid-row-gap:8px}@media only screen and (min-width:960px){.pollen__header[_ngcontent-%COMP%]{padding:24px}}.pollen__header.is-pollen-page[_ngcontent-%COMP%]{background-color:#fff;padding-bottom:0}.pollen__header_section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.pollen__header_section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.pollen__header_title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:18px;line-height:1.44;color:#414141;font-weight:500}@media only screen and (max-width:959.9px){.pollen__header_title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53}}.pollen__header_tooltip[_ngcontent-%COMP%]{margin-left:4px;vertical-align:text-bottom;display:inline-block}.pollen__header_section-title[_ngcontent-%COMP%], .pollen__header_title[_ngcontent-%COMP%]{display:inline}.pollen__header_icon[_ngcontent-%COMP%]{grid-row:1/span 2;grid-column:2;place-self:center}.pollen__header__global-index[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;gap:16px;padding:24px 16px 16px;background-color:#fcfcfd;border:1px solid #eaecf0;border-radius:8px;grid-row:2;grid-column:1/span 2}.pollen__header__global-index[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:164px;height:164px}.pollen__header__global-index[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:18px;line-height:28px;letter-spacing:-.44px}.pollen__content[_ngcontent-%COMP%]{padding:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:8px}@media only screen and (min-width:960px){.pollen__content[_ngcontent-%COMP%]{padding:24px}}.pollen__content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .pollen__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .pollen__content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-collapse:collapse}.pollen__content__header[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:-.12px;color:#667085}.pollen__content__table[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden}.pollen__content__table_row[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid rgba(0,0,0,.08)}.pollen__content__table_row__global-index[_ngcontent-%COMP%]{height:73px;background-color:rgba(243,247,251,.5)}.pollen__content__table_row[_ngcontent-%COMP%]:last-child{border-bottom:none}.pollen__content__table_row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:8px}.pollen__content__table_row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:12px}.pollen__content__table_row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:end;padding-right:12px}.pollen__content__table__icon[_ngcontent-%COMP%]{width:24px;height:24px}.pollen__content__table__type[_ngcontent-%COMP%]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}@supports (-webkit-line-clamp:1){.pollen__content__table__type[_ngcontent-%COMP%]{white-space:normal;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}}.pollen__content__table__level[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;text-align:end}@supports (-webkit-line-clamp:2){.pollen__content__table__level[_ngcontent-%COMP%]{white-space:normal;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}}.pollen__content__table__dot[_ngcontent-%COMP%]{min-width:8px;min-height:8px;max-width:8px;max-height:8px;border-radius:100%}.pollen__content__button[_ngcontent-%COMP%]{width:100%;margin-top:24px}"]}),t})()},"+uPs":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("hl0K"),a=n("8Y7J"),o=n("SVse"),c=n("UNx2"),r=n("d3Oa");function s(t,e){if(1&t&&(a.gc(0,"div",2),a.gc(1,"div",3),a.bc(2,"h3",4),a.gc(3,"p",5),a.fd(4),a.tc(5,"momentDate"),a.fc(),a.bc(6,"h2",6),a.fc(),a.bc(7,"img",7),a.tc(8,"momentDate"),a.fc()),2&t){const t=a.sc();a.Mb(2),a.Bc("innerHTML",t.data.sectionTitle,a.Tc),a.Mb(2),a.gd(a.vc(5,5,t.data.data.ts,"h:mm, MMM D")),a.Mb(2),a.Bc("innerHTML",t.data.title,a.Tc),a.Mb(1),a.Bc("src",t.data.data.link,a.Vc)("alt",null==t.imageAltTrans.webcamAlt?null:t.imageAltTrans.webcamAlt.replace("{city}",t.data.sectionTitle).replace("{time}",a.vc(8,8,t.data.data.ts,"h:mm, MMM D")))}}const l=function(){return{height:"356px",width:"100%",maxWidth:"100%",marginBottom:"-6px"}};function d(t,e){1&t&&(a.ec(0),a.gc(1,"app-loading",8),a.rc(),a.bc(2,"rect",9),a.fc(),a.dc()),2&t&&(a.Mb(1),a.Yc(a.Gc(4,l)),a.ad("display","block"))}let p=(()=>{class t{constructor(){this.isLoading=!1,this.imageAltTrans=i.a.portal.imageAlt}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ub({type:t,selectors:[["app-webcam"]],inputs:{isLoading:"isLoading",data:"data"},decls:2,vars:2,consts:[["class","webcam",4,"ngIf"],[4,"ngIf"],[1,"webcam"],[1,"webcam__title-wrapper"],[1,"webcam__section-title",3,"innerHTML"],[1,"webcam__time"],[1,"webcam__title",3,"innerHTML"],[1,"webcam__thumbnail",3,"src","alt"],["preserveAspectRatio","none",1,"webcam","webcam__loading-container"],["x","0","y","0","rx","1","ry","1","width","500","height","100%"]],template:function(t,e){1&t&&(a.dd(0,s,9,11,"div",0),a.dd(1,d,3,5,"ng-container",1)),2&t&&(a.Bc("ngIf",e.data&&!e.isLoading),a.Mb(1),a.Bc("ngIf",e.isLoading))},directives:[o.o,c.a],pipes:[r.a],styles:[".webcam[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);margin-bottom:16px}@media only screen and (min-width:960px){.webcam[_ngcontent-%COMP%]{margin-bottom:24px}}@media only screen and (max-width:959.9px){.webcam[_ngcontent-%COMP%]{margin-bottom:32px}}.webcam__title-wrapper[_ngcontent-%COMP%]{padding:16px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:wrap;flex-wrap:wrap}@media only screen and (min-width:960px){.webcam__title-wrapper[_ngcontent-%COMP%]{padding:24px;padding-bottom:12px}}.webcam__section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.webcam__section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.webcam__time[_ngcontent-%COMP%]{font-size:12px;line-height:1.5;color:#67788d}.webcam__title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:18px;line-height:1.44;color:#414141;font-weight:500;width:100%;margin-bottom:0}@media only screen and (max-width:959.9px){.webcam__title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53}}.webcam__thumbnail[_ngcontent-%COMP%]{width:100%;height:242px;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.webcam__loading-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between}.webcam__loading-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:16px;padding-bottom:12px!important}@media only screen and (min-width:960px){.webcam__loading-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:24px}}.webcam__loading-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{margin-bottom:-6px}"]}),t})()},"/5Hx":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("/vC6"),a=n("lJxs"),o=n("W8+8"),c=n("8Y7J"),r=n("IheW"),s=n("7Xt/");let l=(()=>{class t{constructor(t,e){this.http=t,this.httpPaginationMapper=e,this.apiUrl=Object(o.a)()}getCitiesByState(t){return this.http.get(`${this.apiUrl}cities/by/stateID/${t}`)}getStateDetail(t,e=!0){let n=`${this.apiUrl}states/${t}`;return e&&(n+="?fields=analysis"),this.http.get(n)}getCitiesRankedByAQI(t,e=i.a.DESC){return this.http.get(`${this.apiUrl}states/${t}/rankings`,{withCredentials:!0,params:{sortOrder:e},observe:"response"}).pipe(Object(a.a)(t=>this.httpPaginationMapper.toPagination(t)))}}return t.\u0275fac=function(e){return new(e||t)(c.kc(r.b),c.kc(s.a))},t.\u0275prov=c.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"/6gA":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("hl0K"),a=n("XcXF"),o=n("Qyzw"),c=n("8Y7J"),r=n("+oQn"),s=n("SVse"),l=n("UNx2"),d=n("rayB"),p=n("eZzD"),g=n("tgU/");const u=function(){return{height:"353px",width:"100%",marginBottom:"-6px"}};function f(t,e){1&t&&(c.ec(0),c.gc(1,"app-loading",2),c.rc(),c.bc(2,"rect",3),c.fc(),c.dc()),2&t&&(c.Mb(1),c.Yc(c.Gc(4,u)),c.ad("display","block"))}function h(t,e){if(1&t&&(c.gc(0,"h2",12),c.fd(1),c.fc()),2&t){const t=c.sc(2);c.Mb(1),c.gd(t.title)}}function m(t,e){if(1&t&&(c.gc(0,"div",4),c.gc(1,"div",5),c.gc(2,"div",6),c.gc(3,"h3",7),c.fd(4),c.fc(),c.dd(5,h,2,1,"h2",8),c.fc(),c.bc(6,"img",9),c.tc(7,"weatherIcon"),c.fc(),c.gc(8,"div",10),c.gc(9,"table",11),c.gc(10,"tbody"),c.gc(11,"tr"),c.gc(12,"td"),c.fd(13),c.fc(),c.gc(14,"td"),c.fd(15),c.fc(),c.fc(),c.gc(16,"tr"),c.gc(17,"td"),c.fd(18),c.fc(),c.gc(19,"td"),c.fd(20),c.tc(21,"units"),c.fc(),c.fc(),c.gc(22,"tr"),c.gc(23,"td"),c.fd(24),c.fc(),c.gc(25,"td"),c.fd(26),c.fc(),c.fc(),c.gc(27,"tr"),c.gc(28,"td"),c.fd(29),c.fc(),c.gc(30,"td"),c.fd(31),c.tc(32,"units"),c.fc(),c.fc(),c.gc(33,"tr"),c.gc(34,"td"),c.fd(35),c.fc(),c.gc(36,"td"),c.fd(37),c.tc(38,"units"),c.fc(),c.fc(),c.fc(),c.fc(),c.fc(),c.fc()),2&t){const t=c.sc();c.Mb(4),c.gd(t.trans.weather),c.Mb(1),c.Bc("ngIf",t.title),c.Mb(1),c.Bc("src",c.vc(7,19,t.data.icon,"full"),c.Vc)("alt",t.imageAltTrans.weatherIconAlt),c.Mb(3),c.Bc("title",t.isPlatformServer?t.title:"")("SeoSchema",t.schemaData),c.Mb(4),c.gd(t.trans.weather),c.Mb(2),c.gd(t.data.condition),c.Mb(3),c.gd(t.trans.temperature),c.Mb(2),c.id("",t.data.temperature,"",c.uc(21,22,t.Unit.Temperature),""),c.Mb(4),c.gd(t.trans.humidity),c.Mb(2),c.hd("",t.data.humidity,"%"),c.Mb(3),c.gd(t.trans.wind),c.Mb(2),c.id("",t.data.wind.speed," ",c.uc(32,24,t.Unit.Speed),""),c.Mb(4),c.gd(t.trans.pressure),c.Mb(2),c.id("",t.data.pressure," ",c.uc(38,26,t.Unit.Pressure),"")}}let b=(()=>{class t{constructor(t,e){this.seoSchemaService=t,this.isPlatformServer=e,this.trans=i.a.weatherComp,this.imageAltTrans=i.a.portal.imageAlt,this.dataLoading=!0,this.isLoading=!1,this.Unit=a.p}ngOnInit(){}ngOnChanges(t){(t.locationInfo&&t.locationInfo.currentValue||t.city&&t.city.currentValue)&&this.updateVariablesAndSeoData(),t.data&&t.data.currentValue&&(this.dataLoading=!1)}updateVariablesAndSeoData(){this.locationInfo&&(this.title="station"===this.locationInfo.type&&this.city?this.trans.titleStation.replace(/{station}/gi,this.locationInfo.name).replace(/{city}/gi,this.city):this.trans.title.replace(/{location}/gi,this.locationInfo.name)),this.locationInfo&&this.locationInfo.name&&this.locationInfo.type&&this.seoKeywords&&(this.schemaData=this.seoSchemaService.createSchema("Table",this.title,this.seoSchemaService.createKeywords(this.seoKeywords,this.locationInfo.type,this.locationInfo.name)))}}return t.\u0275fac=function(e){return new(e||t)(c.ac(r.a),c.ac(o.c))},t.\u0275cmp=c.Ub({type:t,selectors:[["app-weather"]],inputs:{locationInfo:"locationInfo",data:"data",isLoading:"isLoading",city:"city",seoKeywords:"seoKeywords"},features:[c.Kb],decls:2,vars:2,consts:[[4,"ngIf"],["class","weather",4,"ngIf"],["preserveAspectRatio","none",1,"weather"],["x","0","y","0","rx","1","ry","1","width","100%","height","100%"],[1,"weather"],[1,"weather__summary"],[1,"weather__summary__title-block"],[1,"section-title"],["class","title",4,"ngIf"],["width","80","height","80",1,"weather__icon",3,"src","alt"],[1,"weather__detail"],[3,"title","SeoSchema"],[1,"title"]],template:function(t,e){1&t&&(c.dd(0,f,3,5,"ng-container",0),c.dd(1,m,39,28,"div",1)),2&t&&(c.Bc("ngIf",e.isLoading||e.dataLoading),c.Mb(1),c.Bc("ngIf",!e.isLoading&&!e.dataLoading))},directives:[s.o,l.a,d.a],pipes:[p.a,g.a],styles:[".weather[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);margin-bottom:16px}@media only screen and (min-width:960px){.weather[_ngcontent-%COMP%]{margin-bottom:24px}}.weather__summary[_ngcontent-%COMP%]{padding:16px;background-color:#f3f7fb;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@media only screen and (min-width:960px){.weather__summary[_ngcontent-%COMP%]{padding:24px}}.weather__summary__title-block[_ngcontent-%COMP%]{margin-right:16px}.weather__summary__title-block[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.weather__summary__title-block[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.weather__summary__title-block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:18px;line-height:1.44;color:#414141;font-weight:500}@media only screen and (max-width:959.9px){.weather__summary__title-block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53}}.weather__icon[_ngcontent-%COMP%]{min-width:64px;max-width:64px;min-height:64px;max-height:64px}@media only screen and (min-width:960px){.weather__icon[_ngcontent-%COMP%]{min-width:80px;max-width:80px;min-height:80px;max-height:80px}}.weather__detail[_ngcontent-%COMP%]{padding:16px}@media only screen and (min-width:960px){.weather__detail[_ngcontent-%COMP%]{padding:24px}}.weather__detail[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .weather__detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .weather__detail[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-collapse:collapse}.weather__detail[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.weather__detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:6px 0;height:36px}.weather__detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.weather__detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #e6e6e6}.weather__detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){text-align:right;font-weight:500}.weather-loading[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);padding:16px;margin-bottom:16px}@media only screen and (min-width:960px){.weather-loading[_ngcontent-%COMP%]{padding:24px;margin-bottom:24px}}"]}),t})()},"0fZB":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("hl0K"),a=n("8Y7J"),o=n("iInd"),c=n("SVse"),r=n("UNx2");const s=function(){return{height:"204px",maxWidth:"100%",width:"100%"}};function l(t,e){1&t&&(a.gc(0,"div",2),a.gc(1,"app-loading",3),a.rc(),a.bc(2,"rect",4),a.fc(),a.fc()),2&t&&(a.ad("height","204px"),a.Mb(1),a.Yc(a.Gc(4,s)))}function d(t,e){if(1&t&&a.bc(0,"h2",13),2&t){const t=a.sc(2);a.Bc("innerHTML",t.title,a.Tc)}}function p(t,e){if(1&t&&(a.gc(0,"h3",14),a.fd(1),a.fc()),2&t){const t=a.sc(2);a.Mb(1),a.gd(t.subTitle)}}function g(t,e){if(1&t&&(a.gc(0,"a",5),a.gc(1,"picture"),a.bc(2,"source",6),a.bc(3,"img",7),a.fc(),a.gc(4,"div",8),a.dd(5,d,1,1,"h2",9),a.dd(6,p,2,1,"h3",10),a.gc(7,"div",11),a.fd(8),a.fc(),a.fc(),a.bc(9,"div",12),a.fc()),2&t){const t=a.sc();a.Bc("routerLink",t.mapUrl)("queryParams","station"===t.locationInfo.type?t.params:""),a.Mb(2),a.Ec("srcset","\n        ",t.backgroundImg,"1x.webp,\n        ",t.backgroundImg,"2x.webp 2x\n      ",a.Vc),a.Mb(1),a.Dc("src","",t.backgroundImg,"1x.jpg",a.Vc),a.Ec("srcset","\n        ",t.backgroundImg,"1x.jpg,\n        ",t.backgroundImg,"2x.jpg 2x\n      ",a.Vc),a.Bc("alt",t.imageAltTrans.mapLinkAlt),a.Mb(2),a.Bc("ngIf",t.title),a.Mb(1),a.Bc("ngIf",t.subTitle),a.Mb(2),a.gd(t.trans.button)}}let u=(()=>{class t{constructor(t){this.router=t,this.isLoading=!1,this.trans=i.a.mapLinkComp,this.imageAltTrans=i.a.portal.imageAlt,this.mapUrl=["/air-quality-map"],this.imageUrl={city:"/assets/img/air-quality-map/iqair-pollution-map-city-preview@",station:"/assets/img/air-quality-map/iqair-pollution-map-station-preview@"},this.backgroundImg=this.imageUrl.city}ngOnInit(){}ngOnChanges(t){if(t.locationInfo&&t.locationInfo.currentValue){const e=t.locationInfo.currentValue.name;"station"===this.locationInfo.type?(this.title=this.trans.titleStation,this.subTitle=this.trans.subTitle.replace(/{location}/gi,e),this.backgroundImg=this.imageUrl.station):(this.title=this.trans.title.replace(/{location}/gi,`${t.locationInfo.currentValue.name}`),this.subTitle=this.trans.subTitle.replace(/{location}/gi,t.locationInfo.currentValue.name),this.setMapUrl()),this.params=t.locationInfo.currentValue.map,this.params.placeId=t.locationInfo.currentValue.id}}setMapUrl(){const t=this.router.url.split("?")[0];this.mapUrl=["/air-quality-map",...t.split("/").slice(1)]}}return t.\u0275fac=function(e){return new(e||t)(a.ac(o.g))},t.\u0275cmp=a.Ub({type:t,selectors:[["app-map-link"]],inputs:{locationInfo:"locationInfo",isLoading:"isLoading",city:"city"},features:[a.Kb],decls:2,vars:2,consts:[["class","map-link__loading",3,"height",4,"ngIf"],["class","map-link",3,"routerLink","queryParams",4,"ngIf"],[1,"map-link__loading"],["preserveAspectRatio","none"],["x","0","y","0","rx","4","ry","4","height","100%","width","100%"],[1,"map-link",3,"routerLink","queryParams"],["type","image/webp",3,"srcset"],[1,"map-link__image",3,"src","srcset","alt"],[1,"map-link__container"],["class","map-link__title",3,"innerHTML",4,"ngIf"],["class","map-link__section-title",4,"ngIf"],[1,"map-link__button"],[1,"map-link__gradient"],[1,"map-link__title",3,"innerHTML"],[1,"map-link__section-title"]],template:function(t,e){1&t&&(a.dd(0,l,3,5,"div",0),a.dd(1,g,10,11,"a",1)),2&t&&(a.Bc("ngIf",e.isLoading),a.Mb(1),a.Bc("ngIf",!e.isLoading))},directives:[c.o,r.a,o.j],styles:[".map-link[_ngcontent-%COMP%]{border-radius:4px;margin-bottom:16px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);position:relative;overflow:hidden;height:484px;display:block;width:100%}@media only screen and (min-width:960px){.map-link[_ngcontent-%COMP%]{margin-bottom:24px}}.map-link[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{-ms-transform:scale(1.1);transform:scale(1.1)}.map-link__container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0 24px 24px;width:100%;position:absolute;bottom:0;z-index:1}.map-link__image[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;max-width:100%;max-height:100%;width:100%;height:100%;position:absolute;top:0;left:0;transition:transform 2s ease-out}.map-link__gradient[_ngcontent-%COMP%]{width:100%;height:calc(100% - 120px);position:absolute;left:0;bottom:0;border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);background-image:linear-gradient(0deg,rgba(0,0,0,.9),rgba(0,0,0,0))}.map-link__title[_ngcontent-%COMP%]{font-size:12px;font-weight:700;line-height:1.5;letter-spacing:.9px;color:#499fbc;text-transform:uppercase;margin-bottom:8px}.map-link__section-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:1.4;color:#fff;margin-bottom:32px}.map-link__button[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:1.5;letter-spacing:1.2px;text-align:center;color:#fff;text-transform:uppercase;padding:9px 16px;border-radius:4px;border:1px solid #fff;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.map-link__loading[_ngcontent-%COMP%]{margin-bottom:16px}@media only screen and (min-width:960px){.map-link__loading[_ngcontent-%COMP%]{margin-bottom:24px}}"]}),t})()},"6GZ2":function(t,e,n){"use strict";n.d(e,"a",function(){return j});var i=n("SVse"),a=n("vZId"),o=n("mqpS"),c=n("YmWJ"),r=n("fom2"),s=n("iInd"),l=n("8Y7J");let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[r.a,s.k]]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[r.a]]}),t})();var g=n("+8+C"),u=n("ZFy/");let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[r.a,d,p,g.a,u.b]]}),t})();var h=n("5otf");let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[r.a,s.k]]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[r.a]]}),t})();var _=n("d3Oa"),y=n("tHmd"),v=n("AwV4"),w=n("9bpR"),x=n("nrLR");let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({providers:[_.a],imports:[[r.a,s.k,y.a,v.a,w.a,x.a]]}),t})();var O=n("Dxy4"),C=n("O9Qi");let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[r.a,O.c,C.a]]}),t})();var I=n("MhZw"),k=n("of2w"),T=n("fSsK");let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[r.a]]}),t})();var S=n("7p/T"),B=n("OXVl"),q=n("+Ui3"),D=n("Z5jp"),A=n("CnWT");let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[i.c]]}),t})();var H=n("fsAK");let j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[i.c,a.a,o.a,H.a,c.a,f,h.a,m,b,M,P,I.a,k.a,T.a,L,S.a,B.a,q.a,D.a,A.a,R],i.c,H.a,a.a,o.a,c.a,f,h.a,m,b,M,P,I.a,k.a,T.a,L,S.a,B.a,q.a,D.a,A.a,R]}),t})()},"9bpR":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fom2"),a=n("8Y7J");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[i.a]]}),t})()},"C+KZ":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n("SVse"),a=n("8Y7J"),o=n("jtHE"),c=n("hl0K"),r=n("fD1e"),s=n("iInd"),l=n("cUpR"),d=n("sJRQ"),p=n("QGOA"),g=n("RdO4"),u=n("uK2+"),f=n("ShgS"),h=n("2qh6");let m=(()=>{class t extends r.a{constructor(t,e,n,i,a,c,r,s,l,d){super(t,n,i,c,d,r,l),this.platformId=t,this.router=e,this.transferState=n,this.seoService=i,this.countryService=a,this.replacementService=c,this.websiteService=r,this.drupalJsonApi=s,this.changeDetectorRef=l,this.analysisService=d,this.pageTitle={subNewLine:!0},this.followAction={type:"station",id:this.id},this.hourlyForecast=new o.a(1),this.historicalData=new o.a(1),this.currentMeasurementSubj=new o.a(1),this.recommendations=[],this.weatherSubj=new o.a(1),this.dailyForecastSubj=new o.a(1),this.historySubj=new o.a(1),this.forecasts=[],this.deferLoad={aqiMap:!1,daily:!1,hourly:!1,freeTools:!1,pollutant:!1,ranking:!1,tags:!1,contributors:!1,banner:!1,ctaDownload:!1},this.isBrowser=!1,this.hasLowCostSensor=!1}ngOnInit(){this.isBrowser=Object(i.B)(this.platformId)}ngOnChanges(t){t.id&&(this.followAction={type:this.type,id:this.id},this.pollutantData={type:this.type,id:this.id},super.init()),super.ngOnChanges(t)}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}setLocalityData(t){super.setMainData(t),this.localAnalysis=t.analysis,this.setContributorsAndSources(t),this.pageTitleData={title:t.name,time:{ts:t.current.ts,tz:t.timezone},hadFollower:!0,followers:t.followers,hadFollowButton:!0,followAction:{id:t.id,type:this.type},hadExtensionButton:!0,isDailyAverage:null==t?void 0:t.isDailyAverage},this.time.ts=t.current.ts,this.time.tz=t.timezone,this.locationInfo={id:t.id,name:t.name,type:t.type,map:{lat:t.coordinates.latitude,lng:t.coordinates.longitude,zoomLevel:t.zoomLevel}},t.hasOwnProperty("current")&&(this.currentMeasurementSubj.next(t.current),this.weatherSubj.next({icon:t.current.icon,condition:t.current.condition,temperature:t.current.temperature,humidity:t.current.humidity,wind:t.current.wind,pressure:t.current.pressure})),t.hasOwnProperty("coordinate")&&(this.coordinate=t.coordinate),t.hasOwnProperty("recommendations")&&(this.recommendations=t.recommendations),t.hasOwnProperty("forecasts")&&t.forecasts.daily&&this.dailyForecastSubj.next(t.forecasts.daily),t.hasOwnProperty("country")&&t.hasOwnProperty("countryID")&&this.prepareCityRankingOfCountry(t.countryID,t.country),t.hasOwnProperty("hasLowCostSensor")&&(this.hasLowCostSensor=t.hasLowCostSensor),this.setSeoAndTranslations(t),this.prepareWebcam(t),this.prepareStationRankingOfCity(t),this.buildPollutantsLastHourAgo(),this.fetchDrupalPlaceAnalysis()}setContributorsAndSources(t){super.setContributorsAndSources(t);let e=!1;t.label?this.contributorLabel=t.label:t.current&&t.current.pollutants&&t.current.pollutants[0]&&(e=t.current.pollutants[0].estimated),this.isEstimated=e}setHistoryDataTemplate(t){t.measurements.hasOwnProperty("daily")&&this.historySubj.next(t.measurements.daily.slice(-4)),t.measurements.hasOwnProperty("hourly")&&(this.twoLastHoursSamplePollutantData=t.measurements.hourly.slice(-2),this.buildPollutantsLastHourAgo())}buildPollutantsLastHourAgo(){this.twoLastHoursSamplePollutantData&&this.time&&this.time.ts&&this.setLastHourData()}setLastHourData(){for(const t of this.twoLastHoursSamplePollutantData){const e=new Date(this.time.ts).getTime(),n=new Date(t.ts).getTime(),i=Math.abs(e-n)>=36e5,a=Math.abs(e-n)<72e5;i&&a&&(this.pollutantsOneHourAgo=this.formatAqiAsANormalPollutant(t))}}formatAqiAsANormalPollutant(t){if(t){const e=t.aqi;return"number"==typeof e&&(t.aqi={aqi:e,concentration:e}),t.hasOwnProperty("ts")&&Object(i.B)(this.platformId)&&delete t.ts,t}}prepareCityRankingOfCountry(t,e){const n=c.a.aqiRankingComp.cityOfCountry;this.cityOfCountryRanking={sectionTitle:n.sectionTitle,title:this.replacementService.replaceLocation(n.title,"{location}",e,"country"),data:this.countryService.getCitiesRankedByAQI(t)}}fetchDrupalPlaceAnalysis(){let t=this.router.url.split("?")[0];t=t.split("#")[0],this.drupalJsonApi.getIQAirPlaceAnalysisByPath(t).subscribe(t=>{var e,n,i,a;(null===(a=null===(i=null===(n=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e[0])||void 0===n?void 0:n.attributes)||void 0===i?void 0:i.body)||void 0===a?void 0:a.value)&&(this.localAnalysis=t.data[0].attributes.body.value)})}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(a.ac(a.J),a.ac(s.g),a.ac(l.f),a.ac(d.a),a.ac(p.a),a.ac(g.a),a.ac(u.a),a.ac(f.a),a.ac(a.i),a.ac(h.a))},t.\u0275dir=a.Vb({type:t,features:[a.Jb,a.Kb]}),t})()},EXyO:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("hl0K"),a=n("8Y7J");let o=(()=>{class t{constructor(){this.trans=i.a.activeFireAlertComp,this.iconUrl="./assets/img/map-clusterer/ic-fire-map-cluster-alert.svg",this.mapLinkLabel=this.trans.mapLink}ngOnInit(){}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ub({type:t,selectors:[["nearest-alert-banner"]],inputs:{alertData:"alertData"},decls:7,vars:4,consts:[[1,"alert-banner"],[1,"alert-banner__wrapper"],["alt","Alert banner icon",3,"src"],[1,"alert-banner__title"],[1,"alert-banner__link",3,"href"]],template:function(t,e){1&t&&(a.gc(0,"div",0),a.gc(1,"div",1),a.bc(2,"img",2),a.gc(3,"span",3),a.fd(4),a.fc(),a.fc(),a.gc(5,"a",4),a.fd(6),a.fc(),a.fc()),2&t&&(a.Mb(2),a.Bc("src",null==e.alertData?null:e.alertData.markerIconUrl,a.Vc),a.Mb(2),a.hd("",e.alertData.title," "),a.Mb(1),a.Bc("href",null==e.alertData||null==e.alertData.redirection?null:e.alertData.redirection.mapLink,a.Vc),a.Mb(1),a.hd(" ",e.mapLinkLabel," "))},styles:[".alert-banner[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);-ms-flex-pack:justify;justify-content:space-between;margin-bottom:24px;padding:16px 24px}.alert-banner[_ngcontent-%COMP%], .alert-banner__wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.alert-banner__wrapper[_ngcontent-%COMP%]{gap:16px}.alert-banner__wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.alert-banner__title[_ngcontent-%COMP%]{font-weight:500}.alert-banner__link[_ngcontent-%COMP%]{text-transform:uppercase;text-decoration:none;color:#49739a;font-weight:500;text-align:end;font-size:12px}"]}),t})()},"FEk/":function(t,e,n){"use strict";n.d(e,"a",function(){return V});var i=n("SVse"),a=n("8Y7J"),o=n("hl0K"),c=n("XcXF"),r=n("BPAf"),s=n("+oQn"),l=n("cnTW"),d=n("UNx2"),p=n("iInd"),g=n("rayB"),u=n("FbiL"),f=n("FHMm"),h=n("K9xh"),m=n("LdOu");let b=(()=>{class t{transform(t,e,n){return n?e:t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Zb({name:"aqiUseValue",type:t,pure:!0}),t})();var _=n("d3Oa"),y=n("g8r5"),v=n("NLHw"),w=n("tgU/"),x=n("O1EI");function M(t,e){1&t&&(a.ec(0),a.gc(1,"app-loading",3),a.rc(),a.bc(2,"rect",4),a.bc(3,"rect",5),a.bc(4,"rect",6),a.bc(5,"rect",7),a.bc(6,"rect",8),a.fc(),a.dc()),2&t&&(a.Mb(1),a.ad("display","block"))}function O(t,e){if(1&t&&(a.gc(0,"h3",18),a.fd(1),a.fc()),2&t){const t=a.sc(2);a.Mb(1),a.hd(" ",t.sectionTitle," ")}}function C(t,e){if(1&t&&a.bc(0,"h2",19),2&t){const t=a.sc(2);a.Bc("innerHTML",t.title,a.Tc)}}function P(t,e){if(1&t&&(a.gc(0,"p",20),a.fd(1),a.fc()),2&t){const t=a.sc(2);a.Mb(1),a.gd(t.errorMsgTrans.noForecastData)}}function I(t,e){1&t&&a.cc(0)}const k=function(t,e){return{forecast:t,isToday:e}};function T(t,e){if(1&t&&(a.ec(0),a.dd(1,I,1,0,"ng-container",23),a.tc(2,"isToday"),a.dc()),2&t){const t=a.sc().$implicit,e=a.sc(3),n=a.Oc(3);a.Mb(1),a.Bc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.Ic(5,k,t,a.vc(2,2,t.ts,e.timezone)))}}function L(t,e){if(1&t&&(a.ec(0),a.dd(1,T,3,8,"ng-container",0),a.dc()),2&t){const t=e.$implicit;a.Mb(1),a.Bc("ngIf",t.aqi)}}function S(t,e){1&t&&a.cc(0)}function B(t,e){if(1&t&&(a.ec(0),a.dd(1,S,1,0,"ng-container",23),a.tc(2,"isToday"),a.dc()),2&t){const t=a.sc().$implicit,e=a.sc(3),n=a.Oc(3);a.Mb(1),a.Bc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.Ic(5,k,t,a.vc(2,2,t.ts,e.timezone)))}}function q(t,e){if(1&t&&(a.ec(0),a.dd(1,B,3,8,"ng-container",0),a.dc()),2&t){const t=e.$implicit;a.Mb(1),a.Bc("ngIf",t.aqi)}}function D(t,e){if(1&t&&(a.gc(0,"table",21),a.gc(1,"thead"),a.gc(2,"tr"),a.gc(3,"th"),a.fd(4),a.fc(),a.gc(5,"th"),a.fd(6),a.fc(),a.gc(7,"th"),a.fd(8),a.fc(),a.gc(9,"th"),a.fd(10),a.fc(),a.gc(11,"th"),a.fd(12),a.fc(),a.fc(),a.fc(),a.gc(13,"tbody"),a.dd(14,L,2,1,"ng-container",22),a.dd(15,q,2,1,"ng-container",22),a.fc(),a.fc()),2&t){const t=a.sc(2);a.Bc("title",t.isPlatformBrowser?"":t.title)("SeoSchema",t.schemaData),a.Mb(4),a.gd(t.dayTrans.day),a.Mb(2),a.gd(t.trans.tableHeader.pollutionLevel),a.Mb(2),a.gd(t.trans.tableHeader.weather),a.Mb(2),a.gd(t.trans.tableHeader.temperature),a.Mb(2),a.gd(t.trans.tableHeader.wind),a.Mb(2),a.Bc("ngForOf",t.historyData),a.Mb(1),a.Bc("ngForOf",t.forecastData)}}function A(t,e){if(1&t&&(a.gc(0,"h3",18),a.fd(1),a.fc()),2&t){const t=a.sc(2);a.Mb(1),a.hd(" ",t.sectionTitleHistorical," ")}}function R(t,e){if(1&t&&(a.gc(0,"h2",24),a.fd(1),a.fc()),2&t){const t=a.sc(2);a.Mb(1),a.hd(" ",t.historyTitle," ")}}const H=function(){return["/air-quality-app"]};function j(t,e){if(1&t&&(a.gc(0,"div",9),a.dd(1,O,2,1,"h3",10),a.dd(2,C,1,1,"h2",11),a.gc(3,"div",12),a.dd(4,P,2,1,"p",13),a.dd(5,D,16,9,"table",14),a.fc(),a.gc(6,"p",15),a.fd(7),a.gc(8,"a",16),a.fd(9),a.fc(),a.fc(),a.dd(10,A,2,1,"h3",10),a.dd(11,R,2,1,"h2",17),a.zc(12),a.fc()),2&t){const t=a.sc();a.Mb(1),a.Bc("ngIf",t.sectionTitle),a.Mb(1),a.Bc("ngIf",t.title),a.Mb(2),a.Bc("ngIf",!t.historyData),a.Mb(1),a.Bc("ngIf",t.historyData),a.Mb(2),a.hd(" ",t.trans.getHourlyForcast," "),a.Mb(1),a.Bc("routerLink",a.Gc(9,H)),a.Mb(1),a.gd(t.trans.getAppText),a.Mb(1),a.Bc("ngIf",t.sectionTitleHistorical),a.Mb(1),a.Bc("ngIf",t.historyTitle)}}function z(t,e){if(1&t&&a.bc(0,"app-forecast-weather",30),2&t){const t=e.ngIf,n=a.sc(2).forecast;a.Bc("weatherIcon",t)("probabilityOfRain",n.probabilityOfRain)}}function K(t,e){1&t&&a.bc(0,"app-forecast-temperature",31),2&t&&a.Bc("temperature",e.ngIf)}function F(t,e){1&t&&a.bc(0,"app-forecast-wind",32),2&t&&a.Bc("wind",e.ngIf)}function U(t,e){if(1&t&&(a.ec(0),a.gc(1,"tr"),a.gc(2,"td"),a.fd(3),a.tc(4,"momentDate"),a.fc(),a.gc(5,"td"),a.gc(6,"div"),a.tc(7,"aqiFgBgColorClass"),a.gc(8,"p",25),a.gc(9,"strong"),a.fd(10),a.tc(11,"aqiText"),a.fc(),a.gc(12,"span"),a.gc(13,"b"),a.fd(14),a.fc(),a.fd(15),a.tc(16,"units"),a.fc(),a.fc(),a.bc(17,"img",26),a.tc(18,"aqiFace"),a.fc(),a.fc(),a.gc(19,"td"),a.dd(20,z,1,2,"app-forecast-weather",27),a.fc(),a.gc(21,"td"),a.dd(22,K,1,1,"app-forecast-temperature",28),a.fc(),a.gc(23,"td"),a.dd(24,F,1,1,"app-forecast-wind",29),a.fc(),a.fc(),a.dc()),2&t){const t=e.$implicit,n=a.sc(),i=n.isToday,o=n.forecast,c=a.sc();a.Mb(1),a.Sb("today",i),a.Mb(2),a.gd(a.xc(4,22,o.ts,"dddd, MMM D",c.timezone,!0)),a.Mb(3),a.Qb("pollutant-level-wrapper ",a.uc(7,27,t),""),a.Mb(4),a.hd("",a.uc(11,29,t),"\xa0"),a.Mb(4),a.gd(t),a.Mb(1),a.hd(" ",a.vc(16,31,c.Unit.AQI,c.unitAqi),""),a.Mb(2),a.Bc("src",a.uc(18,34,t),a.Vc)("alt",c.imageAltTrans.aqiFaceAlt),a.Mb(2),a.Sb("no-forecast",!o.icon)("text-align","left"),a.Mb(1),a.Bc("ngIf",o.icon),a.Mb(1),a.Sb("no-forecast",!o.temperature),a.Mb(1),a.Bc("ngIf",o.temperature),a.Mb(1),a.Sb("no-forecast",!o.wind),a.Mb(1),a.Bc("ngIf",o.wind)}}const E=function(t){return[t]};function N(t,e){if(1&t&&(a.dd(0,U,25,36,"ng-container",22),a.tc(1,"aqiUseValue")),2&t){const t=e.forecast,n=e.isToday,i=a.sc();a.Bc("ngForOf",a.Hc(5,E,a.wc(1,1,t.aqi,i.currentAqi,n)))}}const Y=["*"];let V=(()=>{class t{constructor(t,e,n,a){this.platformId=t,this.userPref=e,this.seoSchemaService=n,this.util=a,this.trans=o.a.forecastComp,this.errorMsgTrans=o.a.portal.core,this.imageAltTrans=o.a.portal.imageAlt,this.dayTrans=o.a.dateShortPipe,this.historyDataLoading=!0,this.forecastDataLoading=!0,this.dataLoading=!0,this.isLoading=!1,this.sectionTitle=this.trans.sectionTitle,this.sectionTitleHistorical=this.trans.sectionTitleHistorical,this.unitAqi="US",this.mergedData=[],this.Unit=c.p,this.isPlatformBrowser=Object(i.B)(this.platformId)}ngOnInit(){this.isPlatformBrowser&&(this.unitAqi=this.userPref.AQI)}ngOnChanges(t){var e,n;if(t.locationInfo&&t.locationInfo.currentValue||t.title&&t.title.currentValue){const e=t.locationInfo.currentValue.name;"station"===this.locationInfo.type?(this.title=this.trans.titleStation.replace(/{station}/gi,e).replace(/{city}/gi,this.city),this.historyTitle=this.trans.historyTitleStation.replace(/{station}/gi,e).replace(/{city}/gi,this.city)):(this.title=this.trans.title.replace(/{location}/gi,e),this.historyTitle=this.trans.historyTitle.replace(/{location}/gi,e)),this.schemaData=this.seoSchemaService.createSchema("Table",this.title,this.seoSchemaService.createKeywords(this.seoKeywords,this.locationInfo.type,e))}(null===(e=null==t?void 0:t.historyData)||void 0===e?void 0:e.currentValue)&&(this.historyDataLoading=!1,this.checkAllDataAvailable()),(null===(n=null==t?void 0:t.forecastData)||void 0===n?void 0:n.currentValue)&&(this.forecastDataLoading=!1,this.checkAllDataAvailable())}checkAllDataAvailable(){if(this.dataLoading=this.historyDataLoading&&this.forecastDataLoading,!this.dataLoading&&this.historyData&&this.forecastData){const t=this.forecastData[0],e=this.historyData.length-1,n=this.historyData[e];n&&this.util.isToday(n.ts,this.timezone)&&this.util.isToday(t.ts,this.timezone)?this.historyData.splice(e):this.historyData=[...this.historyData.splice(-3)]}}}return t.\u0275fac=function(e){return new(e||t)(a.ac(a.J),a.ac(r.b),a.ac(s.a),a.ac(l.a))},t.\u0275cmp=a.Ub({type:t,selectors:[["app-aqi-forecast"]],inputs:{locationInfo:"locationInfo",historyData:"historyData",forecastData:"forecastData",currentAqi:"currentAqi",timezone:"timezone",isLoading:"isLoading",city:"city",seoKeywords:"seoKeywords"},features:[a.Kb],ngContentSelectors:Y,decls:4,vars:2,consts:[[4,"ngIf"],["class","aqi-forecast","id","forecast",4,"ngIf"],["airForecast",""],["height","448.5",1,"aqi-forecast"],["x","0","y","0","rx","1","ry","1","width","100","height","19"],["x","0","rx","1","ry","1","width","400","y","28","height","136.8"],["x","152.5","y","232","rx","1","ry","1","width","85","height","17"],["x","0","y","265","rx","1","ry","1","width","400","height","150"],["x","142.5","y","430","rx","1","ry","1","width","115","height","17"],["id","forecast",1,"aqi-forecast"],["class","aqi-forecast__section-title",4,"ngIf"],["class","aqi-forecast__title",3,"innerHTML",4,"ngIf"],[1,"table-wrapper"],["class","no-data-error-msg",4,"ngIf"],["class","aqi-forecast__weekly-forecast-table",3,"title","SeoSchema",4,"ngIf"],[1,"aqi-forecast__get-app-text"],[3,"routerLink"],["class","aqi-forecast__history-title",4,"ngIf"],[1,"aqi-forecast__section-title"],[1,"aqi-forecast__title",3,"innerHTML"],[1,"no-data-error-msg"],[1,"aqi-forecast__weekly-forecast-table",3,"title","SeoSchema"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"aqi-forecast__history-title"],[1,"status-text"],[1,"face-icon",3,"src","alt"],[3,"weatherIcon","probabilityOfRain",4,"ngIf"],[3,"temperature",4,"ngIf"],[3,"wind",4,"ngIf"],[3,"weatherIcon","probabilityOfRain"],[3,"temperature"],[3,"wind"]],template:function(t,e){1&t&&(a.Ac(),a.dd(0,M,7,2,"ng-container",0),a.dd(1,j,13,10,"div",1),a.dd(2,N,2,7,"ng-template",null,2,a.ed)),2&t&&(a.Bc("ngIf",e.dataLoading),a.Mb(1),a.Bc("ngIf",!e.dataLoading))},directives:[i.o,d.a,p.j,g.a,i.n,i.t,u.a,f.a,h.a],pipes:[m.a,b,_.a,y.a,v.a,w.a,x.a],styles:[".aqi-forecast[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);padding:16px;margin-bottom:16px}@media only screen and (min-width:960px){.aqi-forecast[_ngcontent-%COMP%]{padding:24px;margin-bottom:56px}}.aqi-forecast__section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.aqi-forecast__section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.aqi-forecast__title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:20px;line-height:1.4;color:#414141;font-weight:500;letter-spacing:normal;margin-bottom:32px}@media only screen and (max-width:959.9px){.aqi-forecast__title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53;margin-bottom:16px}}.aqi-forecast__history-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:20px;line-height:1.4;color:#414141;font-weight:500;letter-spacing:normal;margin-bottom:32px;line-height:1.35}@media only screen and (max-width:959.9px){.aqi-forecast__history-title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53;margin-bottom:16px}}.aqi-forecast[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .aqi-forecast[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .aqi-forecast[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-collapse:collapse}.aqi-forecast[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{max-width:100%;max-height:388px;margin-bottom:10px;overflow-y:hidden}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]{min-width:702px;color:#414141;margin-bottom:10px}@media only screen and (min-width:1140px){.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]{width:99.99%}}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{min-height:48px;max-height:48px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(3)   td[_ngcontent-%COMP%]{max-height:44px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   .no-forecast[_ngcontent-%COMP%]{min-height:48px;background-color:#f8f8f8}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   .no-forecast.bot-margin[_ngcontent-%COMP%]{min-height:46px;margin-bottom:2px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block;border:1px solid rgba(0,0,0,.1);border-radius:2px;overflow-y:auto;max-height:340px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:152px;text-align:left;padding-left:12px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){text-align:left;padding-right:12px;-ms-flex:1;flex:1}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){text-align:center}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){min-width:84px;word-break:keep-all;text-align:left;padding-left:12px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), .aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:96px;text-align:center}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{margin-left:12px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:100px;text-align:left;padding-right:12px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;line-height:1.5;font-weight:400}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;line-height:1.29}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .pollutant-level-wrapper[_ngcontent-%COMP%]{width:100%;height:44px;padding-left:12px;padding-right:12px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;border-radius:4px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .pollutant-level-wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:12px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex:1 1 auto;flex:1 1 auto;line-height:1.17}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .pollutant-level-wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500;width:100%}@media only screen and (max-width:1439.9px){.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .pollutant-level-wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{width:120px}}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .pollutant-level-wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;min-width:90px;max-width:90px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .pollutant-level-wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:500;margin-right:3px}@media only screen and (min-width:1140px) and (max-width:1439.9px){.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .pollutant-level-wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:78px;min-width:78px}}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .pollutant-level-wrapper[_ngcontent-%COMP%]   .face-icon[_ngcontent-%COMP%]{width:32px;height:32px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   tr.today[_ngcontent-%COMP%]{background-color:#f3f7fb;box-shadow:inset 2px 0 0 0 #499fbc;border-left:2px}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   tr.today[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600}.aqi-forecast__weekly-forecast-table[_ngcontent-%COMP%]   tr.today[_ngcontent-%COMP%]   .no-forecast[_ngcontent-%COMP%]{background-color:transparent}.aqi-forecast__get-app-text[_ngcontent-%COMP%]{margin-bottom:48px;font-size:14px;line-height:1.43}@media only screen and (min-width:960px){.aqi-forecast__get-app-text[_ngcontent-%COMP%]{text-align:right}}.aqi-forecast__get-app-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#49739a;font-weight:500}.no-data-error-msg[_ngcontent-%COMP%]{padding:24px;text-align:left;font-style:italic}"]}),t})()},FHMm:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("8Y7J"),a=n("SVse");function o(t,e){if(1&t&&(i.gc(0,"span",3),i.fd(1),i.fc()),2&t){const t=e.ngIf;i.Mb(1),i.hd(" ",t,"\xb0 ")}}function c(t,e){if(1&t&&(i.gc(0,"span",4),i.fd(1),i.fc()),2&t){const t=e.ngIf;i.Mb(1),i.hd(" ",t,"\xb0 ")}}let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ub({type:t,selectors:[["app-forecast-temperature"]],inputs:{temperature:"temperature"},decls:3,vars:2,consts:[[1,"forecast-temperature"],["class","forecast-temperature_max",4,"ngIf"],["class","forecast-temperature_min",4,"ngIf"],[1,"forecast-temperature_max"],[1,"forecast-temperature_min"]],template:function(t,e){1&t&&(i.gc(0,"div",0),i.dd(1,o,2,1,"span",1),i.dd(2,c,2,1,"span",2),i.fc()),2&t&&(i.Mb(1),i.Bc("ngIf",null==e.temperature?null:e.temperature.max),i.Mb(1),i.Bc("ngIf",null==e.temperature?null:e.temperature.min))},directives:[a.o],styles:[".forecast-temperature[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;gap:8px}.forecast-temperature_max[_ngcontent-%COMP%]{font-weight:500}"]}),t})()},FUHR:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fom2"),a=n("8Y7J");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[i.a]]}),t})()},FbiL:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("hl0K"),a=n("8Y7J"),o=n("SVse"),c=n("eZzD");function r(t,e){if(1&t&&(a.gc(0,"span",3),a.fd(1),a.fc()),2&t){const t=a.sc();a.Mb(1),a.hd(" ",t.probabilityOfRain,"% ")}}let s=(()=>{class t{constructor(){this.imageAltTrans=i.a.portal.imageAlt}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ub({type:t,selectors:[["app-forecast-weather"]],inputs:{weatherIcon:"weatherIcon",probabilityOfRain:"probabilityOfRain"},decls:4,vars:6,consts:[[1,"forecast-weather"],["width","32","height","32",1,"forecast-weather_icon",3,"src","alt"],["class","forecast-weather_probability-of-rain",4,"ngIf"],[1,"forecast-weather_probability-of-rain"]],template:function(t,e){1&t&&(a.gc(0,"div",0),a.bc(1,"img",1),a.tc(2,"weatherIcon"),a.dd(3,r,2,1,"span",2),a.fc()),2&t&&(a.Mb(1),a.Bc("src",a.vc(2,3,e.weatherIcon,"full"),a.Vc)("alt",e.imageAltTrans.weatherIconAlt),a.Mb(2),a.Bc("ngIf",e.probabilityOfRain))},directives:[o.o],pipes:[c.a],styles:[".forecast-weather[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:4px}.forecast-weather_icon[_ngcontent-%COMP%]{width:24px;height:24px}.forecast-weather_probability-of-rain[_ngcontent-%COMP%]{font-size:12px;color:#0896da}"]}),t})()},H26z:function(t,e){t.exports={nonHeadlessUrls:["about-iqair/awards-partnerships","allergies/air-purifiers","app","form","california-clean-air-day-community-air-quality-monitoring-sign-up","careers","careers/job-detail","commercial/request-a-bid","get-in-touch","get-in-touch-confirmation","home-air-purifiers/apply","latimes","legal/terms-conditions","lp/atem-travel","lp/best-air-purifiers-gsa-purchasing","lp/office-air-quality-solutions","media","node","office","order-status","order-status/update-your-payment-information","order-status/enter-your-payment-information","partners/affiliate-program","partners/become-a-dealer","become-a-dealer","refer-a-friend-free-filter-form","atem-refer-a-friend-filter-form","affiliate-program","refer-a-friend-perfectpro-form","perfect16/deposit-credit-card-info","retail","room-air-purifiers/apply/creditcard","select-your-country","shopiqair","start","support/contact-us","support/service-center","support/warranty","support/free-filter-offer","termsandconditionsofsale","webchatform","whole-house-air-purifiers/evaluation-questionnaire","whole-house-air-purifiers/cadfilelist","commercial-applications"],headlessExceptions:["lp/atem-travel/buy-page","lp/allergies/buy","lp/home-air-purifiers/healthproplus/buy","application-received","commercial-applications/clean-air-facilities","commercial-applications/education","commercial-applications/hospitals-clinics","commercial-applications/hospitality","commercial-applications/offices","commercial-applications/dental","commercial-applications/laboratories","commercial-applications/museums","commercial-applications/doctors-offices","commercial-applications/clean-air-school"]}},H36N:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("hl0K"),a=n("8Y7J");let o=(()=>{class t{constructor(){this.pollenLevelTrans=i.a.pollen.level,this.POLLEN_LEVEL_LABEL_MAP={1:this.pollenLevelTrans.low,2:this.pollenLevelTrans.moderate,3:this.pollenLevelTrans.high,4:this.pollenLevelTrans.veryHigh}}transform(t){return t?this.POLLEN_LEVEL_LABEL_MAP[t]:"--"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Zb({name:"pollenLevelLabel",type:t,pure:!0}),t})()},Laix:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("hl0K"),a=n("XcXF"),o=n("8Y7J"),c=n("RdO4"),r=n("SVse"),s=n("cR01");function l(t,e){1&t&&(o.gc(0,"span"),o.fd(1,"!"),o.fc())}function d(t,e){if(1&t&&(o.gc(0,"div"),o.gc(1,"p",7),o.fd(2),o.fc(),o.gc(3,"p",8),o.fd(4),o.fc(),o.fc()),2&t){const t=o.sc();o.Qb("who-guideline__container__number aqi-light-",t.WHOExposureColor,""),o.Mb(2),o.gd(t.trans.pm25),o.Mb(2),o.hd("x",t.WHOExposure,"")}}function p(t,e){1&t&&(o.gc(0,"span"),o.fd(1,"\u2713"),o.fc())}const g=function(t){return{"who-guideline__container__sign--full-radius":t}};let u=(()=>{class t{constructor(t){this.replacementService=t,this.trans=i.a.portal.core,this.overviewTrans=i.a.portal.country.overview,this.aboveWhoGuideline=!0}ngOnInit(){}ngOnChanges(){this.aboveWhoGuideline=this.WHOExposure>1,this._updateDescription()}_updateDescription(){this.description=this.aboveWhoGuideline?this._excessiveExposureDescription():this._satisfyingExposureDescription()}_excessiveExposureDescription(){var t;const e="country"===this.type?this.overviewTrans.countryWhoDescription.replace(/{year}/gi,a.n):this.overviewTrans.whoDescription;return this.replacementService.replaceLocation(e,"{country}",this.locationName,this.type).replace(/{multiplyingFactor}/gi,null===(t=this.WHOExposure)||void 0===t?void 0:t.toString())}_satisfyingExposureDescription(){return this.replacementService.replaceLocation(this.overviewTrans.meetWhoGuidelineDescription,"{country}",this.locationName,this.type)}}return t.\u0275fac=function(e){return new(e||t)(o.ac(c.a))},t.\u0275cmp=o.Ub({type:t,selectors:[["app-who-guideline"]],inputs:{WHOExposure:"WHOExposure",WHOExposureColor:"WHOExposureColor",locationName:"locationName",type:"type"},features:[o.Kb],decls:9,vars:13,consts:[[1,"who-guideline"],[1,"who-guideline__container"],[3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"class",4,"ngIf"],[1,"who-guideline__text",3,"innerHtml"],["checkmark",""],[1,"number-measurement"],[1,"number-above-time"]],template:function(t,e){if(1&t&&(o.gc(0,"div",0),o.gc(1,"div",1),o.gc(2,"div",2),o.dd(3,l,2,0,"span",3),o.fc(),o.dd(4,d,5,5,"div",4),o.fc(),o.bc(5,"p",5),o.tc(6,"safe"),o.fc(),o.dd(7,p,2,0,"ng-template",null,6,o.ed)),2&t){const t=o.Oc(8);o.Mb(2),o.Qb("who-guideline__container__sign aqi-",e.WHOExposureColor,""),o.Bc("ngClass",o.Hc(11,g,!e.aboveWhoGuideline)),o.Mb(1),o.Bc("ngIf",e.aboveWhoGuideline)("ngIfElse",t),o.Mb(1),o.Bc("ngIf",e.aboveWhoGuideline),o.Mb(1),o.Bc("innerHtml",o.vc(6,8,e.description,"html"),o.Tc)}},directives:[r.m,r.o],pipes:[s.a],styles:[".who-guideline[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}@media only screen and (max-width:599.9px){.who-guideline[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column}}.who-guideline__container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-right:32px}@media only screen and (max-width:599.9px){.who-guideline__container[_ngcontent-%COMP%]{margin-right:0;margin-bottom:16px}}.who-guideline__container__sign[_ngcontent-%COMP%]{height:72px;width:72px;border-radius:4px 0 0 4px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.who-guideline__container__sign--full-radius[_ngcontent-%COMP%]{border-radius:4px}.who-guideline__container__sign[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:48px}.who-guideline__container__number[_ngcontent-%COMP%]{height:72px;width:85px;border-radius:0 4px 4px 0;padding-left:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.who-guideline__container__number[_ngcontent-%COMP%]   .number-measurement[_ngcontent-%COMP%]{font-size:12px;font-weight:500;letter-spacing:-.43px;line-height:18px}.who-guideline__container__number[_ngcontent-%COMP%]   .number-above-time[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.who-guideline__text[_ngcontent-%COMP%]{margin-right:58px;font-size:16px;line-height:1.5}"]}),t})()},LdOu:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("8Y7J"),a=n("cnTW");let o=(()=>{class t{constructor(t){this.isTodayUtil=t}transform(t,e){return this.isTodayUtil.isToday(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(a.a))},t.\u0275pipe=i.Zb({name:"isToday",type:t,pure:!0}),t})()},"Lu0+":function(t,e,n){"use strict";n.r(e),n.d(e,"CityModule",function(){return _});var i=n("iInd"),a=n("gyM/"),o=n("8Y7J");const c=[{path:"",component:a.a,pathMatch:"full"}];let r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Yb({type:t}),t.\u0275inj=o.Xb({imports:[[i.k.forChild(c)],i.k]}),t})();var s=n("6GZ2"),l=n("SVse"),d=n("Xm87"),p=n("cqX/");let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Yb({type:t}),t.\u0275inj=o.Xb({imports:[[l.c,d.a,p.a,i.k]]}),t})();var u=n("YMt9"),f=n("FUHR"),h=n("aN4X"),m=n("nFua"),b=n("YuT7");let _=(()=>{class t{}return t.entry=a.a,t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Yb({type:t}),t.\u0275inj=o.Xb({imports:[[r,s.a,g,u.a,f.a,h.a,m.a,b.a]]}),t})()},OToD:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("W8+8"),a=n("8Y7J"),o=n("IheW");let c=(()=>{class t{constructor(t){this.http=t,this.apiUrl=Object(i.a)()}getStationHistorical(t){return this.http.get(`${this.apiUrl}stations/${t}/measurements`)}}return t.\u0275fac=function(e){return new(e||t)(a.kc(o.b))},t.\u0275prov=a.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Tz07:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("8Y7J");let a=(()=>{class t{constructor(){this.POLLEN_LEVEL_SRC_MAP={1:"aqi-green-400",2:"aqi-yellow-400",3:"aqi-orange-400",4:"aqi-red-400"}}transform(t){return t?this.POLLEN_LEVEL_SRC_MAP[t]:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Zb({name:"pollenLevelBgColor",type:t,pure:!0}),t})()},UJbk:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i={globalIndexLevel:null,pollens:[{type:"tree",level:null},{type:"grass",level:null},{type:"weed",level:null}]}},UOzL:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("8Y7J");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Yb({type:t}),t.\u0275inj=i.Xb({}),t})()},Vn2e:function(t,e,n){"use strict";n.d(e,"a",function(){return W});var i=n("hl0K"),a=n("XcXF"),o=n("Qyzw"),c=n("8Y7J"),r=n("+oQn"),s=n("SVse"),l=n("rayB"),d=n("g8r5");function p(t,e){if(1&t&&(c.ec(0),c.gc(1,"span"),c.tc(2,"aqiFgBgColorClass"),c.bc(3,"img",1),c.fc(),c.dc()),2&t){const t=c.sc();c.Mb(1),c.Qb("trend ",c.uc(2,4,t.pollutantCurrentStatus.aqi),"-400"),c.Mb(2),c.Bc("src","assets/svg/trend-"+t.trend+"-white.svg",c.Vc)}}function g(t,e){1&t&&(c.ec(0),c.bc(1,"span",2),c.dc())}let u=(()=>{class t{constructor(){}ngOnInit(){}ngOnChanges(t){if((t.pollutantStatusOneHourAgo&&t.pollutantStatusOneHourAgo.currentValue||t.pollutantCurrentStatus&&t.pollutantCurrentStatus.currentValue)&&this.pollutantStatusOneHourAgo&&this.pollutantCurrentStatus&&this.pollutantStatusOneHourAgo[this.pollutantName]){const t=this.pollutantStatusOneHourAgo[this.pollutantName].concentration,e=this.pollutantCurrentStatus.concentration;e!==t&&(this.trend=t>e?"down":"up")}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Ub({type:t,selectors:[["app-trend-arrow"]],inputs:{pollutantStatusOneHourAgo:"pollutantStatusOneHourAgo",pollutantCurrentStatus:"pollutantCurrentStatus",pollutantName:"pollutantName"},features:[c.Kb],decls:2,vars:2,consts:[[4,"ngIf"],["alt","trend",3,"src"],[1,"no-trend"]],template:function(t,e){1&t&&(c.dd(0,p,4,6,"ng-container",0),c.dd(1,g,2,0,"ng-container",0)),2&t&&(c.Bc("ngIf",e.trend),c.Mb(1),c.Bc("ngIf",!e.trend))},directives:[s.o],pipes:[d.a],styles:[".no-trend[_ngcontent-%COMP%], .trend[_ngcontent-%COMP%]{width:18px;height:18px;display:-ms-inline-flexbox;display:inline-flex}.trend[_ngcontent-%COMP%]{border-radius:2px;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.trend[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}"]}),t})();var f=n("UNx2");const h=function(){return{width:"100%",height:"220px"}};function m(t,e){1&t&&(c.ec(0),c.gc(1,"app-loading",2),c.rc(),c.bc(2,"rect",3),c.fc(),c.dc()),2&t&&(c.Mb(1),c.Yc(c.Gc(4,h)),c.ad("display","block"))}function b(t,e){if(1&t&&(c.gc(0,"h2",9),c.fd(1),c.fc()),2&t){const t=c.sc(2);c.Mb(1),c.gd(t.title)}}function _(t,e){if(1&t&&(c.gc(0,"a",12),c.fd(1),c.fc()),2&t){const t=c.sc(3);c.Bc("href",t.mask.product.url,c.Vc),c.Mb(1),c.gd(t.mask.product.text)}}function y(t,e){if(1&t&&(c.gc(0,"tr"),c.gc(1,"td"),c.bc(2,"img",10),c.fc(),c.gc(3,"td"),c.fd(4),c.bc(5,"br"),c.dd(6,_,2,2,"a",11),c.fc(),c.fc()),2&t){const t=c.sc(2);c.Mb(2),c.Dc("src","assets/recommendations/ic-health-mask-",t.mask.value,".svg",c.Vc),c.Bc("alt",t.imageAltTrans.maskAlt),c.Mb(2),c.hd(" ",t.mask.text,""),c.Mb(2),c.Bc("ngIf",null==t.mask?null:t.mask.product)}}const v=function(t){return[t]};function w(t,e){if(1&t&&(c.gc(0,"a",14),c.fd(1),c.fc()),2&t){const t=c.sc(3);c.Bc("href",c.Hc(2,v,null==t.air_purifier?null:t.air_purifier.product.url),c.Vc),c.Mb(1),c.gd(null==t.air_purifier?null:t.air_purifier.product.text)}}function x(t,e){if(1&t&&(c.gc(0,"tr"),c.gc(1,"td"),c.bc(2,"img",10),c.fc(),c.gc(3,"td"),c.fd(4),c.bc(5,"br"),c.dd(6,w,2,4,"a",13),c.fc(),c.fc()),2&t){const t=c.sc(2);c.Mb(2),c.Dc("src","assets/recommendations/ic-health-airpurifier-",t.air_purifier.value,".svg",c.Vc),c.Bc("alt",t.imageAltTrans.airPurifierAlt),c.Mb(2),c.hd(" ",t.air_purifier.text,""),c.Mb(2),c.Bc("ngIf",null==t.air_purifier?null:t.air_purifier.product)}}function M(t,e){if(1&t&&(c.gc(0,"a",14),c.fd(1),c.fc()),2&t){const t=c.sc(3);c.Bc("href",c.Hc(2,v,null==t.windows?null:t.windows.product.url),c.Vc),c.Mb(1),c.gd(null==t.windows?null:t.windows.product.text)}}function O(t,e){if(1&t&&(c.gc(0,"tr"),c.gc(1,"td"),c.bc(2,"img",10),c.fc(),c.gc(3,"td"),c.fd(4),c.bc(5,"br"),c.dd(6,M,2,4,"a",13),c.fc(),c.fc()),2&t){const t=c.sc(2);c.Mb(2),c.Dc("src","assets/recommendations/ic-health-window-",t.windows.value,".svg",c.Vc),c.Bc("alt",t.imageAltTrans.windowAlt),c.Mb(2),c.hd(" ",t.windows.text,""),c.Mb(2),c.Bc("ngIf",null==t.windows?null:t.windows.product)}}function C(t,e){if(1&t&&(c.gc(0,"a",14),c.fd(1),c.fc()),2&t){const t=c.sc(3);c.Bc("href",c.Hc(2,v,null==t.exercise?null:t.exercise.product.url),c.Vc),c.Mb(1),c.gd(null==t.exercise?null:t.exercise.product.text)}}function P(t,e){if(1&t&&(c.gc(0,"tr"),c.gc(1,"td"),c.bc(2,"img",10),c.fc(),c.gc(3,"td"),c.fd(4),c.bc(5,"br"),c.dd(6,C,2,4,"a",13),c.fc(),c.fc()),2&t){const t=c.sc(2);c.Mb(2),c.Dc("src","assets/recommendations/ic-health-sport-",t.exercise.value,".svg",c.Vc),c.Bc("alt",t.imageAltTrans.exerciseAlt),c.Mb(2),c.hd(" ",t.exercise.text,""),c.Mb(2),c.Bc("ngIf",null==t.exercise?null:t.exercise.product)}}function I(t,e){if(1&t&&(c.gc(0,"div",4),c.gc(1,"h3",5),c.fd(2),c.fc(),c.dd(3,b,2,1,"h2",6),c.gc(4,"div",7),c.gc(5,"table",8),c.gc(6,"tbody"),c.dd(7,y,7,4,"tr",0),c.dd(8,x,7,4,"tr",0),c.dd(9,O,7,4,"tr",0),c.dd(10,P,7,4,"tr",0),c.fc(),c.fc(),c.fc(),c.fc()),2&t){const t=c.sc();c.Mb(2),c.gd(t.trans.sectionTitle),c.Mb(1),c.Bc("ngIf",t.title),c.Mb(2),c.Bc("title",t.title)("SeoSchema",t.schemaData),c.Mb(2),c.Bc("ngIf",t.mask&&"hidden"!==(null==t.mask?null:t.mask.value)),c.Mb(1),c.Bc("ngIf",t.air_purifier&&"hidden"!==(null==t.air_purifier?null:t.air_purifier.value)),c.Mb(1),c.Bc("ngIf",t.windows&&"hidden"!==(null==t.windows?null:t.windows.value)),c.Mb(1),c.Bc("ngIf",t.exercise&&"hidden"!==t.exercise.value)}}let k=(()=>{class t{constructor(t){this.seoSchemaService=t,this.trans=i.a.healthRecommendationComp,this.imageAltTrans=i.a.portal.imageAlt,this.dataLoading=!0,this.isLoading=!1}ngOnInit(){}ngOnChanges(t){if((t.locationInfo&&t.locationInfo.currentValue||t.seoKeywords&&t.seoKeywords.currentValue)&&this.updateVariablesAndSeoData(),t.data&&t.data.currentValue&&(this.dataLoading=!1,this.data.pollution)){const{mask:t,airPurifier:e,windows:n,exercise:i}=this.data.pollution;this.mask=t,this.air_purifier=e,this.windows=n,this.exercise=i}}updateVariablesAndSeoData(){this.locationInfo&&(this.title="station"===this.locationInfo.type&&this.city?this.trans.titleStation.replace(/{station}/gi,this.locationInfo.name).replace(/{city}/gi,this.city):this.trans.title.replace(/{location}/gi,this.locationInfo.name)),this.locationInfo&&this.locationInfo.type&&this.locationInfo.name&&this.seoKeywords&&(this.schemaData=this.seoSchemaService.createSchema("Table",this.title,this.seoSchemaService.createKeywords(this.seoKeywords,this.locationInfo.type,this.locationInfo.name)))}isThereSomethingToShow(){var t,e;if(!this.isLoading&&!this.dataLoading){if(this.data&&this.data.pollution)for(const n in this.data.pollution)if("hidden"!==(null===(e=null===(t=this.data)||void 0===t?void 0:t.pollution[n])||void 0===e?void 0:e.value))return!0;return!1}}}return t.\u0275fac=function(e){return new(e||t)(c.ac(r.a))},t.\u0275cmp=c.Ub({type:t,selectors:[["app-recommendation"]],inputs:{isLoading:"isLoading",locationInfo:"locationInfo",data:"data",city:"city",seoKeywords:"seoKeywords"},features:[c.Kb],decls:2,vars:2,consts:[[4,"ngIf"],["class","recommendation",4,"ngIf"],["preserveAspectRatio","none",1,"recommendation__loading"],["x","0","y","0","rx","1","ry","1","width","100%","height","100%"],[1,"recommendation"],[1,"recommendation__section-title"],["class","recommendation__title",4,"ngIf"],[1,"recommendation__detail"],[3,"title","SeoSchema"],[1,"recommendation__title"],[3,"src","alt"],["class","product-link",3,"href",4,"ngIf"],[1,"product-link",3,"href"],[3,"href",4,"ngIf"],[3,"href"]],template:function(t,e){1&t&&(c.dd(0,m,3,5,"ng-container",0),c.dd(1,I,11,8,"div",1)),2&t&&(c.Bc("ngIf",(e.isLoading||e.dataLoading)&&!e.isThereSomethingToShow()),c.Mb(1),c.Bc("ngIf",!e.isLoading&&!e.dataLoading&&e.isThereSomethingToShow()))},directives:[s.o,f.a,l.a],styles:[".recommendation__loading[_ngcontent-%COMP%]{padding:16px;padding-top:0!important}@media only screen and (min-width:960px){.recommendation__loading[_ngcontent-%COMP%]{padding:24px}}.recommendation__section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.recommendation__section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.recommendation__title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:20px;line-height:1.4;color:#414141;font-weight:500;letter-spacing:normal;margin-bottom:32px}@media only screen and (max-width:959.9px){.recommendation__title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53;margin-bottom:16px}}@media only screen and (max-width:599.9px){.recommendation__title[_ngcontent-%COMP%]{margin-bottom:24px}}.recommendation__detail[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .recommendation__detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .recommendation__detail[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-collapse:collapse}@media only screen and (max-width:599.9px){.recommendation__detail[_ngcontent-%COMP%]{padding-top:24px}}.recommendation__detail[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.recommendation__detail[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:-12px 0}.recommendation__detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;width:48%;margin:12px 0}@media only screen and (max-width:599.9px){.recommendation__detail[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%}}.recommendation__detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:32px}.recommendation__detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){font-size:14px;line-height:1.43;color:#414141}.recommendation__detail[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   a[_ngcontent-%COMP%]{text-decoration:none;text-transform:uppercase;font-size:12px;line-height:14px;color:#49739a}"]}),t})();var T=n("ZFy/"),L=n("Laix"),S=n("REAf"),B=n("tgU/"),q=function(t){return t.Satellite="satellite",t.Pollutant="pollutant",t}({});let D=(()=>{class t{transform(t){var e;return(null==t?void 0:t.estimated)&&(null===(e=null==t?void 0:t.estimationSource)||void 0===e?void 0:e.type)===q.Satellite?"*":""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Zb({name:"pollutantAsterix",type:t,pure:!0}),t})();var A=n("NLHw"),R=n("O1EI"),H=n("YZ8L"),j=n("5SZk");let z=(()=>{class t{transform(t){return Object(j.a)(t,{green:"lvl-1",yellow:"lvl-2",orange:"lvl-3",red:"lvl-4",purple:"lvl-5",maroon:"lvl-6"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Zb({name:"aqiLevel",type:t,pure:!0}),t})();function K(t,e){if(1&t&&(c.gc(0,"h2",21),c.fd(1),c.fc()),2&t){const t=c.sc(2);c.Mb(1),c.gd(t.title)}}function F(t,e){if(1&t){const t=c.hc();c.gc(0,"tr"),c.gc(1,"td"),c.fd(2),c.tc(3,"pollutantName"),c.fc(),c.gc(4,"td"),c.gc(5,"div"),c.tc(6,"aqiLevel"),c.bc(7,"div",25),c.fc(),c.fc(),c.gc(8,"td"),c.gc(9,"span",26,27),c.oc("mouseenter",function(){return c.Sc(t),c.Oc(10).show()})("mouseleave",function(){return c.Sc(t),c.Oc(10).hide()}),c.fd(11),c.tc(12,"pollutantAsterix"),c.fc(),c.gc(13,"span",15),c.fd(14,"\xb5g/m\xb3"),c.fc(),c.bc(15,"app-trend-arrow",16),c.fc(),c.fc()}if(2&t){const t=e.$implicit,n=c.sc(3);c.Mb(2),c.hd(" ",c.uc(3,12,t.pollutantName)," "),c.Mb(3),c.Qb("pollutant-level-bar-wrapper ",c.uc(6,14,t.aqi),""),c.Mb(4),c.Sb("pollutant-concentration-estimated",t.estimated),c.Bc("matTooltip",t.estimated?null==t.estimationSource?null:t.estimationSource.title:""),c.Mb(2),c.id("",t.concentration,"",c.uc(12,16,n.firstPollutant),""),c.Mb(4),c.Bc("pollutantStatusOneHourAgo",n.pollutantStatusOneHourAgo)("pollutantCurrentStatus",t)("pollutantName",t.pollutantName)}}function U(t,e){if(1&t&&(c.gc(0,"table",22),c.gc(1,"thead"),c.gc(2,"tr"),c.gc(3,"th",23),c.fd(4),c.fc(),c.gc(5,"th"),c.fd(6),c.fc(),c.fc(),c.fc(),c.gc(7,"tbody"),c.dd(8,F,16,18,"tr",24),c.fc(),c.fc()),2&t){const t=c.sc(2);c.Bc("title",t.isPlatformServer?t.title:""),c.Mb(4),c.gd(t.trans.otherTableHeader.pollutants),c.Mb(2),c.gd(t.trans.otherTableHeader.concentration),c.Mb(2),c.Bc("ngForOf",t.data.pollutants)}}function E(t,e){if(1&t&&(c.gc(0,"div",28),c.bc(1,"app-who-guideline",29),c.fc()),2&t){const t=c.sc(2);c.Mb(1),c.Bc("WHOExposure",null==t.data||null==t.data.WHOExposure?null:t.data.WHOExposure.WHOExposure)("WHOExposureColor",null==t.data||null==t.data.WHOExposure?null:t.data.WHOExposure.WHOExposureColor)("locationName",null==t.locationInfo?null:t.locationInfo.name)("type",null==t.locationInfo?null:t.locationInfo.type)}}const N=function(t,e){return{aqi:t,concentration:e}};function Y(t,e){if(1&t&&(c.gc(0,"div",2),c.gc(1,"div"),c.tc(2,"aqiFgBgColorClass"),c.gc(3,"div",3),c.gc(4,"div"),c.tc(5,"aqiBoxBg"),c.gc(6,"p",4),c.fd(7),c.tc(8,"units"),c.fc(),c.gc(9,"p",5),c.fd(10),c.tc(11,"pollutantAsterix"),c.fc(),c.fc(),c.gc(12,"p",6),c.gc(13,"span",7),c.fd(14),c.fc(),c.bc(15,"br"),c.gc(16,"span",8),c.fd(17),c.tc(18,"aqiText"),c.fc(),c.fc(),c.fc(),c.bc(19,"img",9),c.tc(20,"aqiFace"),c.fc(),c.gc(21,"div",10),c.gc(22,"h3",11),c.fd(23),c.fc(),c.dd(24,K,2,1,"h2",12),c.gc(25,"div",13),c.gc(26,"table",14),c.gc(27,"thead"),c.gc(28,"tr"),c.gc(29,"th"),c.fd(30),c.fc(),c.gc(31,"th"),c.fd(32),c.fc(),c.gc(33,"th"),c.fd(34),c.fc(),c.fc(),c.fc(),c.gc(35,"tbody"),c.gc(36,"tr"),c.gc(37,"td"),c.fd(38),c.tc(39,"aqiText"),c.fc(),c.gc(40,"td"),c.fd(41),c.tc(42,"pollutantAsterix"),c.gc(43,"span",15),c.fd(44),c.tc(45,"units"),c.fc(),c.bc(46,"app-trend-arrow",16),c.fc(),c.gc(47,"td"),c.fd(48),c.tc(49,"pollutantName"),c.fc(),c.fc(),c.fc(),c.fc(),c.fc(),c.dd(50,U,9,4,"table",17),c.dd(51,E,2,4,"div",18),c.gc(52,"div",19),c.bc(53,"app-recommendation",20),c.fc(),c.fc(),c.fc()),2&t){const t=c.sc();c.Mb(1),c.Qb("aqi-overview__summary ",c.uc(2,33,t.data.aqi),""),c.Mb(3),c.Qb("aqi-value ",c.uc(5,35,t.data.aqi),""),c.Mb(3),c.hd(" ",c.uc(8,37,t.Unit.AQI)," "),c.Mb(3),c.id("",t.data.aqi,"",c.uc(11,39,t.firstPollutant),""),c.Mb(4),c.gd(t.trans.liveIndex),c.Mb(3),c.gd(c.uc(18,41,t.data.aqi)),c.Mb(2),c.Cc("src",c.uc(20,43,t.data.aqi),c.Vc),c.Bc("alt",t.imageAltTrans.aqiFaceAlt),c.Mb(4),c.gd(t.trans.sectionTitle),c.Mb(1),c.Bc("ngIf",t.title),c.Mb(2),c.Bc("SeoSchema",t.seoSchema)("title",t.isPlatformServer?t.title:""),c.Mb(4),c.gd(t.trans.mainTableHeader.airPollutionLevel),c.Mb(2),c.gd(t.trans.mainTableHeader.airPollutionIndex),c.Mb(2),c.gd(t.trans.mainTableHeader.mainPollutant),c.Mb(4),c.gd(c.uc(39,45,t.data.aqi)),c.Mb(3),c.id(" ",t.data.aqi,"",c.uc(42,47,t.firstPollutant)," "),c.Mb(3),c.gd(c.uc(45,49,t.Unit.AQI)),c.Mb(2),c.Bc("pollutantStatusOneHourAgo",t.pollutantStatusOneHourAgo)("pollutantCurrentStatus",c.Ic(53,N,t.data.aqi,t.data.aqi))("pollutantName","aqi"),c.Mb(2),c.gd(c.uc(49,51,t.data.mainPollutant)),c.Mb(2),c.Bc("ngIf",t.data.pollutants&&t.data.pollutants.length),c.Mb(1),c.Bc("ngIf","station"!==(null==t.locationInfo?null:t.locationInfo.type)&&void 0!==(null==t.data||null==t.data.WHOExposure?null:t.data.WHOExposure.WHOExposure)&&(null==t.data||null==t.data.WHOExposure?null:t.data.WHOExposure.WHOExposureColor)),c.Mb(2),c.Bc("locationInfo",t.locationInfo)("data",t.recommendationData)("seoKeywords",t.seoKeywordsRecommendations)}}function V(t,e){if(1&t&&(c.gc(0,"div",30),c.gc(1,"app-loading",31),c.rc(),c.bc(2,"rect",32),c.fc(),c.qc(),c.gc(3,"app-loading",33),c.rc(),c.bc(4,"rect",34),c.bc(5,"rect",35),c.bc(6,"rect",36),c.fc(),c.qc(),c.bc(7,"app-recommendation",37),c.fc()),2&t){const t=c.sc();c.Mb(1),c.ad("display","block"),c.Mb(2),c.ad("display","block"),c.Mb(4),c.Bc("isLoading",t.isLoading)}}let W=(()=>{class t{constructor(t,e){this.seoSchemaService=t,this.isPlatformServer=e,this.trans=i.a.overviewComp,this.imageAltTrans=i.a.portal.imageAlt,this.dataLoading=!0,this.isLoading=!1,this.Unit=a.p}ngOnInit(){}ngOnChanges(t){var e;if(t.locationInfo&&t.locationInfo.currentValue||t.city&&t.city.currentValue){const e=t.locationInfo.currentValue.name;this.title="station"===this.locationInfo.type?this.trans.titleStation.replace(/{station}/gi,e).replace(/{city}/gi,this.city):this.trans.title.replace(/{location}/gi,e),this.updateSeoSchema()}t.data&&t.data.currentValue&&(this.dataLoading=!1,(null===(e=this.data.pollutants)||void 0===e?void 0:e.length)>0&&(this.firstPollutant=this.data.pollutants[0]))}updateSeoSchema(){this.seoKeywords&&this.locationInfo&&this.locationInfo.type&&this.locationInfo.name&&(this.seoSchema=this.seoSchemaService.createSchema("Table",this.title,this.seoSchemaService.createKeywords(this.seoKeywords,this.locationInfo.type,this.locationInfo.name)))}}return t.\u0275fac=function(e){return new(e||t)(c.ac(r.a),c.ac(o.c))},t.\u0275cmp=c.Ub({type:t,selectors:[["app-aqi-overview"]],inputs:{locationInfo:"locationInfo",data:"data",isLoading:"isLoading",city:"city",seoKeywords:"seoKeywords",seoKeywordsRecommendations:"seoKeywordsRecommendations",recommendationData:"recommendationData",pollutantStatusOneHourAgo:"pollutantStatusOneHourAgo"},features:[c.Kb],decls:2,vars:2,consts:[["class","aqi-overview",4,"ngIf"],["class","aqi-overview-loading",4,"ngIf"],[1,"aqi-overview"],[1,"aqi-value-wrapper"],[1,"aqi-value__unit"],[1,"aqi-value__value"],[1,"aqi-status"],[1,"aqi-status__label"],[1,"aqi-status__text"],[1,"aqi__icon",3,"src","alt"],[1,"aqi-overview-detail"],[1,"aqi-overview-detail__section-title"],["class","aqi-overview-detail__title",4,"ngIf"],[1,"table-wrapper"],[1,"aqi-overview-detail__main-pollution-table",3,"SeoSchema","title"],[1,"unit"],[3,"pollutantStatusOneHourAgo","pollutantCurrentStatus","pollutantName"],["class","aqi-overview-detail__other-pollution-table",3,"title",4,"ngIf"],["class","who-guideline-wrapper",4,"ngIf"],[1,"recommendation-wrapper"],[3,"locationInfo","data","seoKeywords"],[1,"aqi-overview-detail__title"],[1,"aqi-overview-detail__other-pollution-table",3,"title"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"active-level"],["matTooltipPosition","below","matTooltipClass","title-tooltip",1,"pollutant-concentration-value",3,"matTooltip","mouseenter","mouseleave"],["concentrationTooltip","matTooltip"],[1,"who-guideline-wrapper"],[3,"WHOExposure","WHOExposureColor","locationName","type"],[1,"aqi-overview-loading"],["height","62.4"],["x","0","y","0","rx","1","ry","1","width","100%","height","62.4"],["height","170",1,"data"],["x","0","y","0","rx","1","ry","1","width","180","height","23"],["x","0","y","35","rx","1","ry","1","width","400","height","73"],["x","0","y","125","rx","1","ry","1","width","400","height","45"],[3,"isLoading"]],template:function(t,e){1&t&&(c.dd(0,Y,54,56,"div",0),c.dd(1,V,8,5,"div",1)),2&t&&(c.Bc("ngIf",!e.isLoading&&!e.dataLoading),c.Mb(1),c.Bc("ngIf",e.isLoading||e.dataLoading))},directives:[s.o,l.a,u,k,s.n,T.a,L.a,f.a],pipes:[d.a,S.a,B.a,D,A.a,R.a,H.a,z],styles:[".aqi-overview{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);margin-bottom:16px}@media only screen and (min-width:960px){.aqi-overview{margin-bottom:24px}}.aqi-overview__summary{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;font-size:12px;width:100%;border-top-left-radius:inherit;border-top-right-radius:inherit;padding:32px}@media only screen and (max-width:959.9px){.aqi-overview__summary{padding:16px}}.aqi-overview__summary .aqi-value-wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}@media only screen and (min-width:960px){.aqi-overview__summary .aqi-value-wrapper{-ms-flex-direction:row;flex-direction:row}}.aqi-overview__summary .aqi-value{display:-ms-flexbox;display:flex;width:113px;height:36px;color:#fff;border-radius:4px;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding:12px;margin-right:24px}@media only screen and (min-width:960px){.aqi-overview__summary .aqi-value{width:116px;height:116px;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start}}.aqi-overview__summary .aqi-value__unit{line-height:1.5;text-transform:uppercase}.aqi-overview__summary .aqi-value__value{font-size:20px;line-height:1.3}@media only screen and (min-width:960px){.aqi-overview__summary .aqi-value__value{font-size:34px;line-height:40px}}.aqi-overview__summary .aqi-status{font-size:12px;line-height:1.5;font-weight:500;margin-top:12px;text-transform:uppercase}.aqi-overview__summary .aqi-status__label{display:none}@media only screen and (min-width:960px){.aqi-overview__summary .aqi-status__label{display:initial}}.aqi-overview__summary .aqi-status__text{font-size:24px;line-height:1.33;text-transform:capitalize}@media only screen and (min-width:960px){.aqi-overview__summary .aqi-status__text{font-size:34px;line-height:1.18}}.aqi-overview__summary .aqi__icon{width:64px;height:64px}@media only screen and (min-width:960px){.aqi-overview__summary .aqi__icon{width:116px;height:116px}}.aqi-overview .aqi-overview-detail{padding:16px}@media only screen and (min-width:960px){.aqi-overview .aqi-overview-detail{padding:24px}}.aqi-overview .aqi-overview-detail__section-title{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.aqi-overview .aqi-overview-detail__section-title{margin-bottom:8px}}.aqi-overview .aqi-overview-detail__title{font-size:20px;line-height:1.4;color:#414141;font-weight:500;letter-spacing:normal;margin-bottom:32px;font-family:Arial,Helvetica,sans-serif}@media only screen and (max-width:959.9px){.aqi-overview .aqi-overview-detail__title{font-size:17px;line-height:1.53;margin-bottom:16px}}.aqi-overview .aqi-overview-detail table,.aqi-overview .aqi-overview-detail td,.aqi-overview .aqi-overview-detail th{border-collapse:collapse}.aqi-overview .aqi-overview-detail .table-wrapper{max-width:100%;overflow-x:auto}.aqi-overview .aqi-overview-detail__main-pollution-table{width:100%;min-width:702px;box-shadow:inset 0 -2px 0 0 #eef2f6;border:1px solid rgba(0,0,0,.08);border-radius:4px;margin-bottom:24px;border-spacing:0;border-collapse:separate!important}@media only screen and (min-width:1140px){.aqi-overview .aqi-overview-detail__main-pollution-table{width:100%}}.aqi-overview .aqi-overview-detail__main-pollution-table app-trend-arrow{margin-left:18px}.aqi-overview .aqi-overview-detail__main-pollution-table tr{height:48px}.aqi-overview .aqi-overview-detail__main-pollution-table td,.aqi-overview .aqi-overview-detail__main-pollution-table th{width:234px;text-align:left;padding:12px;font-size:16px;line-height:1.5;font-weight:500}.aqi-overview .aqi-overview-detail__main-pollution-table td .unit,.aqi-overview .aqi-overview-detail__main-pollution-table th .unit{margin-left:8px}.aqi-overview .aqi-overview-detail__main-pollution-table th{background-color:#f6f6f6}.aqi-overview .aqi-overview-detail__main-pollution-table td:nth-child(2),.aqi-overview .aqi-overview-detail__main-pollution-table th:nth-child(2){border-left:1px solid #eef2f6;border-right:1px solid #eef2f6}.aqi-overview .aqi-overview-detail__main-pollution-table td:last-child{text-transform:uppercase}.aqi-overview .aqi-overview-detail__main-pollution-table td span{color:#67788d;font-weight:400}.aqi-overview .aqi-overview-detail .who-guideline-wrapper{margin-top:32px}.aqi-overview .aqi-overview-detail .recommendation-wrapper{margin-top:48px}.aqi-overview .aqi-overview-detail__other-pollution-table{width:100%}.aqi-overview .aqi-overview-detail__other-pollution-table app-trend-arrow{margin-left:24px}.aqi-overview .aqi-overview-detail__other-pollution-table tr{height:36px}.aqi-overview .aqi-overview-detail__other-pollution-table tbody tr:nth-child(odd){background-color:#f9fafb}.aqi-overview .aqi-overview-detail__other-pollution-table tbody tr:nth-child(2n){background-color:#fff}.aqi-overview .aqi-overview-detail__other-pollution-table td,.aqi-overview .aqi-overview-detail__other-pollution-table th{text-align:left;color:#414141;line-height:1.5;padding:6px}.aqi-overview .aqi-overview-detail__other-pollution-table td:first-child,.aqi-overview .aqi-overview-detail__other-pollution-table th:first-child{width:132px;padding-left:12px}.aqi-overview .aqi-overview-detail__other-pollution-table td:first-child{text-transform:uppercase}.aqi-overview .aqi-overview-detail__other-pollution-table th:nth-child(2){text-align:right}.aqi-overview .aqi-overview-detail__other-pollution-table td:nth-child(2){padding-left:25px;padding-right:26px}.aqi-overview .aqi-overview-detail__other-pollution-table td:nth-child(3),.aqi-overview .aqi-overview-detail__other-pollution-table th:nth-child(3){width:190px}.aqi-overview .aqi-overview-detail__other-pollution-table td:nth-child(3){text-align:right}.aqi-overview .aqi-overview-detail__other-pollution-table td:nth-child(3) span.unit{color:#67788d;font-weight:400;margin-left:8px}.aqi-overview .aqi-overview-detail__other-pollution-table th{font-size:12px;font-weight:400}.aqi-overview .aqi-overview-detail__other-pollution-table td{font-size:16px;font-weight:400}.aqi-overview .aqi-overview-detail__other-pollution-table td .pollutant-level-bar-wrapper{display:none;width:100%;height:8px;border-radius:4px;position:relative}@media only screen and (min-width:960px){.aqi-overview .aqi-overview-detail__other-pollution-table td .pollutant-level-bar-wrapper{display:inline-block}}.aqi-overview .aqi-overview-detail__other-pollution-table td .pollutant-level-bar-wrapper .active-level{position:absolute;height:8px;border-radius:inherit}.aqi-overview .aqi-overview-detail__other-pollution-table td .pollutant-concentration-value{font-weight:500}.aqi-overview .aqi-overview-detail__other-pollution-table td .pollutant-concentration-estimated{border-bottom:1px solid #adb8c8}.aqi-overview-loading{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);margin-bottom:16px}@media only screen and (min-width:960px){.aqi-overview-loading{margin-bottom:24px}}.aqi-overview-loading .data{padding:16px;margin-top:-8px}@media only screen and (min-width:960px){.aqi-overview-loading .data{padding:24px}}.title-tooltip{font-size:small;white-space:nowrap;max-width:-webkit-fit-content!important;max-width:-moz-fit-content!important;max-width:fit-content!important}.lvl-1{background-color:rgba(156,216,78,.24)}.lvl-1 .active-level{width:16.66%;background-color:#9cd84e}.lvl-2{background-color:rgba(250,207,57,.24)}.lvl-2 .active-level{width:33.32%;background-color:#facf39}.lvl-3{background-color:rgba(249,144,73,.24)}.lvl-3 .active-level{width:49.98%;background-color:#f99049}.lvl-4{background-color:rgba(246,94,95,.24)}.lvl-4 .active-level{width:66.64%;background-color:#f65e5f}.lvl-5{background-color:rgba(160,112,182,.24)}.lvl-5 .active-level{width:83.3%;background-color:#a070b6}.lvl-6{background-color:rgba(160,106,123,.24)}.lvl-6 .active-level{width:99.96%;background-color:#a06a7b}"],encapsulation:2}),t})()},YMt9:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fom2"),a=n("8Y7J");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[i.a]]}),t})()},YZ8L:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("8Y7J");let a=(()=>{class t{transform(t){if(void 0!==t){let e=t;switch(t){case"pm25":e="PM2.5"}return e.toUpperCase()}return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Zb({name:"pollutantName",type:t,pure:!0}),t})()},YuT7:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("fom2"),a=n("UOzL"),o=n("Dxy4"),c=n("iInd"),r=n("SVse"),s=n("1O3W"),l=n("8Y7J");let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[r.c,a.a,s.f]]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Yb({type:t}),t.\u0275inj=l.Xb({imports:[[i.a,a.a,o.c,c.k,d]]}),t})()},eZzD:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("8Y7J");let a=(()=>{class t{transform(t,e=""){let n,i="";switch(void 0!==e&&""!==e&&(i=`-${e}`),t){case"clear-sky":n=`/assets/weather/ic-w-01-clear-sky${i}.svg`;break;case"new-clouds":n=`/assets/weather/ic-w-02-new-clouds${i}.svg`;break;case"scattered-showers":n=`/assets/weather/ic-w-03-scattered-showers${i}.svg`;break;case"scattered-clouds":n=`/assets/weather/ic-w-04-scattered-clouds${i}.svg`;break;case"cloudy":n=`/assets/weather/ic-w-05-cloudy${i}.svg`;break;case"rain":n=`/assets/weather/ic-w-06-rain${i}.svg`;break;case"thunderstorms":n=`/assets/weather/ic-w-07-thunderstorms${i}.svg`;break;case"snow":n=`/assets/weather/ic-w-08-snow${i}.svg`;break;case"mist":n=`/assets/weather/ic-w-09-mist${i}.svg`;break;case"night-clear-sky":n=`/assets/weather/ic-w-10-night-clear-sky${i}.svg`;break;case"night-few-clouds":n=`/assets/weather/ic-w-11-night-few-clouds${i}.svg`;break;case"night-rain":n=`/assets/weather/ic-w-12-night-rain${i}.svg`}return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Zb({name:"weatherIcon",type:t,pure:!0}),t})()},ee9h:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S});var i=n("SVse"),a=n("8Y7J"),o=n("hl0K"),c=n("BPAf"),r=n("/7us"),s=n("RFiY"),l=n("OToD"),d=n("UNx2"),p=n("Dxy4"),g=n("lLqz");function u(t,e){1&t&&(a.ec(0),a.gc(1,"app-loading",3),a.rc(),a.bc(2,"rect",4),a.fc(),a.dc()),2&t&&(a.Mb(1),a.Bc("height",250))}function f(t,e){if(1&t&&(a.gc(0,"p",5),a.fd(1),a.fc()),2&t){const t=a.sc();a.Mb(1),a.gd(t.errorMsgTrans.noHistoricData)}}const h=function(t){return{"is-active":t}};function m(t,e){if(1&t){const t=a.hc();a.gc(0,"button",12),a.oc("click",function(){a.Sc(t);const e=a.sc(2);return e.switchMode(e.hourlyMode)}),a.fd(1),a.fc()}if(2&t){const t=a.sc(2);a.Bc("ngClass",a.Hc(2,h,t.activeMode===t.hourlyMode)),a.Mb(1),a.hd(" ",t.trans.hourly," ")}}function b(t,e){if(1&t){const t=a.hc();a.gc(0,"button",12),a.oc("click",function(){a.Sc(t);const e=a.sc(2);return e.switchMode(e.dailyMode)}),a.fd(1),a.fc()}if(2&t){const t=a.sc(2);a.Bc("ngClass",a.Hc(2,h,t.activeMode===t.dailyMode)),a.Mb(1),a.hd(" ",t.trans.daily," ")}}function _(t,e){if(1&t&&a.bc(0,"app-common-chart",14),2&t){const t=a.sc(3);a.Bc("option",t.chartOptions)}}function y(t,e){if(1&t&&(a.ec(0),a.dd(1,_,1,1,"app-common-chart",13),a.dc()),2&t){const t=a.sc(2);a.Mb(1),a.Bc("ngIf",t.historicData)}}function v(t,e){if(1&t&&(a.gc(0,"div",15),a.gc(1,"p"),a.fd(2),a.fc(),a.fc()),2&t){const t=a.sc(2);a.Mb(2),a.gd(t.trans.noHistorical)}}function w(t,e){if(1&t){const t=a.hc();a.gc(0,"button",12),a.oc("click",function(){a.Sc(t);const e=a.sc(2).$implicit;return a.sc(4).switchType(e.key)}),a.fd(1),a.fc()}if(2&t){const t=a.sc(2).$implicit,e=a.sc(4);a.Bc("ngClass",a.Hc(2,h,e.activeType===t.key)),a.Mb(1),a.hd(" ",t.title," ")}}function x(t,e){if(1&t&&(a.ec(0),a.dd(1,w,2,4,"button",8),a.dc()),2&t){const t=a.sc().$implicit,e=a.sc(4);a.Mb(1),a.Bc("ngIf",!e.historicData[e.hourlyMode][t.key].isEmpty)}}function M(t,e){if(1&t&&(a.ec(0),a.dd(1,x,2,1,"ng-container",0),a.dc()),2&t){const t=e.$implicit,n=a.sc(4);a.Mb(1),a.Bc("ngIf",n.historicData[n.hourlyMode][t.key])}}function O(t,e){if(1&t&&(a.gc(0,"div",17),a.dd(1,M,2,1,"ng-container",18),a.fc()),2&t){const t=a.sc(3);a.Mb(1),a.Bc("ngForOf",t.aqiTypes)}}function C(t,e){if(1&t){const t=a.hc();a.gc(0,"button",12),a.oc("click",function(){a.Sc(t);const e=a.sc(2).$implicit;return a.sc(4).switchType(e.key)}),a.fd(1),a.fc()}if(2&t){const t=a.sc(2).$implicit,e=a.sc(4);a.Bc("ngClass",a.Hc(2,h,e.activeType===t.key)),a.Mb(1),a.hd(" ",t.title," ")}}function P(t,e){if(1&t&&(a.ec(0),a.dd(1,C,2,4,"button",8),a.dc()),2&t){const t=a.sc().$implicit,e=a.sc(4);a.Mb(1),a.Bc("ngIf",!e.historicData[e.dailyMode][t.key].isEmpty)}}function I(t,e){if(1&t&&(a.ec(0),a.dd(1,P,2,1,"ng-container",0),a.dc()),2&t){const t=e.$implicit,n=a.sc(4);a.Mb(1),a.Bc("ngIf",n.historicData[n.dailyMode][t.key])}}function k(t,e){if(1&t&&(a.gc(0,"div",17),a.dd(1,I,2,1,"ng-container",18),a.fc()),2&t){const t=a.sc(3);a.Mb(1),a.Bc("ngForOf",t.aqiTypes)}}function T(t,e){if(1&t&&(a.ec(0),a.dd(1,O,2,1,"div",16),a.dd(2,k,2,1,"div",16),a.dc()),2&t){const t=a.sc(2);a.Mb(1),a.Bc("ngIf",t.activeMode===t.hourlyMode),a.Mb(1),a.Bc("ngIf",t.activeMode===t.dailyMode)}}function L(t,e){if(1&t&&(a.gc(0,"div",6),a.gc(1,"div",7),a.dd(2,m,2,4,"button",8),a.dd(3,b,2,4,"button",8),a.fc(),a.gc(4,"div",9),a.dd(5,y,2,1,"ng-container",10),a.dd(6,v,3,1,"ng-template",null,11,a.ed),a.fc(),a.dd(8,T,3,2,"ng-container",0),a.fc()),2&t){const t=a.Oc(7),e=a.sc();a.Mb(2),a.Bc("ngIf",!e.historicData.hourly.isEmpty),a.Mb(1),a.Bc("ngIf",!e.historicData.daily.isEmpty),a.Mb(2),a.Bc("ngIf",e.showHistoricalData)("ngIfElse",t),a.Mb(3),a.Bc("ngIf",e.historicData)}}let S=(()=>{class e{constructor(t,e,n,i,a,c){this.platformId=t,this.userPref=e,this.cityService=n,this.chartService=i,this.historicalService=a,this.changeDetectorRef=c,this.trans=o.a.portal.core.pollutantAndWeather,this.errorMsgTrans=o.a.portal.core,this.hourlyMode="hourly",this.dailyMode="daily",this.activeMode=this.hourlyMode,this.aqiTypes=[{key:"aqi",title:this.trans.aqi},{key:"pm25",title:"PM2.5"},{key:"pm10",title:"PM10"},{key:"o3",title:"O3"},{key:"no2",title:"NO2"},{key:"so2",title:"SO2"},{key:"co",title:"CO"}],this.activeType=this.aqiTypes[0].key,this.isLoading=!0,this.showHistoricalData=!1}ngOnInit(){this.options=this.chartService.getPollutantOptions(window.innerWidth)}ngOnChanges(t){Object(i.B)(this.platformId)&&t.timezone&&t.timezone.currentValue&&this.resolveData(t.timezone.currentValue)}resolveData(e){let n;if(this.pollutantData&&this.pollutantData.type)switch(this.pollutantData.type){case"city":n=this.cityService.getMeasurements(this.pollutantData.id);break;case"station":n=this.historicalService.getStationHistorical(this.pollutantData.id)}n&&n.subscribe(n=>{const i=new Worker(t,{name:"historic-formatter-worker",type:void 0});i.onmessage=({data:t})=>{this.historicData=t,this.showHistoricalData=!t.daily.isEmpty||!t.hourly.isEmpty,this.resolveOptions(),this.isLoading=!1,this.destroyed||this.changeDetectorRef.detectChanges()},i.postMessage(Object.assign(Object.assign({},n.measurements),{timezone:e,modes:["hourly","daily"],pollutants:["aqi","pm25","pm10","o3","no2","so2","co"],isPollutantChart:!0}))})}resolveOptions(){var t;const e=this.historicData[this.activeMode],n=null===(t=e[this.activeType])||void 0===t?void 0:t.indoor,i=this.aqiTypes.find(t=>t.key===this.activeType),a=`${i?i.title:this.trans.concentration} ${"aqi"===this.activeType?this.userPref.AQI:"\xb5g/m\xb3"}`;this.options.xAxis.categories=e.categories,this.options.yAxis.minRange=1,this.options.yAxis.min=0,this.options.series=[{type:"column",name:a,data:n,trans:this.trans}],this.chartOptions=Object.assign(Object.assign({},this.chartOptions),this.options)}switchMode(t){this.activeMode=t,this.resolveOptions()}switchType(t){this.activeType=t,this.resolveOptions()}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(a.ac(a.J),a.ac(c.b),a.ac(r.a),a.ac(s.a),a.ac(l.a),a.ac(a.i))},e.\u0275cmp=a.Ub({type:e,selectors:[["app-pollutant-and-weather"]],inputs:{pollutantData:"pollutantData",timezone:"timezone"},features:[a.Kb],decls:3,vars:3,consts:[[4,"ngIf"],["class","no-data-error-msg",4,"ngIf"],["class","pollutant-history",4,"ngIf"],[3,"height"],["x","0","y","0","rx","1","ry","1","width","400","height","250"],[1,"no-data-error-msg"],[1,"pollutant-history"],[1,"pollutant-history-timely-buttons"],["type","button","mat-flat-button","","class","btn-airvisual-2","color","primary",3,"ngClass","click",4,"ngIf"],[1,"pollutant-history-chart"],[4,"ngIf","ngIfElse"],["noHistoricalData",""],["type","button","mat-flat-button","","color","primary",1,"btn-airvisual-2",3,"ngClass","click"],[3,"option",4,"ngIf"],[3,"option"],[1,"pollutant-history__nodata"],["class","pollutant-history-type-buttons",4,"ngIf"],[1,"pollutant-history-type-buttons"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(a.dd(0,u,3,1,"ng-container",0),a.dd(1,f,2,1,"p",1),a.dd(2,L,9,5,"div",2)),2&t&&(a.Bc("ngIf",e.isLoading&&e.historicData),a.Mb(1),a.Bc("ngIf",!e.historicData),a.Mb(1),a.Bc("ngIf",!e.isLoading&&e.historicData))},directives:[i.o,d.a,p.b,i.m,g.a,i.n],styles:[".btn-airvisual-2.mat-flat-button.mat-primary[_ngcontent-%COMP%], .btn-airvisual-2.mat-raised-button.mat-primary[_ngcontent-%COMP%]{font-family:inherit;font-size:12px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;text-align:center;letter-spacing:1.2px;padding:14px 16px;color:#49739a;border-radius:4px;border:1px solid #49739a;background-color:transparent}.btn-airvisual-2.mat-flat-button.mat-primary.is-active[_ngcontent-%COMP%], .btn-airvisual-2.mat-flat-button.mat-primary[_ngcontent-%COMP%]:active, .btn-airvisual-2.mat-flat-button.mat-primary[_ngcontent-%COMP%]:focus, .btn-airvisual-2.mat-flat-button.mat-primary[_ngcontent-%COMP%]:hover, .btn-airvisual-2.mat-raised-button.mat-primary.is-active[_ngcontent-%COMP%], .btn-airvisual-2.mat-raised-button.mat-primary[_ngcontent-%COMP%]:active, .btn-airvisual-2.mat-raised-button.mat-primary[_ngcontent-%COMP%]:focus, .btn-airvisual-2.mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#49739a}.btn-airvisual-2.mat-flat-button.mat-primary[_ngcontent-%COMP%]:disabled, .btn-airvisual-2.mat-raised-button.mat-primary[_ngcontent-%COMP%]:disabled{color:rgba(0,0,0,.26);background-color:rgba(0,0,0,.12)}.btn-airvisual-2.mat-flat-button.mat-primary.is-bold[_ngcontent-%COMP%], .btn-airvisual-2.mat-raised-button.mat-primary.is-bold[_ngcontent-%COMP%]{font-weight:700}.pollutant-history[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:700;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#414141}.pollutant-history[_ngcontent-%COMP%]   h3.section-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#414141;font-weight:400;margin-top:10px;text-align:center;margin-bottom:48px}.pollutant-history-timely-buttons[_ngcontent-%COMP%], .pollutant-history-type-buttons[_ngcontent-%COMP%]{padding:0 24px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.pollutant-history-chart[_ngcontent-%COMP%]{margin:20px 0;max-height:400px}.pollutant-history__nodata[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;background-color:#f1f1f1;height:75px;border-radius:4px;font-weight:500;color:#3c3c3c}.pollutant-history[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#414141;font-size:14px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;text-align:center;cursor:pointer;padding:10px 20px;border-radius:4px}.pollutant-history[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{border:1px solid #d2d2d2;background-color:#fff}.pollutant-history[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 6px 12px}.pollutant-history[_ngcontent-%COMP%]   button.is-active[_ngcontent-%COMP%], .pollutant-history[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;border:1px solid #456e98;background-color:#456e98}@media only screen and (max-width:599.9px){.pollutant-history[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.pollutant-history[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3.section-subtitle[_ngcontent-%COMP%]{font-size:12px}.pollutant-history-chart[_ngcontent-%COMP%]{margin:20px -15px 0}}.no-data-error-msg[_ngcontent-%COMP%]{padding:24px;text-align:left;font-style:italic}"]}),e})()}).call(this,n("p9fQ"))},"gyM/":function(t,e,n){"use strict";n.d(e,"a",function(){return kt});var i=n("YEUz"),a=n("SVse"),o=n("8Y7J"),c=n("cUpR"),r=n("hl0K"),s=n("/vC6"),l=n("C+KZ"),d=n("iInd"),p=n("QGOA"),g=n("/7us"),u=n("hKHT"),f=n("sJRQ"),h=n("GoYx"),m=n("RdO4"),b=n("ShgS"),_=n("qurq"),y=n("2qh6"),v=n("uK2+"),w=n("i4Hg"),x=n("o71z"),M=n("9KOp"),O=n("J82N"),C=n("Vn2e"),P=n("qxjq"),I=n("0fZB"),k=n("/6gA"),T=n("FEk/"),L=n("UFt6"),S=n("sIer"),B=n("ndoy"),q=n("HVnN"),D=n("v+7i"),A=n("qP/k"),R=n("BOp4"),H=n("wFOR"),j=n("EXyO"),z=n("U00U"),K=n("/HUL"),F=n("UNx2");const U=function(t){return[t]};function E(t,e){if(1&t&&(o.gc(0,"div",2),o.gc(1,"span",3),o.fd(2),o.fc(),o.gc(3,"span",4),o.fd(4),o.tc(5,"customNumberSeparator"),o.fc(),o.gc(6,"span",3),o.fd(7),o.fc(),o.gc(8,"a",5),o.gc(9,"span"),o.fd(10),o.fc(),o.fc(),o.gc(11,"span",6),o.fd(12),o.fc(),o.fc()),2&t){const t=o.sc();o.Mb(2),o.gd(t.trans.hasCostApprox),o.Mb(2),o.gd(o.wc(5,6,t.costOfPollution.totalDeaths,",",!0)+" "+t.trans.deaths+"*"),o.Mb(3),o.gd(t.inCity),o.Mb(1),o.Bc("routerLink",o.Hc(10,U,"/blog/air-quality/cost-of-air-pollution")),o.Mb(2),o.gd(t.trans.ctaBtnText),o.Mb(2),o.gd(t.details)}}const N=function(){return{height:"100%",width:"100%"}};function Y(t,e){1&t&&(o.gc(0,"div",7),o.gc(1,"app-loading",8),o.rc(),o.bc(2,"rect",9),o.fc(),o.fc()),2&t&&(o.Mb(1),o.Yc(o.Gc(4,N)),o.ad("height","100%"))}let V=(()=>{class t{constructor(){this.trans=r.a.portal.core.airPollutionCost,this.numberSeparatorPipe=new K.a,this.currentYear=(new Date).getFullYear(),this.inCity=this.trans.inCity,this.details="*"+this.trans.details}ngOnInit(){}ngOnChanges(t){t.costOfPollution&&t.costOfPollution.currentValue&&t.costOfPollution.currentValue.totalCosts&&(this.details=this.details.replace(/{number}/gi,this.numberSeparatorPipe.transform(t.costOfPollution.currentValue.totalCosts,",",!0))),t.locationName&&t.locationName.currentValue&&(this.inCity=this.inCity.replace(/{city}/gi,t.locationName.currentValue).replace(/{currentYear}/gi,`${this.currentYear}`),this.details=this.details.replace(/{city}/gi,t.locationName.currentValue).replace(/{currentYear}/gi,`${this.currentYear}`))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ub({type:t,selectors:[["app-location-air-pollution-cost"]],inputs:{costOfPollution:"costOfPollution",isLoading:"isLoading",locationName:"locationName"},features:[o.Kb],decls:2,vars:2,consts:[["class","location-air-pollution-cost-wrapper",4,"ngIf"],["class","location-air-pollution-cost-wrapper-loading",4,"ngIf"],[1,"location-air-pollution-cost-wrapper"],[1,"title"],[1,"big-title"],[1,"see-details",3,"routerLink"],[1,"details"],[1,"location-air-pollution-cost-wrapper-loading"],["preserveAspectRatio","none"],["x","0","y","0","width","100%","height","100%"]],template:function(t,e){1&t&&(o.dd(0,E,13,12,"div",0),o.dd(1,Y,3,5,"div",1)),2&t&&(o.Bc("ngIf",!e.isLoading&&e.costOfPollution),o.Mb(1),o.Bc("ngIf",e.isLoading))},directives:[a.o,d.j,F.a],pipes:[K.a],styles:[".location-air-pollution-cost-wrapper[_ngcontent-%COMP%], .location-air-pollution-cost-wrapper-loading[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);margin-bottom:16px;height:358px}@media only screen and (min-width:960px){.location-air-pollution-cost-wrapper[_ngcontent-%COMP%], .location-air-pollution-cost-wrapper-loading[_ngcontent-%COMP%]{margin-bottom:24px}}@media only screen and (max-width:959.9px){.location-air-pollution-cost-wrapper[_ngcontent-%COMP%], .location-air-pollution-cost-wrapper-loading[_ngcontent-%COMP%]{height:290px}}.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]{padding:16px;background-color:#2b353f;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:space-evenly;justify-content:space-evenly;-ms-flex-align:center;align-items:center;color:#fff;text-align:center}@media only screen and (min-width:960px){.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]{padding:24px}}.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]   .see-details[_ngcontent-%COMP%]{width:144px;height:42px;background-color:#49739a;text-align:center;border-radius:4px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin:30px 0}@media only screen and (max-width:959.9px){.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]   .see-details[_ngcontent-%COMP%]{margin:15px 0}}.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]   .see-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:1.17;letter-spacing:1.2px;color:#fff}.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;line-height:1.53}@media only screen and (max-width:599.9px){.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px}}.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]   .big-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;line-height:1.29}@media only screen and (max-width:599.9px){.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]   .big-title[_ngcontent-%COMP%]{font-size:28px}}.location-air-pollution-cost-wrapper[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:1.43;max-width:268px;text-align:center}"]}),t})();var W=n("+qjk"),$=n("ee9h"),J=n("+uPs"),Q=n("EWaV"),X=n("rHQL");function G(t,e){1&t&&o.bc(0,"app-daily-average-data",28)}function Z(t,e){if(1&t&&o.bc(0,"app-timestamp",29),2&t){const t=o.sc(2);o.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!t.pageTitleData.time)}}function tt(t,e){if(1&t&&o.bc(0,"app-timestamp-late",30),2&t){const t=o.sc(2);o.Bc("type","city")("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time))("lastUpdate",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)}}function et(t,e){if(1&t&&o.bc(0,"nearest-alert-banner",31),2&t){const t=o.sc(2);o.Bc("alertData",t.nearestAlert)}}function nt(t,e){if(1&t){const t=o.hc();o.gc(0,"app-contributor-summary",32),o.oc("contributorClicked",function(e){return o.Sc(t),o.sc(2).onContributorClicked(e)}),o.fc()}if(2&t){const t=o.sc(2);o.Bc("locationInfo",t.locationInfo)("promotionBanners",t.promotionBanners)("sponsorList",t.sponsorList)("sourcesBanner",t.sourcesBanner)("isLoading",!t.contributors)}}function it(t,e){if(1&t&&o.bc(0,"app-location-air-pollution-cost",33),2&t){const t=o.sc(2);o.Bc("isLoading",!t.pollutionCost)("costOfPollution",t.pollutionCost)("locationName",null==t.locationInfo?null:t.locationInfo.name)}}function at(t,e){if(1&t&&o.bc(0,"app-pollen",34),2&t){const t=e.ngIf,n=o.sc(2);o.Bc("locationInfo",n.locationInfo)("currentPollen",t)}}function ot(t,e){if(1&t&&o.bc(0,"app-pollutant-and-weather",35),2&t){const t=o.sc(2);o.Bc("pollutantData",t.pollutantData)("timezone",null==t.time?null:t.time.tz)}}function ct(t,e){if(1&t&&o.bc(0,"app-webcam",36),2&t){const t=o.sc(2);o.Bc("data",t.webcam)("isLoading",!t.webcam)}}function rt(t,e){if(1&t&&o.bc(0,"app-analyse-block",37),2&t){const t=o.sc(2);o.Bc("name",null==t.locationInfo?null:t.locationInfo.name)("data",t.localAnalysis)("titleFormat","location")}}function st(t,e){if(1&t&&(o.bc(0,"app-use-app-link",3),o.gc(1,"div",4),o.bc(2,"app-breadcrumb",5),o.bc(3,"app-page-title",6),o.dd(4,G,1,0,"app-daily-average-data",7),o.dd(5,Z,1,4,"app-timestamp",8),o.dd(6,tt,1,5,"app-timestamp-late",9),o.bc(7,"app-follower",10),o.fc(),o.gc(8,"div",11),o.dd(9,et,1,1,"nearest-alert-banner",12),o.bc(10,"app-aqi-overview",13),o.tc(11,"async"),o.tc(12,"async"),o.bc(13,"app-product-ads",14),o.dd(14,nt,1,5,"app-contributor-summary",15),o.bc(15,"app-map-link",16),o.dd(16,it,1,3,"app-location-air-pollution-cost",17),o.dd(17,at,1,2,"app-pollen",18),o.tc(18,"async"),o.bc(19,"app-weather",19),o.tc(20,"async"),o.tc(21,"async"),o.gc(22,"app-aqi-forecast",20),o.tc(23,"async"),o.tc(24,"async"),o.tc(25,"async"),o.tc(26,"async"),o.dd(27,ot,1,2,"app-pollutant-and-weather",21),o.fc(),o.bc(28,"app-aqi-ranking",22),o.tc(29,"async"),o.bc(30,"app-earth-link"),o.bc(31,"app-aqi-ranking",23),o.tc(32,"async"),o.dd(33,ct,1,2,"app-webcam",24),o.bc(34,"app-airvisual-app-banner"),o.dd(35,rt,1,3,"app-analyse-block",25),o.bc(36,"app-contributor-list",26),o.tc(37,"async"),o.bc(38,"app-location-list",27),o.fc()),2&t){const t=o.sc();let e=null,n=null;o.Bc("type",t.type)("placeID",t.id),o.Mb(2),o.Bc("isLoading",!t.breadcrumbs||!t.locationInfo)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),o.Mb(1),o.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),o.Mb(1),o.Bc("ngIf",(null==t.pageTitleData?null:t.pageTitleData.isDailyAverage)&&t.isActive),o.Mb(1),o.Bc("ngIf",t.isActive),o.Mb(1),o.Bc("ngIf",!t.isActive),o.Mb(1),o.Bc("pageTitleData",t.pageTitleData)("isLoading",!t.pageTitleData.title),o.Mb(2),o.Bc("ngIf",t.nearestAlert),o.Mb(1),o.Bc("locationInfo",t.locationInfo)("data",o.uc(11,70,t.currentMeasurementSubj))("seoKeywords",t.seoKeywords.currentAirQuality)("isLoading",!o.uc(12,72,t.currentMeasurementSubj))("seoKeywordsRecommendations",t.seoKeywords.protectFromAirPollution)("pollutantStatusOneHourAgo",t.pollutantsOneHourAgo)("recommendationData",t.recommendations),o.Mb(3),o.Bc("isLoading",!t.locationInfo)("locationInfo",t.locationInfo),o.Mb(1),o.Bc("ngIf",!t.isChinaPage),o.Mb(1),o.Bc("locationInfo",t.locationInfo)("isLoading",!t.locationInfo),o.Mb(1),o.Bc("ngIf",!t.isChinaHref&&t.pollutionCost),o.Mb(1),o.Bc("ngIf",null==(e=o.uc(18,74,t.currentMeasurementSubj))?null:e.pollen),o.Mb(2),o.Bc("locationInfo",t.locationInfo)("data",o.uc(20,76,t.weatherSubj))("seoKeywords",t.seoKeywords.currentWeather)("isLoading",!o.uc(21,78,t.weatherSubj)),o.Mb(3),o.Bc("locationInfo",t.locationInfo)("forecastData",o.uc(23,80,t.dailyForecastSubj))("historyData",o.uc(24,82,t.historySubj))("currentAqi",null==(n=o.uc(25,84,t.currentMeasurementSubj))?null:n.aqi)("timezone",null==t.time?null:t.time.tz)("isLoading",!o.uc(26,86,t.historySubj))("seoKeywords",t.seoKeywords.airQualityForecast),o.Mb(5),o.Bc("ngIf",t.isBrowser),o.Mb(1),o.Bc("infoTooltip",t.liveCityTooltip)("itemAppendKey","state")("type","city")("sectionTitle",null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.sectionTitle)("title",null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.title)("time",t.time)("name",!!t.crumbs&&!!t.crumbs[0]&&t.crumbs[0].label)("locationInfo",t.locationInfo)("data",o.uc(29,88,null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.data))("seoKeywords",t.seoKeywords.realTimeCountryMajorCityRanking)("isLoading",!t.cityOfCountryRanking),o.Mb(3),o.Bc("infoTooltip",t.liveStationTooltip)("type","station")("sectionTitle",null==t.stationRankingOfCity?null:t.stationRankingOfCity.sectionTitle)("title",null==t.stationRankingOfCity?null:t.stationRankingOfCity.title)("cta",null==t.stationRankingOfCity?null:t.stationRankingOfCity.cta)("time",t.time)("name",t.pageTitleData.title)("isLoading",!t.stationRankingOfCity)("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.realTimeAirQualityRanking)("data",o.uc(32,90,null==t.stationRankingOfCity?null:t.stationRankingOfCity.data)),o.Mb(2),o.Bc("ngIf",t.webcam),o.Mb(2),o.Bc("ngIf",t.localAnalysis),o.Mb(1),o.Bc("locationInfo",t.locationInfo)("sources",o.uc(37,92,t.sourcesSubj))("contributors",t.contributors)("isLocality",!0)("hasLowCostSensor",t.hasLowCostSensor),o.Mb(2),o.Bc("locationInfo",t.locationInfo)("locations",t.stationOfCity)}}function lt(t,e){1&t&&o.bc(0,"app-daily-average-data",55)}function dt(t,e){if(1&t&&o.bc(0,"app-timestamp",29),2&t){const t=o.sc(2);o.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time))}}function pt(t,e){if(1&t&&o.bc(0,"app-timestamp-late",30),2&t){const t=o.sc(2);o.Bc("type","city")("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time))("lastUpdate",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)}}function gt(t,e){if(1&t){const t=o.hc();o.gc(0,"app-contributor-summary",56),o.oc("contributorClicked",function(e){return o.Sc(t),o.sc(2).onContributorClicked(e)}),o.fc()}if(2&t){const t=o.sc(2);o.Bc("isLoading",!t.contributors)("promotionBanners",t.promotionBanners)("sourcesBanner",t.sourcesBanner)("locationInfo",t.locationInfo)("sponsorList",t.sponsorList)}}function ut(t,e){if(1&t&&o.bc(0,"app-pollen",34),2&t){const t=e.ngIf,n=o.sc(2);o.Bc("locationInfo",n.locationInfo)("currentPollen",t)}}function ft(t,e){if(1&t&&o.bc(0,"app-location-air-pollution-cost",57),2&t){const t=o.sc(2);o.Bc("isLoading",!t.pollutionCost)("locationName",null==t.locationInfo?null:t.locationInfo.name)("costOfPollution",t.pollutionCost)}}function ht(t,e){if(1&t&&o.bc(0,"app-webcam",36),2&t){const t=o.sc(2);o.Bc("data",t.webcam)("isLoading",!t.webcam)}}function mt(t,e){if(1&t&&o.bc(0,"nearest-alert-banner",31),2&t){const t=o.sc(2);o.Bc("alertData",t.nearestAlert)}}function bt(t,e){if(1&t&&o.bc(0,"app-pollutant-and-weather",35),2&t){const t=o.sc(2);o.Bc("pollutantData",t.pollutantData)("timezone",null==t.time?null:t.time.tz)}}function _t(t,e){if(1&t&&o.bc(0,"app-analyse-block",37),2&t){const t=o.sc(2);o.Bc("name",null==t.locationInfo?null:t.locationInfo.name)("data",t.localAnalysis)("titleFormat","location")}}function yt(t,e){if(1&t&&(o.gc(0,"div",38),o.gc(1,"div",39),o.gc(2,"div",40),o.bc(3,"app-breadcrumb",5),o.bc(4,"app-page-title",6),o.fc(),o.bc(5,"app-locate-me",41),o.fc(),o.gc(6,"div",42),o.gc(7,"div",43),o.dd(8,lt,1,0,"app-daily-average-data",44),o.dd(9,dt,1,4,"app-timestamp",8),o.dd(10,pt,1,5,"app-timestamp-late",9),o.fc(),o.bc(11,"app-follower",6),o.fc(),o.fc(),o.gc(12,"div",45),o.gc(13,"div",46),o.bc(14,"app-map-link",16),o.dd(15,gt,1,5,"app-contributor-summary",47),o.dd(16,ut,1,2,"app-pollen",18),o.tc(17,"async"),o.bc(18,"app-weather",48),o.tc(19,"async"),o.tc(20,"async"),o.dd(21,ft,1,3,"app-location-air-pollution-cost",49),o.bc(22,"app-aqi-ranking",50),o.tc(23,"async"),o.bc(24,"app-earth-link"),o.bc(25,"app-aqi-ranking",51),o.tc(26,"async"),o.dd(27,ht,1,2,"app-webcam",24),o.bc(28,"app-airvisual-app-banner"),o.fc(),o.gc(29,"div",52),o.dd(30,mt,1,1,"nearest-alert-banner",12),o.bc(31,"app-aqi-overview",53),o.tc(32,"async"),o.tc(33,"async"),o.bc(34,"app-product-ads",14),o.gc(35,"app-aqi-forecast",54),o.tc(36,"async"),o.tc(37,"async"),o.tc(38,"async"),o.tc(39,"async"),o.dd(40,bt,1,2,"app-pollutant-and-weather",21),o.fc(),o.dd(41,_t,1,3,"app-analyse-block",25),o.fc(),o.fc(),o.gc(42,"div",11),o.bc(43,"app-contributor-list",26),o.tc(44,"async"),o.bc(45,"app-location-list",27),o.fc()),2&t){const t=o.sc();let e=null,n=null;o.Mb(3),o.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),o.Mb(1),o.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),o.Mb(1),o.Bc("isLoading",!t.pageTitleData.title),o.Mb(3),o.Bc("ngIf",(null==t.pageTitleData?null:t.pageTitleData.isDailyAverage)&&t.isActive),o.Mb(1),o.Bc("ngIf",t.isActive),o.Mb(1),o.Bc("ngIf",!t.isActive),o.Mb(1),o.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),o.Mb(3),o.Bc("locationInfo",t.locationInfo)("isLoading",!t.locationInfo),o.Mb(1),o.Bc("ngIf",!t.isChinaPage),o.Mb(1),o.Bc("ngIf",null==(e=o.uc(17,69,t.currentMeasurementSubj))?null:e.pollen),o.Mb(2),o.Bc("locationInfo",t.locationInfo)("data",o.uc(19,71,t.weatherSubj))("isLoading",!o.uc(20,73,t.weatherSubj))("seoKeywords",t.seoKeywords.currentWeather),o.Mb(3),o.Bc("ngIf",!t.isChinaHref&&t.pollutionCost),o.Mb(1),o.Bc("infoTooltip",t.liveCityTooltip)("itemAppendKey","state")("type","city")("sectionTitle",null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.sectionTitle)("title",null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.title)("time",t.time)("name",!!t.crumbs&&!!t.crumbs[0]&&t.crumbs[0].label)("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.realTimeCountryMajorCityRanking)("data",o.uc(23,75,null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.data))("isLoading",!t.cityOfCountryRanking),o.Mb(3),o.Bc("infoTooltip",t.liveStationTooltip)("type","station")("sectionTitle",null==t.stationRankingOfCity?null:t.stationRankingOfCity.sectionTitle)("title",null==t.stationRankingOfCity?null:t.stationRankingOfCity.title)("cta",null==t.stationRankingOfCity?null:t.stationRankingOfCity.cta)("time",t.time)("name",t.pageTitleData.title)("data",o.uc(26,77,null==t.stationRankingOfCity?null:t.stationRankingOfCity.data))("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.realTimeAirQualityRanking)("isLoading",!t.stationRankingOfCity),o.Mb(2),o.Bc("ngIf",t.webcam),o.Mb(3),o.Bc("ngIf",t.nearestAlert),o.Mb(1),o.Bc("locationInfo",t.locationInfo)("data",o.uc(32,79,t.currentMeasurementSubj))("isLoading",!o.uc(33,81,t.currentMeasurementSubj))("seoKeywords",t.seoKeywords.currentAirQuality)("seoKeywordsRecommendations",t.seoKeywords.protectFromAirPollution)("pollutantStatusOneHourAgo",t.pollutantsOneHourAgo)("recommendationData",t.recommendations),o.Mb(3),o.Bc("isLoading",!t.locationInfo)("locationInfo",t.locationInfo),o.Mb(1),o.Bc("locationInfo",t.locationInfo)("forecastData",o.uc(36,83,t.dailyForecastSubj))("historyData",o.uc(37,85,t.historySubj))("currentAqi",null==(n=o.uc(38,87,t.currentMeasurementSubj))?null:n.aqi)("timezone",null==t.time?null:t.time.tz)("seoKeywords",t.seoKeywords.airQualityForecast)("isLoading",!o.uc(39,89,t.historySubj)),o.Mb(5),o.Bc("ngIf",t.isBrowser),o.Mb(1),o.Bc("ngIf",t.localAnalysis),o.Mb(2),o.Bc("locationInfo",t.locationInfo)("sources",o.uc(44,91,t.sourcesSubj))("contributors",t.contributors)("isLocality",!0)("hasLowCostSensor",t.hasLowCostSensor),o.Mb(2),o.Bc("locationInfo",t.locationInfo)("locations",t.stationOfCity)}}function vt(t,e){1&t&&o.cc(0)}function wt(t,e){if(1&t&&(o.ec(0),o.dd(1,vt,1,0,"ng-container",58),o.dc()),2&t){o.sc();const t=o.Oc(3);o.Mb(1),o.Bc("ngTemplateOutlet",t)}}function xt(t,e){1&t&&o.cc(0)}function Mt(t,e){if(1&t&&(o.ec(0),o.dd(1,xt,1,0,"ng-container",58),o.dc()),2&t){o.sc();const t=o.Oc(1);o.Mb(1),o.Bc("ngTemplateOutlet",t)}}const Ot=Object(c.g)("CITY_DATA"),Ct=Object(c.g)("CITY_POLLUTION_COST"),Pt=Object(c.g)("CITY_HISTORICAL_DATA"),It=Object(c.g)("CITY_STATIONS");let kt=(()=>{class t extends l.a{constructor(t,e,n,i,a,o,c,r,s,l,d,p,g,u,f){super(o,t,s,a,e,d,f,p,l,u),this.router=t,this.countryService=e,this.cityService=n,this.stationService=i,this.seoService=a,this.platformId=o,this.baseHref=c,this.aqiTextService=r,this.transferState=s,this.changeDetectorRef=l,this.replacementService=d,this.drupalJsonApi=p,this.hrefService=g,this.analysisService=u,this.websiteService=f,this.isChinaHref=!1,this.liveCityTooltip="",this.liveStationTooltip="",this.ssrKeys=[Ot,Ct,Pt,It],this.type="city"}ngOnInit(){super.ngOnInit(),this.isChinaHref="/cn"===this.baseHref||"/cn-en"===this.baseHref}ngOnChanges(t){t.id&&super.ngOnChanges(t)}ngAfterViewInit(){super.ngAfterViewInit()}getData(t){let e;switch(t){case Ot:e=this.cityService.getCityById(this.id,[this.cityService.cityFlags.LIVECAM]);break;case Ct:e=this.cityService.getPollutionCost(this.id);break;case Pt:e=this.cityService.getMeasurements(this.id);break;case It:e=this.stationService.getStations(this.id,{sortBy:"aqi",sortOrder:s.a.ASC})}this.subscribeWithSSR(e,t)}setData(t,e){switch(e){case Ot:this.resolveCityData(t);break;case Ct:this.pollutionCost=t;break;case Pt:this.setHistoryDataTemplate(t);break;case It:this.stationOfCity=t}}resolveCityData(t){this.setLocalityData(t)}setSeoAndTranslations(t){const e=this.getCountryOfCity(this.crumbs).label,n=this.getCityObject(this.crumbs),i=this.aqiTextService.aqiText(t.current.aqi);this.setSeo(t,e,n,i),this.setTranslations(e,n),this.isActive=t.isActive,this.nearestAlert=t.warningBanner}setSeo(t,e,n,i){const a=this.replacementService.replaceLocation(this.trans.seo.pageTitle.replace(/{city}/gi,n.label),"{country}",e,"country"),o=this.replacementService.replaceLocation(this.trans.seo.pageDescription.replace(/{city}/gi,n.label).replace(/{aqiText}/gi,i),"{country}",e,"country");this.setSeoHeaders(a,o,n.url)}setTranslations(t,e){this.pollutantHistoryTitle=this.trans.pollutantHistory.title.replace(/{city}/gi,e.label),this.pollutantSubTitle=this.trans.pollutantHistory.subtitle.replace(/{country}/gi,t).replace(/{city}/gi,e.label),this.tagTitle=this.trans.tag.heading.replace(/{city}/gi,e.label),this.tagSubTitle=this.trans.tag.subheading.replace(/{country}/gi,t).replace(/{city}/gi,e.label),this.liveStationTooltip=r.a.portal.city.infoTooltip.replace(/{city}/gi,e.label),this.liveCityTooltip=r.a.portal.country.infoTooltip.replace(/{country}/gi,this.crumbs[0].label)}getCityObject(t){switch(t.length){case 1:return{label:t[0].label,url:t[0].url};case 2:return{label:t[1].label,url:t[1].url};case 3:return{label:t[2].label,url:t[2].url}}}getStateOfCity(t){switch(t.length){case 1:return{label:t[0].label,url:t[0].url};case 2:case 3:return{label:t[1].label,url:t[1].url}}}getCountryOfCity(t){let e=t.length;switch("USA"===t[0].label&&(e=4),e){case 1:case 2:case 3:return{label:t[0].label,url:t[0].url};case 4:return{label:t[1].label,url:t[1].url}}}prepareWebcam(t){if(t.hasOwnProperty("liveCam")){const e=r.a.webcamComp;this.webcam={sectionTitle:e.sectionTitle.replace(/{location}/gi,t.name),title:e.title.replace(/{location}/gi,t.name),data:t.liveCam}}}prepareStationRankingOfCity(t){if(t.hasOwnProperty("id")&&t.hasOwnProperty("name")){const e=r.a.aqiRankingComp.stationOfCity,n=r.a.aqiRankingComp.cta;if(!(null==t?void 0:t.id))return;this.stationRankingOfCity={sectionTitle:e.sectionTitle.replace(/{location}/gi,t.name),title:e.title.replace(/{location}/gi,t.name),cta:{intro:n.intro.replace(/{location}/gi,t.name),ctaText:n.ctaText.replace(/{location}/gi,t.name)},data:this.cityService.getStationRankingByCity(t.id)}}}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(o.ac(d.g),o.ac(p.a),o.ac(g.a),o.ac(u.a),o.ac(f.a),o.ac(o.J),o.ac(a.a),o.ac(h.a),o.ac(c.f),o.ac(o.i),o.ac(m.a),o.ac(b.a),o.ac(_.a),o.ac(y.a),o.ac(v.a))},t.\u0275cmp=o.Ub({type:t,selectors:[["app-city"]],features:[o.Lb([i.h]),o.Jb,o.Kb],decls:6,vars:2,consts:[["mobile_template",""],["desktop_template",""],[4,"ngIf"],[3,"type","placeID"],[1,"container","mobile-header__block"],[3,"isLoading","locationInfo","breadcrumbs"],[3,"isLoading","pageTitleData"],["type","city","class","mobile-header__daily-average",4,"ngIf"],["class","page-title-timestamp",3,"timestamp","timezone","checkLocalTime","isLoading",4,"ngIf"],[3,"type","timezone","checkLocalTime","isLoading","lastUpdate",4,"ngIf"],[3,"pageTitleData","isLoading"],[1,"container"],[3,"alertData",4,"ngIf"],[3,"locationInfo","data","seoKeywords","isLoading","seoKeywordsRecommendations","pollutantStatusOneHourAgo","recommendationData"],[3,"isLoading","locationInfo"],[3,"locationInfo","promotionBanners","sponsorList","sourcesBanner","isLoading","contributorClicked",4,"ngIf"],[3,"locationInfo","isLoading"],[3,"isLoading","costOfPollution","locationName",4,"ngIf"],[3,"locationInfo","currentPollen",4,"ngIf"],[3,"locationInfo","data","seoKeywords","isLoading"],[3,"locationInfo","forecastData","historyData","currentAqi","timezone","isLoading","seoKeywords"],[3,"pollutantData","timezone",4,"ngIf"],[3,"infoTooltip","itemAppendKey","type","sectionTitle","title","time","name","locationInfo","data","seoKeywords","isLoading"],[3,"infoTooltip","type","sectionTitle","title","cta","time","name","isLoading","locationInfo","seoKeywords","data"],[3,"data","isLoading",4,"ngIf"],[3,"name","data","titleFormat",4,"ngIf"],["id","contributors",3,"locationInfo","sources","contributors","isLocality","hasLowCostSensor"],[3,"locationInfo","locations"],["type","city",1,"mobile-header__daily-average"],[1,"page-title-timestamp",3,"timestamp","timezone","checkLocalTime","isLoading"],[3,"type","timezone","checkLocalTime","isLoading","lastUpdate"],[3,"alertData"],[3,"locationInfo","promotionBanners","sponsorList","sourcesBanner","isLoading","contributorClicked"],[3,"isLoading","costOfPollution","locationName"],[3,"locationInfo","currentPollen"],[3,"pollutantData","timezone"],[3,"data","isLoading"],[3,"name","data","titleFormat"],[1,"container","desktop-header__block"],[1,"top-nav"],[1,"top-nav__info"],[3,"isLoading"],[1,"bottom-content"],[1,"bottom-content__left"],["type","city",4,"ngIf"],[1,"container","content__wrapper"],[1,"left-side"],[3,"isLoading","promotionBanners","sourcesBanner","locationInfo","sponsorList","contributorClicked",4,"ngIf"],[3,"locationInfo","data","isLoading","seoKeywords"],[3,"isLoading","locationName","costOfPollution",4,"ngIf"],[3,"infoTooltip","itemAppendKey","type","sectionTitle","title","time","name","locationInfo","seoKeywords","data","isLoading"],[3,"infoTooltip","type","sectionTitle","title","cta","time","name","data","locationInfo","seoKeywords","isLoading"],[1,"right-side"],[3,"locationInfo","data","isLoading","seoKeywords","seoKeywordsRecommendations","pollutantStatusOneHourAgo","recommendationData"],[3,"locationInfo","forecastData","historyData","currentAqi","timezone","seoKeywords","isLoading"],["type","city"],[3,"isLoading","promotionBanners","sourcesBanner","locationInfo","sponsorList","contributorClicked"],[3,"isLoading","locationName","costOfPollution"],[4,"ngTemplateOutlet"]],template:function(t,e){1&t&&(o.dd(0,st,39,94,"ng-template",null,0,o.ed),o.dd(2,yt,46,93,"ng-template",null,1,o.ed),o.dd(4,wt,2,1,"ng-container",2),o.dd(5,Mt,2,1,"ng-container",2)),2&t&&(o.Mb(4),o.Bc("ngIf",!e.isLocationMobileScreen),o.Mb(1),o.Bc("ngIf",e.isLocationMobileScreen))},directives:[a.o,w.a,x.a,M.a,O.a,C.a,P.a,I.a,k.a,T.a,L.a,S.a,B.a,q.a,D.a,A.a,R.a,H.a,j.a,z.a,V,W.a,$.a,J.a,Q.a,X.a,a.t],pipes:[a.b],styles:["",".mobile-header__block[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:24px}.mobile-header__block__page-title[_ngcontent-%COMP%]{margin-bottom:24px}.mobile-header__content-wrapper[_ngcontent-%COMP%]{padding-bottom:32px;border-bottom:1px solid #e6e6e6}.mobile-header__daily-average[_ngcontent-%COMP%]{margin-bottom:16px}.desktop-header__block[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:24px}.desktop-header__block[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.desktop-header__block[_ngcontent-%COMP%]   .top-nav__info[_ngcontent-%COMP%]{-ms-flex:1;flex:1;margin-right:48px}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content__left[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;gap:4px}.content__wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:72px;border-bottom:1px solid #e6e6e6}.content__wrapper[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:364px;margin-right:24px}.content__wrapper[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{-ms-flex:1 0 auto;flex:1 0 auto;max-width:calc(100% - 388px)}",""],changeDetection:0}),t})()},h4PP:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("hl0K"),a=n("XcXF"),o=n("iq9M"),c=n("BPAf"),r=n("8Y7J"),s=n("Elm6");let l=(()=>{class t{constructor(t,e){this.userPref=t,this.uniteService=e,this.trans=i.a.core.profile,this.unitTrans=i.a.dashboard.device.unit,this.FALLBACK_POLLUTANT_UNIT_MAP={aqi:this.uniteService.getUnit(a.p.AQI),pm25:"\xb5g/m\xb3",pm10:"\xb5g/m\xb3",pm1:"\xb5g/m\xb3",co2:"ppm",hcho:"ppb",tvoc:"ppb",o3:"\xb5g/m\xb3",temperature:this.uniteService.getUnit(a.p.LongTemperature),humidity:"%",pressure:this.uniteService.getUnit(a.p.Pressure)}}transform(t,e,n=!1){if("temperature"===t)return this._getTemperatureUnit(n);const i=this._getUnitFromSensorsDef(t,e);return null!=i?i:this._getUnitFromPollutantUnitMap(t)}_getUnitFromPollutantUnitMap(t){return this.FALLBACK_POLLUTANT_UNIT_MAP[t]}_getUnitFromSensorsDef(t,e){var n;return null===(n=null==e?void 0:e.find(e=>e.pollutant===t))||void 0===n?void 0:n.unit}_getTemperatureUnit(t){return t?this.unitTrans.temperature[this.userPref.units.system===o.c.Metric?a.o.Celsius:a.o.Fahrenheit]:"\xb0"}}return t.\u0275fac=function(e){return new(e||t)(r.ac(c.b),r.ac(s.a))},t.\u0275pipe=r.Zb({name:"pollutantUnit",type:t,pure:!0}),t})()},i4Hg:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("Qyzw"),a=n("8Y7J"),o=n("SVse");function c(t,e){if(1&t){const t=a.hc();a.ec(0),a.gc(1,"div",1),a.gc(2,"button",2),a.oc("click",function(e){return a.Sc(t),a.sc().openInApp(e)}),a.fd(3,"Use app"),a.fc(),a.gc(4,"div",3),a.oc("click",function(e){return a.Sc(t),a.sc().close(e)}),a.bc(5,"span",4),a.fc(),a.fc(),a.bc(6,"div",5),a.dc()}if(2&t){const t=a.sc();a.Mb(1),a.Sb("loading",t.loading)}}let r=(()=>{class t{constructor(t,e){this._isBrowser=t,this._ref=e,this._isAndroid=!1,this._isIphone=!1,this.show=!1,this.loading=!1}ngOnInit(){this._isBrowser&&(this._ua=window.navigator.userAgent.toLocaleLowerCase(),this._isAndroid=this._ua.indexOf("android")>-1,this._isIphone=this._ua.indexOf("iphone")>-1,this.show=this._isAndroid||this._isIphone)}openInApp(){if(this._ua.indexOf("android")>-1){this._setLoading(!0);const t=setTimeout(()=>{this._setLoading(!1),window.location.href="https://play.google.com/store/apps/details?id=com.airvisual"},1500);setTimeout(()=>{document.hasFocus()||(this._setLoading(!1),clearTimeout(t))},1e3),window.open(`iqair://www.iqair.com/app/airQualityDetails/${this.type}/${this.placeID}`,"_top")}this._ua.indexOf("iphone")>-1&&window.open(`/airQualityDetails/${this.type}/${this.placeID}`,"_blank")}_setLoading(t){this.loading=t,this._ref.detectChanges()}close(t){t.preventDefault(),this.show=!1}}return t.\u0275fac=function(e){return new(e||t)(a.ac(i.b),a.ac(a.i))},t.\u0275cmp=a.Ub({type:t,selectors:[["app-use-app-link"]],inputs:{type:"type",placeID:"placeID"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"use-app-link-wrapper"],[3,"click"],[1,"close-container",3,"click"],[1,"close"],[1,"use-app-link-padding"]],template:function(t,e){1&t&&a.dd(0,c,7,2,"ng-container",0),2&t&&a.Bc("ngIf",e.show)},directives:[o.o],styles:['.use-app-link-wrapper[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:fixed;z-index:10;width:100vw;background-color:#1f68ad}.use-app-link-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-ms-flex:1;flex:1;border:0;color:#fff;height:50px;font-weight:600;padding:10px;background-color:transparent}.use-app-link-wrapper.loading[_ngcontent-%COMP%]{-webkit-animation:blink 1s infinite;animation:blink 1s infinite}.use-app-link-padding[_ngcontent-%COMP%]{height:50px}@-webkit-keyframes blink{0%,49%{background-color:#539bda}50%,to{background-color:#1f68ad}}@keyframes blink{0%,49%{background-color:#539bda}50%,to{background-color:#1f68ad}}.close[_ngcontent-%COMP%]{width:14px;height:14px;position:relative}.close-container[_ngcontent-%COMP%]{width:50px;height:50px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:absolute;right:0}.close[_ngcontent-%COMP%]:after, .close[_ngcontent-%COMP%]:before{position:absolute;left:7px;content:" ";height:15px;width:1.5px;background-color:#fff}.close[_ngcontent-%COMP%]:before{-ms-transform:rotate(45deg);transform:rotate(45deg)}.close[_ngcontent-%COMP%]:after{-ms-transform:rotate(-45deg);transform:rotate(-45deg)}']}),t})()},ict9:function(t,e,n){"use strict";n.r(e),n.d(e,"RoutesResolverModule",function(){return ir});var i=n("iInd"),a=n("gpp+"),o=n("n+EO"),c=n("mrSG"),r=n("8Y7J"),s=n("SVse");const l=new r.v("LAZY_WIDGETS");let d=(()=>{class t{constructor(t,e,n,i,a){this.resolver=t,this.injector=e,this.compiler=n,this.lazyWidgets=i,this.document=a}load(t,e,n=[],i=null){return Object(c.a)(this,void 0,void 0,function*(){const a=yield this.lazyWidgets[e]();let o;o=a instanceof r.C?a:yield this.compiler.compileModuleAsync(a);const c=o.moduleType.entry,s=o.create(this.injector).componentFactoryResolver.resolveComponentFactory(c),l=t.createComponent(s,0,void 0,i?this.resolveNgContent(i):null);for(const t in n){const e=n[t];e.value&&(l.instance[e.key]=e.value)}})}resolveNgContent(t){return"string"==typeof t?[[this.document.createTextNode(t)]]:t instanceof r.U?[t.createEmbeddedView(null).rootNodes]:[[this.resolver.resolveComponentFactory(t).create(this.injector).location.nativeElement]]}}return t.\u0275fac=function(e){return new(e||t)(r.kc(r.l),r.kc(r.w),r.kc(r.j),r.kc(l),r.kc(s.d))},t.\u0275prov=r.Wb({token:t,factory:t.\u0275fac}),t})();var p=n("sJRQ"),g=n("fom2"),u=n("Lu0+"),f=n("cUpR"),h=n("hl0K"),m=n("BPAf"),b=n("XcXF"),_=n("/vC6"),y=n("fD1e"),v=n("RdO4"),w=n("uK2+"),x=n("ShgS"),M=n("2qh6");let O=(()=>{class t extends y.a{constructor(t,e,n,i,a,o,c,r,s,l){super(t,i,a,o,l,c,s),this.platformId=t,this.userPref=e,this.router=n,this.transferState=i,this.seoService=a,this.replacementService=o,this.websiteService=c,this.drupalJsonApi=r,this.changeDetectorRef=s,this.analysisService=l,this.publications=[],this.countryRankYearAPI=b.n,this.averageInformationAvailable=!0,this.overlays={showFullMap:!0,showLegend:!0,showToggle:!0,showZoom:!0}}ngOnInit(){Object(s.B)(this.platformId)&&this.userPref&&(this.time.tz=this.userPref.timezone,this.time.ts=(new Date).toISOString())}ngOnChanges(t){t.id&&this.init(),super.ngOnChanges(t)}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}setAreaData(t){super.setMainData(t),this.pageTitleData={title:t.name,time:this.time,followAction:{id:"",type:this.type}},this.locationInfo={name:t.name,type:t.type,map:{lat:t.coordinates.latitude,lng:t.coordinates.longitude,zoomLevel:t.zoomLevel}},this.areaData=t,this.setTagTitle(t),this.setSeo(t),this.setContributorsAndSources(t),this.setCitiesRankingLists(t),this.setAreaYearRanking(t),this.fetchDrupalPlaceAnalysis(this.areaData)}setAreaYearRankingTemplate(t,e){e(t.id,this.countryRankYearAPI).subscribe(t=>{this.setAvgAqiOverview(t),this.setAqiAreaRanking(t)},t=>{console.log("error while getting country year ranking data",t),this.averageInformationAvailable=!1})}setAvgAqiOverview(t){this.avgAqiOverview={flagURL:t.flagURL,year:t.year,averageAQI:t.averageAQI,WHOExposure:t.WHOExposure,WHOExposureColor:t.WHOExposureColor,cleanestCity:t.cleanestCity,mostPollutedCity:t.mostPollutedCity}}setAqiAreaRanking(t){const e=this.transCore[t.type];this.aqiAreaRanking={sectionTitle:this.replacementService.replaceLocation(this.trans.countryPageRanking.country.heading,"{type}",e,this.type),questions:[this.replacementService.replaceLocation(this.trans.countryPageRanking.country.firstQuestion,"{country}",this.locationInfo.name,this.locationInfo.type),this.replacementService.replaceType(this.trans.countryPageRanking.country.secondQuestion,"{type}",this.locationInfo.type,e).replace(/{year}/gi,t.year)],year:t.year,mainCountry:{name:t.name,averageAQI:t.averageAQI,rank:t.rank,population:t.population,flagURL:t.flagURL},countries:t.topCountries}}setSeo(t){const e=t.breadcrumbs[0].label,n=this.replacementService.replaceLocation(this.trans.seo.pageTitle,"{country}",e,"country"),i=this.replacementService.replaceLocation(this.trans.seo.pageDescription,"{country}",e,"country");this.setSeoHeaders(n,i,t.breadcrumbs[t.breadcrumbs.length-1].url)}setCitiesRankingListsTemplate(t,e,n){this.mostPollutedCitiesRanking={sectionTitle:e.city.heading,title:this.replacementService.replaceLocation(e.city.subheadingWorstPolluted,"{country}",t.name,t.type,!0),data:n(t.id,_.a.DESC)},this.cleanestCitiesRanking={sectionTitle:e.city.heading,title:this.replacementService.replaceLocation(e.city.subheadingCleanest,"{country}",t.name,t.type,!0),data:n(t.id,_.a.ASC)}}fetchDrupalPlaceAnalysis(t){let e=this.router.url.split("?")[0];e=e.split("#")[0],this.drupalJsonApi.getIQAirPlaceAnalysisByPath(e).subscribe(e=>{var n,i,a,o;(null===(o=null===(a=null===(i=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n[0])||void 0===i?void 0:i.attributes)||void 0===a?void 0:a.body)||void 0===o?void 0:o.value)&&(t.analysis=e.data[0].attributes.body.value)})}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.J),r.ac(m.b),r.ac(i.g),r.ac(f.f),r.ac(p.a),r.ac(v.a),r.ac(w.a),r.ac(x.a),r.ac(r.i),r.ac(M.a))},t.\u0275dir=r.Vb({type:t,features:[r.Jb,r.Kb]}),t})();var C=n("QGOA"),P=n("W8+8"),I=n("IheW");let k=(()=>{class t{constructor(t){this.http=t,this.apiUrl=Object(P.a)()}getWorldKpi(){return this.http.get(`${this.apiUrl}countries/kpis`)}getCountryKpi(t){return this.http.get(`${this.apiUrl}countries/${t}/kpis`)}getStateKpi(t){return this.http.get(`${this.apiUrl}states/${t}/kpis`)}}return t.\u0275fac=function(e){return new(e||t)(r.kc(I.b))},t.\u0275prov=r.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=n("6cJF");Object(f.g)("city");let L=(()=>{class t{constructor(t,e,n){this.http=t,this.router=e,this.activatedRoute=n,this.cityEndpoint=Object(P.a)()}doEmptyRequest(){return this.http.get("/assets/json/empty.json")}getPublications(t=20){const e=this.resolveParams(t);return this.http.get(`${this.cityEndpoint}publications`,{params:e})}getPublicationsByCategory(t,e=20){const n=this.resolveParams(e);let i=t;return t&&"education"===t&&(i="air-quality"),this.http.get(`${this.cityEndpoint}publications/by/category/${i}`,{params:n})}getPublicationBySlug(t){return this.http.get(`${this.cityEndpoint}publications/by/slug/${t}`)}getPublicationsResponse(t=20){const e=this.resolveParams(t);return this.http.get(`${this.cityEndpoint}publications/by/category/all`,{observe:"response",params:e})}getPublicationsByCategoryResponse(t,e=20){const n=this.resolveParams(e);return this.http.get(`${this.cityEndpoint}publications/by/category/${t}`,{observe:"response",params:n})}resolveParams(t){let e=new I.f({encoder:new T.a}).set("perPage",""+t);return e=e.set("page",this.activatedRoute.snapshot.queryParams.page||1),e}}return t.\u0275fac=function(e){return new(e||t)(r.kc(I.b),r.kc(i.g),r.kc(i.a))},t.\u0275prov=r.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=n("o71z"),B=n("9KOp"),q=n("BOp4"),D=n("y/Nm"),A=n("pCQX"),R=n("UFt6"),H=n("sIer"),j=n("7JpE"),z=n("ndoy"),K=n("qxjq"),F=n("+oQn"),U=n("Elm6"),E=n("Laix"),N=n("UNx2"),Y=n("g8r5"),V=n("O1EI"),W=n("NLHw"),$=n("REAf");function J(t,e){if(1&t&&(r.gc(0,"div",8),r.bc(1,"app-who-guideline",9),r.fc()),2&t){const t=r.sc(2);r.Mb(1),r.Bc("WHOExposure",t.WHOExposure)("WHOExposureColor",t.WHOExposureColor)("locationName",t.locationName)("type",t.type)}}function Q(t,e){if(1&t&&(r.gc(0,"div",1),r.gc(1,"div"),r.tc(2,"aqiFgBgColorClass"),r.gc(3,"div",2),r.bc(4,"img",3),r.tc(5,"aqiFace"),r.gc(6,"p",4),r.fd(7),r.tc(8,"aqiText"),r.fc(),r.fc(),r.gc(9,"div",5),r.gc(10,"p",6),r.fd(11),r.fc(),r.gc(12,"p"),r.tc(13,"aqiBoxBg"),r.fd(14),r.fc(),r.fc(),r.fc(),r.dd(15,J,2,4,"div",7),r.fc()),2&t){const t=r.sc();r.Mb(1),r.Qb("description__header ",r.uc(2,13,t.aqi),""),r.Mb(3),r.Bc("src",r.uc(5,15,t.aqi),r.Vc)("alt",t.imageAltTrans.aqiFaceAlt),r.Mb(3),r.gd(r.uc(8,17,t.aqi)),r.Mb(4),r.id("",t.year," ",t.averageTrans,""),r.Mb(1),r.Qb("iqair-aqi-pill description__header__number ",r.uc(13,19,t.aqi),""),r.Mb(2),r.gd(t.aqi),r.Mb(1),r.Bc("ngIf",void 0!==t.WHOExposure&&t.WHOExposureColor)}}const X=function(){return{width:"100%",height:"64px"}},G=function(){return{width:"100%",height:"72px"}};function Z(t,e){1&t&&(r.gc(0,"div",1),r.gc(1,"app-loading",10),r.rc(),r.bc(2,"rect",11),r.fc(),r.qc(),r.gc(3,"div",8),r.gc(4,"app-loading",12),r.rc(),r.bc(5,"rect",11),r.fc(),r.fc(),r.fc()),2&t&&(r.Mb(1),r.Yc(r.Gc(12,X)),r.ad("width","100%")("display","block")("height","64px"),r.Mb(3),r.Yc(r.Gc(13,G)),r.ad("width","100%"))}let tt=(()=>{class t{constructor(t){this.unitsSevice=t,this.isLoading=!1,this.trans=h.a.portal.core,this.overviewTrans=h.a.portal.country.overview,this.imageAltTrans=h.a.portal.imageAlt,this.unitAqi=this.unitsSevice.getUnit(b.p.AQI)}ngOnInit(){this.averageTrans=this.overviewTrans.average.replace(/{unit}/gi,this.unitAqi)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(U.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-average-aqi-overview-description"]],inputs:{locationName:"locationName",year:"year",aqi:"aqi",WHOExposure:"WHOExposure",WHOExposureColor:"WHOExposureColor",type:"type",isLoading:"isLoading"},decls:2,vars:2,consts:[["class","description",4,"ngIf"],[1,"description"],[1,"description__header__left-side"],[1,"description__header__image",3,"src","alt"],[1,"description__header__text"],[1,"description__header__right-side"],[1,"description__header__measurement"],["class","description__body",4,"ngIf"],[1,"description__body"],[3,"WHOExposure","WHOExposureColor","locationName","type"],["preserveAspectRatio","none"],["x","0","y","0","rx","1","ry","1","width","100%","height","100%"],["preserveAspectRatio","none",1,"description__body__text"]],template:function(t,e){1&t&&(r.dd(0,Q,16,21,"div",0),r.dd(1,Z,6,14,"div",0)),2&t&&(r.Bc("ngIf",!e.isLoading),r.Mb(1),r.Bc("ngIf",e.isLoading))},directives:[s.o,E.a,N.a],pipes:[Y.a,V.a,W.a,$.a],styles:[".description[_ngcontent-%COMP%]{margin-bottom:16px}@media only screen and (min-width:960px){.description[_ngcontent-%COMP%]{margin-bottom:24px}}.description__header[_ngcontent-%COMP%]{width:100%;height:64px;padding:0 16px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;border-radius:4px 4px 0 0}@media only screen and (max-width:599.9px){.description__header[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;padding:12px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;-ms-flex-align:start;align-items:flex-start}}.description__header__left-side[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media only screen and (max-width:599.9px){.description__header__left-side[_ngcontent-%COMP%]{margin-bottom:12px}}.description__header__image[_ngcontent-%COMP%]{height:40px;margin-right:12px}.description__header__text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:1.5}.description__header__right-side[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center}@media only screen and (max-width:599.9px){.description__header__right-side[_ngcontent-%COMP%]{-ms-flex-direction:row-reverse;flex-direction:row-reverse}}.description__header__measurement[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:1.5}.description__header__number[_ngcontent-%COMP%]{margin-left:16px}@media only screen and (max-width:599.9px){.description__header__number[_ngcontent-%COMP%]{margin-left:52px;margin-right:8px}}.description__body[_ngcontent-%COMP%]{padding:24px;box-shadow:inset 0 -2px 0 0 #eef2f6;border:1px solid rgba(0,0,0,.08);border-top:none;border-radius:0 0 4px 4px}@media only screen and (max-width:599.9px){.description__body[_ngcontent-%COMP%]{padding:16px}}"]}),t})();var et=n("rayB"),nt=n("KrkP");function it(t,e){1&t&&r.cc(0)}function at(t,e){1&t&&r.cc(0)}const ot=function(t,e){return{city:t,title:e}};function ct(t,e){if(1&t&&(r.gc(0,"div",3),r.gc(1,"table",4),r.gc(2,"tbody"),r.dd(3,it,1,0,"ng-container",5),r.dd(4,at,1,0,"ng-container",5),r.fc(),r.fc(),r.fc()),2&t){const t=r.sc(),e=r.Oc(2);r.Mb(1),r.Bc("SeoSchema",t.seoSchema)("title",t.title),r.Mb(2),r.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.Ic(6,ot,t.cleanestCity,t.cleanestTitle)),r.Mb(1),r.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.Ic(9,ot,t.mostPollutedCity,t.mostPollutedTitle))}}function rt(t,e){if(1&t&&(r.gc(0,"span"),r.fd(1),r.fc()),2&t){const t=r.sc().city;r.Mb(1),r.hd(", ",t.state,"")}}function st(t,e){if(1&t){const t=r.hc();r.gc(0,"tr"),r.gc(1,"td"),r.gc(2,"strong"),r.fd(3),r.fc(),r.fd(4),r.fc(),r.gc(5,"td",6),r.oc("click",function(){r.Sc(t);const n=e.city;return r.sc().navigateTo(n.url)}),r.tc(6,"aqiFgOpacityBgColor"),r.gc(7,"span",7),r.fd(8),r.dd(9,rt,2,1,"span",2),r.fc(),r.gc(10,"p"),r.tc(11,"aqiFgBgColorClass"),r.fd(12),r.fc(),r.bc(13,"div",8),r.fc(),r.fc()}if(2&t){const t=e.city,n=e.title,i=r.sc();r.Mb(3),r.gd(i.year),r.Mb(1),r.hd("\xa0",n," "),r.Mb(1),r.Qb("average-aqi-overview-table__city-aqi ",r.uc(6,11,t.aqi),""),r.Mb(3),r.hd(" ",t.name," "),r.Mb(1),r.Bc("ngIf","country"===i.locationInfo.type),r.Mb(1),r.Qb("iqair-aqi-pill aqi-number ",r.uc(11,13,t.aqi),""),r.Mb(2),r.gd(t.aqi)}}const lt=function(){return{width:"100%",height:"99px"}};function dt(t,e){1&t&&(r.ec(0),r.gc(1,"app-loading",9),r.rc(),r.bc(2,"rect",10),r.bc(3,"rect",11),r.fc(),r.dc()),2&t&&(r.Mb(1),r.Yc(r.Gc(4,lt)),r.ad("display","block"))}let pt=(()=>{class t{constructor(t,e){this.replacementService=t,this.router=e,this.isLoading=!1,this.trans=h.a.portal.country.overview}ngOnInit(){this.locationInfo&&(this.cleanestTitle=this.replacementService.replaceLocation(this.trans.cleanest,"{country}",this.locationInfo.name,this.locationInfo.type),this.mostPollutedTitle=this.replacementService.replaceLocation(this.trans.mostPolluted,"{country}",this.locationInfo.name,this.locationInfo.type))}navigateTo(t){this.router.navigate([t||this.router.url])}}return t.\u0275fac=function(e){return new(e||t)(r.ac(v.a),r.ac(i.g))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-average-aqi-overview-table"]],inputs:{locationInfo:"locationInfo",year:"year",title:"title",cleanestCity:"cleanestCity",mostPollutedCity:"mostPollutedCity",isLoading:"isLoading",seoSchema:"seoSchema"},decls:4,vars:2,consts:[["class","table-wrapper",4,"ngIf"],["row",""],[4,"ngIf"],[1,"table-wrapper"],[1,"average-aqi-overview-table",3,"SeoSchema","title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],[1,"city"],[1,"overlay"],["preserveAspectRatio","none",1,"table-wrapper"],["x","0","y","0","rx","1","ry","1","width","100%","height","49.5%"],["x","0","y","51%","rx","1","ry","1","width","100%","height","49.5%"]],template:function(t,e){1&t&&(r.dd(0,ct,5,12,"div",0),r.dd(1,st,14,15,"ng-template",null,1,r.ed),r.dd(3,dt,4,5,"ng-container",2)),2&t&&(r.Bc("ngIf",!e.isLoading),r.Mb(3),r.Bc("ngIf",e.isLoading))},directives:[s.o,et.a,s.t,N.a],pipes:[nt.a,Y.a],styles:["table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-collapse:collapse}.table-wrapper[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto;border-radius:4px}.average-aqi-overview-table[_ngcontent-%COMP%]{width:100%;border-radius:4px;border:1px solid rgba(0,0,0,.08)}.average-aqi-overview-table__city-aqi[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;width:100%!important;height:inherit;position:relative;cursor:pointer}.average-aqi-overview-table__city-aqi[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{line-height:1.5;font-weight:500}.average-aqi-overview-table__city-aqi[_ngcontent-%COMP%]   .aqi-number[_ngcontent-%COMP%], .average-aqi-overview-table__city-aqi[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{z-index:1}.average-aqi-overview-table__city-aqi[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}.average-aqi-overview-table__city-aqi[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:active, .average-aqi-overview-table__city-aqi[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}.average-aqi-overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{border-bottom:1px solid rgba(0,0,0,.08)}.average-aqi-overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 16px;width:50%;height:48px}@media only screen and (max-width:599.9px){.average-aqi-overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:100%;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center}.average-aqi-overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .average-aqi-overview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){border-bottom:1px solid rgba(0,0,0,.08)}}"]}),t})();function gt(t,e){if(1&t&&r.bc(0,"img",10),2&t){const t=r.sc(2);r.Bc("src",t.avgAqiOverview.flagURL,r.Vc)("alt",null==t.imageAltTrans.flagAlt?null:t.imageAltTrans.flagAlt.replace("{country}",t.locationInfo.name))}}function ut(t,e){if(1&t&&r.bc(0,"app-average-aqi-overview-description",11),2&t){const t=r.sc(2);r.Bc("locationName",null==t.locationInfo?null:t.locationInfo.name)("year",null==t.avgAqiOverview?null:t.avgAqiOverview.year)("aqi",null==t.avgAqiOverview?null:t.avgAqiOverview.averageAQI)("WHOExposure",null==t.avgAqiOverview?null:t.avgAqiOverview.WHOExposure)("WHOExposureColor",null==t.avgAqiOverview?null:t.avgAqiOverview.WHOExposureColor)("type",null==t.locationInfo?null:t.locationInfo.type)}}function ft(t,e){if(1&t&&r.bc(0,"app-average-aqi-overview-table",12),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("year",null==t.avgAqiOverview?null:t.avgAqiOverview.year)("title",t.overviewTitle)("cleanestCity",null==t.avgAqiOverview?null:t.avgAqiOverview.cleanestCity)("mostPollutedCity",null==t.avgAqiOverview?null:t.avgAqiOverview.mostPollutedCity)("seoSchema",t.seoSchema)}}function ht(t,e){if(1&t&&(r.gc(0,"div",1),r.gc(1,"h3",2),r.fd(2),r.fc(),r.gc(3,"h2",3),r.fd(4),r.fc(),r.gc(5,"div",4),r.gc(6,"div",5),r.dd(7,gt,1,2,"img",6),r.gc(8,"p",7),r.fd(9),r.fc(),r.fc(),r.dd(10,ut,1,6,"app-average-aqi-overview-description",8),r.dd(11,ft,1,6,"app-average-aqi-overview-table",9),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(2),r.hd(" ",t.trans.overviewSectionTitle," "),r.Mb(2),r.gd(t.overviewTitle),r.Mb(3),r.Bc("ngIf","country"===t.locationInfo.type),r.Mb(2),r.id("",t.avgAqiOverview.year," ",t.trans.heading,""),r.Mb(1),r.Bc("ngIf",t.avgAqiOverview),r.Mb(1),r.Bc("ngIf",t.avgAqiOverview)}}const mt=function(){return{height:"54px",width:"100%"}};function bt(t,e){if(1&t&&(r.gc(0,"div",1),r.gc(1,"app-loading",13),r.rc(),r.bc(2,"rect",14),r.fc(),r.qc(),r.gc(3,"div",4),r.bc(4,"app-average-aqi-overview-description",15),r.bc(5,"app-average-aqi-overview-table",15),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(1),r.Yc(r.Gc(6,mt)),r.ad("display","block"),r.Mb(3),r.Bc("isLoading",t.isLoading||!t.avgAqiOverview),r.Mb(1),r.Bc("isLoading",t.isLoading||!t.avgAqiOverview)}}let _t=(()=>{class t{constructor(t,e){this.seoSchemaService=t,this.replacementService=e,this.isLoading=!1,this.trans=h.a.portal.country.overview,this.imageAltTrans=h.a.portal.imageAlt}ngOnInit(){this.checkLocationInfo()}ngOnChanges(t){(t.locationInfo&&t.locationInfo.currentValue||t.overviewTitle&&t.overviewTitle.currentValue)&&this.checkLocationInfo()}checkLocationInfo(){this.locationInfo&&this.locationInfo.name&&(this.overviewTitle=this.replacementService.replaceLocation(this.trans.overviewTitle,"{country}",this.locationInfo.name,this.locationInfo.type),this.seoKeywords&&this.locationInfo.type&&this.overviewTitle&&(this.seoSchema=this.seoSchemaService.createSchema("Table",this.overviewTitle,this.seoSchemaService.createKeywords(this.seoKeywords,this.locationInfo.type,this.locationInfo.name))))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(F.a),r.ac(v.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-average-aqi-overview"]],inputs:{locationInfo:"locationInfo",avgAqiOverview:"avgAqiOverview",isLoading:"isLoading",seoKeywords:"seoKeywords"},features:[r.Kb],decls:2,vars:2,consts:[["class","average-aqi-overview",4,"ngIf"],[1,"average-aqi-overview"],[1,"average-aqi-overview__section-title"],[1,"average-aqi-overview__title"],[1,"average-aqi-overview__information"],[1,"country-container"],["class","country-container__image",3,"src","alt",4,"ngIf"],[1,"country-container__text"],[3,"locationName","year","aqi","WHOExposure","WHOExposureColor","type",4,"ngIf"],[3,"locationInfo","year","title","cleanestCity","mostPollutedCity","seoSchema",4,"ngIf"],[1,"country-container__image",3,"src","alt"],[3,"locationName","year","aqi","WHOExposure","WHOExposureColor","type"],[3,"locationInfo","year","title","cleanestCity","mostPollutedCity","seoSchema"],["preserveAspectRatio","none",1,"average-aqi-overview__title"],["x","0","y","0","rx","1","ry","1","width","180px","height","100%"],[3,"isLoading"]],template:function(t,e){1&t&&(r.dd(0,ht,12,7,"div",0),r.dd(1,bt,6,7,"div",0)),2&t&&(r.Bc("ngIf",!e.isLoading&&e.avgAqiOverview&&e.locationInfo),r.Mb(1),r.Bc("ngIf",e.isLoading||!e.avgAqiOverview))},directives:[s.o,tt,pt,N.a],styles:[".average-aqi-overview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);padding:16px;margin-bottom:16px;color:#414141}@media only screen and (min-width:960px){.average-aqi-overview[_ngcontent-%COMP%]{padding:24px;margin-bottom:24px}}.average-aqi-overview__section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.average-aqi-overview__section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.average-aqi-overview__title[_ngcontent-%COMP%]{font-size:18px;line-height:1.44;color:#414141;font-weight:500;font-family:Arial,Helvetica,sans-serif;margin-bottom:16px}@media only screen and (max-width:959.9px){.average-aqi-overview__title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53}}@media only screen and (min-width:960px){.average-aqi-overview__title[_ngcontent-%COMP%]{margin-bottom:32px}}.average-aqi-overview__information[_ngcontent-%COMP%]   .country-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:16px}.average-aqi-overview__information[_ngcontent-%COMP%]   .country-container__image[_ngcontent-%COMP%]{width:34px;height:23px;margin-right:12px}.average-aqi-overview__information[_ngcontent-%COMP%]   .country-container__text[_ngcontent-%COMP%]{color:#414141;font-size:16px;line-height:1.5}"]}),t})();var yt=n("E8p3"),vt=n("Z4Si");function wt(t,e){if(1&t&&r.bc(0,"img",9),2&t){const t=r.sc().$implicit,e=r.sc(2);r.Dc("src","https://cdn.airvisual.net/flags/",t.url.substr(1),".jpg",r.Vc),r.Bc("alt",null==e.imageAltTrans.flagAlt?null:e.imageAltTrans.flagAlt.replace("{country}",t.name))}}const xt=function(t){return{"main-location":t}};function Mt(t,e){if(1&t&&(r.gc(0,"tr",6),r.gc(1,"td"),r.fd(2),r.fc(),r.gc(3,"td"),r.dd(4,wt,1,2,"img",7),r.gc(5,"a",8),r.fd(6),r.fc(),r.fc(),r.gc(7,"td"),r.fd(8),r.tc(9,"populationNumber"),r.fc(),r.gc(10,"td"),r.gc(11,"p"),r.tc(12,"aqiBgColorClass"),r.fd(13),r.fc(),r.fc(),r.fc()),2&t){const t=e.$implicit,n=r.sc(2);r.Bc("ngClass",r.Hc(14,xt,t.rank===n.mainLocation.rank)),r.Mb(2),r.gd(t.rank),r.Mb(2),r.Bc("ngIf","country"===n.locationType),r.Mb(1),r.Bc("routerLink",t.url),r.Mb(1),r.gd(t.name),r.Mb(2),r.gd(r.uc(9,10,t.population)),r.Mb(3),r.Qb("iqair-aqi-pill aqi-value ",r.uc(12,12,t.averageAQI),""),r.Mb(2),r.hd(" ",t.averageAQI," ")}}function Ot(t,e){if(1&t&&r.bc(0,"img",9),2&t){const t=r.sc(3);r.Bc("src",t.mainLocation.flagURL,r.Vc)("alt",null==t.imageAltTrans.flagAlt?null:t.imageAltTrans.flagAlt.replace("{country}",t.mainLocation.name))}}function Ct(t,e){if(1&t&&(r.gc(0,"tr",10),r.gc(1,"td"),r.fd(2),r.fc(),r.gc(3,"td"),r.dd(4,Ot,1,2,"img",7),r.gc(5,"a",8),r.fd(6),r.fc(),r.fc(),r.gc(7,"td"),r.fd(8),r.tc(9,"populationNumber"),r.fc(),r.gc(10,"td"),r.gc(11,"p"),r.tc(12,"aqiBgColorClass"),r.fd(13),r.fc(),r.fc(),r.fc()),2&t){const t=r.sc(2);r.Mb(2),r.gd(t.mainLocation.rank),r.Mb(2),r.Bc("ngIf","country"===t.locationType),r.Mb(1),r.Bc("routerLink",t.mainLocation.url),r.Mb(1),r.gd(t.mainLocation.name),r.Mb(2),r.gd(r.uc(9,9,t.mainLocation.population)),r.Mb(3),r.Qb("iqair-aqi-pill aqi-value ",r.uc(12,11,t.mainLocation.averageAQI),""),r.Mb(2),r.hd(" ",t.mainLocation.averageAQI," ")}}function Pt(t,e){if(1&t&&(r.gc(0,"div",2),r.gc(1,"table",3),r.gc(2,"thead"),r.gc(3,"tr"),r.gc(4,"th"),r.fd(5,"#"),r.fc(),r.gc(6,"th"),r.fd(7),r.fc(),r.gc(8,"th"),r.fd(9),r.fc(),r.gc(10,"th"),r.fd(11),r.fc(),r.fc(),r.fc(),r.gc(12,"tbody"),r.dd(13,Mt,14,16,"tr",4),r.dd(14,Ct,14,13,"tr",5),r.fc(),r.fc(),r.fc()),2&t){const t=r.sc();r.Bc("SeoSchema",t.seoSchema)("title",t.seoTitle),r.Mb(7),r.gd(t.tableHeader.name),r.Mb(2),r.gd(t.tableHeader.population),r.Mb(2),r.gd(t.tableHeader.avgAqi),r.Mb(2),r.Bc("ngForOf",t.locations),r.Mb(1),r.Bc("ngIf",!t.isTopCountry)}}const It=function(){return{height:"420px",width:"100%"}};function kt(t,e){1&t&&(r.ec(0),r.gc(1,"app-loading",11),r.rc(),r.bc(2,"rect",12),r.fc(),r.dc()),2&t&&(r.Mb(1),r.Yc(r.Gc(4,It)),r.ad("display","block"))}let Tt=(()=>{class t{constructor(t){var e;this.userPref=t,this.isLoading=!1,this.tableHeaderTrans=h.a.portal.country.countryPageRanking.country.tableHeader,this.imageAltTrans=h.a.portal.imageAlt,this.unitAqi=null===(e=this.userPref)||void 0===e?void 0:e.AQI}ngOnInit(){this.translateTableHeader(),this.updateRank()}ngOnChanges(t){this.translateTableHeader(),this.updateRank()}updateRank(){this.mainLocation&&(this.isTopCountry=this.mainLocation.rank<=this.locations.length)}translateTableHeader(){let t=this.tableHeaderTrans.country;"state"===this.locationType&&(t=this.tableHeaderTrans.state),this.tableHeader={name:t,population:this.tableHeaderTrans.population,avgAqi:this.tableHeaderTrans.avgAqi.replace(/{unit}/gi,this.unitAqi)}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(m.b))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-aqi-state-ranking-table"]],inputs:{locationType:"locationType",locations:"locations",mainLocation:"mainLocation",seoSchema:"seoSchema",seoTitle:"seoTitle",isLoading:"isLoading"},features:[r.Kb],decls:2,vars:2,consts:[["class","table-wrapper",3,"SeoSchema","title",4,"ngIf"],[4,"ngIf"],[1,"table-wrapper",3,"SeoSchema","title"],[1,"ranking-table"],[3,"ngClass",4,"ngFor","ngForOf"],["class","main-location",4,"ngIf"],[3,"ngClass"],["class","country-icon",3,"src","alt",4,"ngIf"],[3,"routerLink"],[1,"country-icon",3,"src","alt"],[1,"main-location"],["height","240","preserveAspectRatio","none",1,"table-wrapper"],["x","0","y","0","rx","1","ry","1","width","100%","height","237"]],template:function(t,e){1&t&&(r.dd(0,Pt,15,7,"div",0),r.dd(1,kt,3,5,"ng-container",1)),2&t&&(r.Bc("ngIf",!e.isLoading),r.Mb(1),r.Bc("ngIf",e.isLoading))},directives:[s.o,et.a,s.n,s.m,i.j,N.a],pipes:[yt.a,vt.a],styles:["table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-collapse:collapse}.table-wrapper[_ngcontent-%COMP%]{max-width:100%;margin-bottom:16px}@media only screen and (max-width:599.9px){.table-wrapper[_ngcontent-%COMP%]{overflow-x:scroll}}.ranking-table[_ngcontent-%COMP%]{width:100%}.ranking-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .ranking-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:start}.ranking-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .ranking-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{font-weight:700;min-width:35px;padding-left:6px}.ranking-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .ranking-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){min-width:238px}.ranking-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .ranking-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){min-width:160px}.ranking-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), .ranking-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){text-align:end;min-width:114px;padding-right:6px}.ranking-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:12px;font-weight:700;text-transform:uppercase;line-height:1.5}.ranking-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:24px}.ranking-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.ranking-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:36px}.ranking-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.main-location[_ngcontent-%COMP%]{background-color:#f3f7fb;border-top:1px solid rgba(0,0,0,.08)}.ranking-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .country-icon[_ngcontent-%COMP%]{width:34px;height:23px;margin-right:8px;-o-object-fit:contain;object-fit:contain}.ranking-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .aqi-value[_ngcontent-%COMP%]{margin-left:auto}"]}),t})();function Lt(t,e){if(1&t&&(r.gc(0,"div",1),r.gc(1,"h3",2),r.fd(2),r.fc(),r.gc(3,"h2",3),r.fd(4),r.fc(),r.gc(5,"div",4),r.gc(6,"span",5),r.fd(7),r.fc(),r.gc(8,"span",6),r.fd(9),r.fc(),r.fc(),r.gc(10,"h2",3),r.fd(11),r.fc(),r.bc(12,"app-aqi-state-ranking-table",7),r.gc(13,"a",8),r.fd(14),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(2),r.id(" ",t.aqiLocationRanking.year," ",t.aqiLocationRanking.sectionTitle," "),r.Mb(2),r.gd(t.aqiLocationRanking.questions[0]),r.Mb(3),r.gd(t.aqiLocationRanking.mainCountry.rank),r.Mb(2),r.id("/ ",t.numberOfRankedCountries," ",t.totalCountriesOrStates,""),r.Mb(2),r.hd(" ",t.aqiLocationRanking.questions[1]," "),r.Mb(1),r.Bc("locationType",t.locationInfo.type)("seoSchema",t.seoSchema)("seoTitle",t.aqiLocationRanking.questions[1])("locations",t.aqiLocationRanking.countries)("mainLocation",t.aqiLocationRanking.mainCountry)("isLoading",t.isLoading),r.Mb(2),r.gd(t.trans.see)}}const St=function(){return{height:"54px",width:"350px",maxWidth:"100%"}},Bt=function(){return{height:"50px",width:"100%"}},qt=function(){return{height:"42px",width:"100%"}};function Dt(t,e){if(1&t&&(r.gc(0,"div",1),r.gc(1,"app-loading",9),r.rc(),r.bc(2,"rect",10),r.fc(),r.qc(),r.gc(3,"app-loading",11),r.rc(),r.bc(4,"rect",10),r.fc(),r.qc(),r.bc(5,"app-aqi-state-ranking-table",12),r.gc(6,"app-loading",11),r.rc(),r.bc(7,"rect",10),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(1),r.Yc(r.Gc(19,St)),r.ad("display","block"),r.Mb(2),r.Yc(r.Gc(20,Bt)),r.ad("width","100%")("margin-bottom","68px")("display","block"),r.Mb(2),r.Bc("isLoading",t.isLoading||!t.aqiLocationRanking),r.Mb(1),r.Yc(r.Gc(21,qt)),r.ad("width","100%")("display","block")}}let At=(()=>{class t{constructor(t){this.seoSchemaService=t,this.isLoading=!1,this.trans=h.a.core.nav,this.totalTrans=h.a.portal.country.countryPageRanking.country,this.numberOfRankedCountries=b.r}ngOnInit(){this.initTranslations()}ngOnChanges(t){(t.locationInfo&&t.locationInfo.currentValue||t.aqiLocationRanking&&t.aqiLocationRanking.currentValue)&&this.initTranslations(),this.updateSeoStructuredData(t)}initTranslations(){this.aqiLocationRanking&&this.aqiLocationRanking.year&&this.locationInfo&&"country"===this.locationInfo.type&&(this.totalCountriesOrStates=this.totalTrans.totalCountries.replace(/{year}/,this.aqiLocationRanking.year)),this.locationInfo&&"state"===this.locationInfo.type&&(this.totalCountriesOrStates=this.totalTrans.totalStates)}updateSeoStructuredData(t){(t.aqiLocationRanking&&t.aqiLocationRanking.currentValue||t.locationInfo&&t.locationInfo.currentValue)&&this.aqiLocationRanking&&this.aqiLocationRanking.questions&&this.seoKeywords&&this.locationInfo&&(this.seoSchema=this.seoSchemaService.createSchema("Table",this.aqiLocationRanking.questions[1],this.seoSchemaService.createKeywords(this.seoKeywords,this.locationInfo.type,this.locationInfo.name)))}}return t.\u0275fac=function(e){return new(e||t)(r.ac(F.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-aqi-state-ranking"]],inputs:{locationInfo:"locationInfo",aqiLocationRanking:"aqiLocationRanking",isLoading:"isLoading",seoKeywords:"seoKeywords"},features:[r.Kb],decls:2,vars:2,consts:[["class","aqi-state-ranking",4,"ngIf"],[1,"aqi-state-ranking"],[1,"aqi-state-ranking__section-title"],[1,"aqi-state-ranking__title"],[1,"aqi-state-ranking__standing"],[1,"aqi-state-ranking__standing__number"],[1,"aqi-state-ranking__standing__total"],[3,"locationType","seoSchema","seoTitle","locations","mainLocation","isLoading"],["href","/world-most-polluted-countries",1,"iqair-contained-button","aqi-state-ranking__btn-detail"],["preserveAspectRatio","none",1,"aqi-state-ranking__title"],["x","0","y","0","rx","1","ry","1","width","100%","height","100%"],["preserveAspectRatio","none"],[3,"isLoading"]],template:function(t,e){1&t&&(r.dd(0,Lt,15,14,"div",0),r.dd(1,Dt,8,22,"div",0)),2&t&&(r.Bc("ngIf",!e.isLoading&&e.aqiLocationRanking),r.Mb(1),r.Bc("ngIf",e.isLoading||!e.aqiLocationRanking))},directives:[s.o,Tt,N.a],styles:[".aqi-state-ranking[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);padding:16px}@media only screen and (min-width:960px){.aqi-state-ranking[_ngcontent-%COMP%]{padding:24px}}@media only screen and (max-width:959.9px){.aqi-state-ranking[_ngcontent-%COMP%]{margin-bottom:16px}}@media only screen and (max-width:959.9px) and (min-width:960px){.aqi-state-ranking[_ngcontent-%COMP%]{margin-bottom:24px}}@media only screen and (min-width:960px){.aqi-state-ranking[_ngcontent-%COMP%]{margin-bottom:56px}}.aqi-state-ranking__section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.aqi-state-ranking__section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.aqi-state-ranking__title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:20px;line-height:1.4;color:#414141;font-weight:500;letter-spacing:normal;margin-bottom:32px}@media only screen and (max-width:959.9px){.aqi-state-ranking__title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53;margin-bottom:16px}}.aqi-state-ranking__standing[_ngcontent-%COMP%]{padding:6px 8px;background-color:#f9fafb;margin-bottom:32px}.aqi-state-ranking__standing__number[_ngcontent-%COMP%]{font-size:32px;font-weight:500;color:#414141;margin-right:2px}.aqi-state-ranking__standing__total[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#67788d;line-height:1.5}.aqi-state-ranking__btn-detail[_ngcontent-%COMP%]{line-height:1.17}"]}),t})();var Rt=n("U00U"),Ht=n("EWaV"),jt=n("UQqK"),zt=n("rHQL"),Kt=n("HVnN");function Ft(t,e){if(1&t&&r.bc(0,"app-average-aqi-overview",23),2&t){const t=r.sc(2);r.Bc("isLoading",!t.avgAqiOverview)("locationInfo",t.locationInfo)("avgAqiOverview",t.avgAqiOverview)("seoKeywords",t.seoKeywords.howPolluted)}}function Ut(t,e){if(1&t&&r.bc(0,"app-aqi-state-ranking",24),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.worstPollutedCountryRankingPreviousYear)("aqiLocationRanking",t.aqiAreaRanking)("isLoading",!t.aqiAreaRanking)}}function Et(t,e){if(1&t){const t=r.hc();r.gc(0,"app-contributor-summary",25),r.oc("contributorClicked",function(e){return r.Sc(t),r.sc(2).onContributorClicked(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("isLoading",!t.contributors)("sourcesBanner",t.sourcesBanner)("promotionBanners",t.promotionBanners)("sponsorList",t.sponsorList)("locationInfo",t.locationInfo)}}function Nt(t,e){if(1&t&&r.bc(0,"app-analyse-block",26),2&t){const t=r.sc(2);r.Bc("name",null==t.locationInfo?null:t.locationInfo.name)("data",null==t.areaData?null:t.areaData.analysis)("titleFormat","location")}}function Yt(t,e){1&t&&r.cc(0)}function Vt(t,e){if(1&t&&r.bc(0,"app-state-list",27),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("states",t.subLocations)("title",t.stateListTitle)("subTitle",t.stateListSubtitle)}}function Wt(t,e){if(1&t&&(r.gc(0,"div",4),r.bc(1,"app-breadcrumb",5),r.gc(2,"div",6),r.bc(3,"app-page-title",7),r.bc(4,"app-timestamp",8),r.fc(),r.bc(5,"app-share-button",9),r.fc(),r.gc(6,"div",10),r.gc(7,"div",11),r.dd(8,Ft,1,4,"app-average-aqi-overview",12),r.gc(9,"div",13),r.bc(10,"app-portal-map",14),r.fc(),r.dd(11,Ut,1,4,"app-aqi-state-ranking",15),r.dd(12,Et,1,5,"app-contributor-summary",16),r.bc(13,"app-aqi-ranking",17),r.tc(14,"async"),r.bc(15,"app-earth-link"),r.bc(16,"app-aqi-ranking",18),r.tc(17,"async"),r.bc(18,"app-air-quality-near-me"),r.bc(19,"app-airvisual-app-banner"),r.bc(20,"app-product-ads",19),r.dd(21,Nt,1,3,"app-analyse-block",20),r.fc(),r.fc(),r.gc(22,"div",10),r.dd(23,Yt,1,0,"ng-container",21),r.dd(24,Vt,1,4,"app-state-list",22),r.fc()),2&t){const t=r.sc(),e=r.Oc(7);r.Mb(1),r.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),r.Mb(2),r.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),r.Mb(1),r.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time)),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title),r.Mb(3),r.Bc("ngIf",t.averageInformationAvailable),r.Mb(2),r.Bc("data",t.areaData)("overlays",t.overlays)("locationInfo",t.locationInfo)("isLoading",!t.areaData),r.Mb(1),r.Bc("ngIf",t.averageInformationAvailable),r.Mb(1),r.Bc("ngIf",!t.isChinaPage),r.Mb(1),r.Bc("infoTooltip",t.liveCityTooltip)("itemAppendKey","state")("type","city")("title",null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.title)("time",t.time)("data",r.uc(14,43,null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.data))("seoKeywords",t.seoKeywords.realTimeMostPolluted)("isLoading",!t.mostPollutedCitiesRanking)("locationInfo",t.locationInfo)("name",null==t.locationInfo?null:t.locationInfo.name),r.Mb(3),r.Bc("infoTooltip",t.liveCityTooltip)("itemAppendKey","state")("type","city")("sectionTitle",null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.sectionTitle)("title",null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.title)("time",t.time)("data",r.uc(17,45,null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.data))("seoKeywords",t.seoKeywords.realTimeCleanest)("isLoading",!t.cleanestCitiesRanking)("locationInfo",t.locationInfo)("name",null==t.locationInfo?null:t.locationInfo.name),r.Mb(4),r.Bc("isLoading",!t.locationInfo)("locationInfo",t.locationInfo),r.Mb(1),r.Bc("ngIf",t.areaData&&t.areaData.analysis),r.Mb(2),r.Bc("ngTemplateOutlet",e),r.Mb(1),r.Bc("ngIf",t.locationInfo&&t.subLocations)}}function $t(t,e){if(1&t){const t=r.hc();r.gc(0,"app-contributor-summary",37),r.oc("contributorClicked",function(e){return r.Sc(t),r.sc(2).onContributorClicked(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("isLoading",!t.sourcesBanner)("locationInfo",t.locationInfo)("promotionBanners",t.promotionBanners)("sourcesBanner",t.sourcesBanner)}}function Jt(t,e){if(1&t&&r.bc(0,"app-average-aqi-overview",38),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("avgAqiOverview",t.avgAqiOverview)("isLoading",!t.avgAqiOverview)("seoKeywords",t.seoKeywords.howPolluted)}}function Qt(t,e){if(1&t&&r.bc(0,"app-aqi-state-ranking",24),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.worstPollutedCountryRankingPreviousYear)("aqiLocationRanking",t.aqiAreaRanking)("isLoading",!t.aqiAreaRanking)}}function Xt(t,e){if(1&t&&r.bc(0,"app-analyse-block",26),2&t){const t=r.sc(2);r.Bc("name",null==t.locationInfo?null:t.locationInfo.name)("data",null==t.areaData?null:t.areaData.analysis)("titleFormat","location")}}function Gt(t,e){1&t&&r.cc(0)}function Zt(t,e){if(1&t&&r.bc(0,"app-state-list",27),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("states",t.subLocations)("title",t.stateListTitle)("subTitle",t.stateListSubtitle)}}function te(t,e){if(1&t&&(r.gc(0,"div",28),r.gc(1,"div",29),r.gc(2,"div",30),r.bc(3,"app-breadcrumb",5),r.bc(4,"app-page-title",7),r.fc(),r.bc(5,"app-locate-me",9),r.fc(),r.gc(6,"div",31),r.bc(7,"app-timestamp",8),r.bc(8,"app-share-button",9),r.fc(),r.fc(),r.gc(9,"div",10),r.gc(10,"div",32),r.gc(11,"div",33),r.bc(12,"app-aqi-ranking",18),r.tc(13,"async"),r.dd(14,$t,1,4,"app-contributor-summary",34),r.bc(15,"app-aqi-ranking",18),r.tc(16,"async"),r.bc(17,"app-earth-link"),r.bc(18,"app-air-quality-near-me"),r.bc(19,"app-airvisual-app-banner"),r.fc(),r.gc(20,"div",35),r.gc(21,"div",13),r.bc(22,"app-portal-map",14),r.fc(),r.dd(23,Jt,1,4,"app-average-aqi-overview",36),r.dd(24,Qt,1,4,"app-aqi-state-ranking",15),r.bc(25,"app-product-ads",19),r.dd(26,Xt,1,3,"app-analyse-block",20),r.fc(),r.fc(),r.fc(),r.gc(27,"div",10),r.dd(28,Gt,1,0,"ng-container",21),r.dd(29,Zt,1,4,"app-state-list",22),r.fc()),2&t){const t=r.sc(),e=r.Oc(7);r.Mb(3),r.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title),r.Mb(2),r.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time)),r.Mb(1),r.Bc("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time)),r.Mb(4),r.Bc("infoTooltip",t.liveCityTooltip)("itemAppendKey","state")("type","city")("sectionTitle",null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.sectionTitle)("title",null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.title)("time",t.time)("data",r.uc(13,45,null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.data))("seoKeywords",t.seoKeywords.realTimeMostPolluted)("isLoading",!t.mostPollutedCitiesRanking)("locationInfo",t.locationInfo)("name",null==t.locationInfo?null:t.locationInfo.name),r.Mb(2),r.Bc("ngIf",!t.isChinaPage),r.Mb(1),r.Bc("infoTooltip",t.liveCityTooltip)("itemAppendKey","state")("type","city")("sectionTitle",null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.sectionTitle)("title",null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.title)("time",t.time)("data",r.uc(16,47,null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.data))("seoKeywords",t.seoKeywords.realTimeCleanest)("isLoading",!t.cleanestCitiesRanking)("locationInfo",t.locationInfo)("name",null==t.locationInfo?null:t.locationInfo.name),r.Mb(7),r.Bc("data",t.areaData)("overlays",t.overlays)("locationInfo",t.locationInfo)("isLoading",!t.areaData),r.Mb(1),r.Bc("ngIf",t.averageInformationAvailable),r.Mb(1),r.Bc("ngIf",t.averageInformationAvailable),r.Mb(1),r.Bc("isLoading",!t.locationInfo)("locationInfo",t.locationInfo),r.Mb(1),r.Bc("ngIf",t.areaData&&t.areaData.analysis),r.Mb(2),r.Bc("ngTemplateOutlet",e),r.Mb(1),r.Bc("ngIf",t.locationInfo&&t.subLocations)}}function ee(t,e){1&t&&r.cc(0)}function ne(t,e){if(1&t&&(r.ec(0),r.dd(1,ee,1,0,"ng-container",21),r.dc()),2&t){r.sc();const t=r.Oc(3);r.Mb(1),r.Bc("ngTemplateOutlet",t)}}function ie(t,e){1&t&&r.cc(0)}function ae(t,e){if(1&t&&(r.ec(0),r.dd(1,ie,1,0,"ng-container",21),r.dc()),2&t){r.sc();const t=r.Oc(1);r.Mb(1),r.Bc("ngTemplateOutlet",t)}}function oe(t,e){if(1&t&&(r.bc(0,"app-contributor-list",39),r.tc(1,"async")),2&t){const t=r.sc();r.Bc("locationInfo",t.locationInfo)("sources",r.uc(1,3,t.sourcesSubj))("contributors",t.contributors)}}const ce=Object(f.g)("COUNTRY_STATE_KEY"),re=Object(f.g)("COUNTRY_KPI_KEY"),se=Object(f.g)("COUNTRY_PUBLICATION_KEY"),le=Object(f.g)("COUNTRY_DETAIL_KEY");let de=(()=>{class t extends O{constructor(t,e,n,i,a,o,c,r,s,l,d,p,g){super(r,s,t,a,o,l,g,d,c,p),this.router=t,this.countryService=e,this.kpiService=n,this.publicationService=i,this.transferState=a,this.seoService=o,this.changeDetectorRef=c,this.platformId=r,this.userPref=s,this.replacementService=l,this.drupalJsonApi=d,this.analysisService=p,this.websiteService=g,this.liveCityTooltip="",this.ssrKeys=[le,ce,re,se],this.type="country"}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit()}getData(t){let e;switch(t){case le:e=this.countryService.getCountryDetail(this.id);break;case ce:e=this.countryService.getStatesByCountry(this.id);break;case re:e=this.kpiService.getCountryKpi(this.id);break;case se:e=this.publicationService.getPublications(3)}this.subscribeWithSSR(e,t)}setData(t,e){switch(e){case le:this.setAreaData(t),this.setStateListText(),this.liveCityTooltip=h.a.portal.country.infoTooltip.replace(/{country}/gi,t.name);break;case ce:this.subLocations=t;break;case re:this.kpis=t;break;case se:this.mainPublication=t[0],this.publications=t.slice(1,3)}}setStateListText(){const t=h.a.portal.country.mostPollutedStateList;this.stateListTitle=this.replacementService.replaceLocation(t.heading,"{country}",this.locationInfo.name,this.locationInfo.type),this.stateListSubtitle=this.replacementService.replaceLocation(t.subHeading,"{country}",this.locationInfo.name,this.locationInfo.type)}setCitiesRankingLists(t){super.setCitiesRankingListsTemplate(t,this.trans.countryPageRanking,(e,n)=>this.countryService.getCitiesRankedByAQI(t.id,n))}setTagTitle(t){this.tagTitle=this.trans.tag.title.replace(`{${this.type}}`,t.name)}setAreaYearRanking(t){super.setAreaYearRankingTemplate(t,(t,e)=>this.countryService.getCountryYearRanking(t,e))}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(i.g),r.ac(C.a),r.ac(k),r.ac(L),r.ac(f.f),r.ac(p.a),r.ac(r.i),r.ac(r.J),r.ac(m.b),r.ac(v.a),r.ac(x.a),r.ac(M.a),r.ac(w.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-country"]],features:[r.Jb],decls:8,vars:2,consts:[["mobile_template",""],["desktop_template",""],[4,"ngIf"],["contributorList",""],[1,"container","mobile-header__block"],[3,"isLoading","locationInfo","breadcrumbs"],[1,"mobile-header__block__page-title"],[3,"isLoading","pageTitleData"],[1,"page-title-timestamp",3,"timestamp","timezone","checkLocalTime","isLoading"],[3,"isLoading"],[1,"container"],[1,"mobile-header__content-wrapper"],[3,"isLoading","locationInfo","avgAqiOverview","seoKeywords",4,"ngIf"],[1,"app-map-world"],[3,"data","overlays","locationInfo","isLoading"],[3,"locationInfo","seoKeywords","aqiLocationRanking","isLoading",4,"ngIf"],[3,"isLoading","sourcesBanner","promotionBanners","sponsorList","locationInfo","contributorClicked",4,"ngIf"],[3,"infoTooltip","itemAppendKey","type","title","time","data","seoKeywords","isLoading","locationInfo","name"],[3,"infoTooltip","itemAppendKey","type","sectionTitle","title","time","data","seoKeywords","isLoading","locationInfo","name"],[3,"isLoading","locationInfo"],[3,"name","data","titleFormat",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"locationInfo","states","title","subTitle",4,"ngIf"],[3,"isLoading","locationInfo","avgAqiOverview","seoKeywords"],[3,"locationInfo","seoKeywords","aqiLocationRanking","isLoading"],[3,"isLoading","sourcesBanner","promotionBanners","sponsorList","locationInfo","contributorClicked"],[3,"name","data","titleFormat"],[3,"locationInfo","states","title","subTitle"],[1,"container","desktop-header__block"],[1,"top-nav"],[1,"top-nav__info"],[1,"bottom-content"],[1,"content__wrapper"],[1,"left-side"],[3,"isLoading","locationInfo","promotionBanners","sourcesBanner","contributorClicked",4,"ngIf"],[1,"right-side"],["expectedType","country",3,"locationInfo","avgAqiOverview","isLoading","seoKeywords",4,"ngIf"],[3,"isLoading","locationInfo","promotionBanners","sourcesBanner","contributorClicked"],["expectedType","country",3,"locationInfo","avgAqiOverview","isLoading","seoKeywords"],["id","contributors",3,"locationInfo","sources","contributors"]],template:function(t,e){1&t&&(r.dd(0,Wt,25,47,"ng-template",null,0,r.ed),r.dd(2,te,30,49,"ng-template",null,1,r.ed),r.dd(4,ne,2,1,"ng-container",2),r.dd(5,ae,2,1,"ng-container",2),r.dd(6,oe,2,5,"ng-template",null,3,r.ed)),2&t&&(r.Mb(4),r.Bc("ngIf",!e.isLocationMobileScreen),r.Mb(1),r.Bc("ngIf",e.isLocationMobileScreen))},directives:[s.o,S.a,B.a,q.a,D.a,A.a,R.a,H.a,j.a,z.a,K.a,s.t,_t,At,Rt.a,Ht.a,jt.a,zt.a,Kt.a],pipes:[s.b],styles:["",".mobile-header__block[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:24px}.mobile-header__block__page-title[_ngcontent-%COMP%]{margin-bottom:24px}.mobile-header__content-wrapper[_ngcontent-%COMP%]{padding-bottom:32px;border-bottom:1px solid #e6e6e6}.mobile-header__daily-average[_ngcontent-%COMP%]{margin-bottom:16px}.desktop-header__block[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:24px}.desktop-header__block[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.desktop-header__block[_ngcontent-%COMP%]   .top-nav__info[_ngcontent-%COMP%]{-ms-flex:1;flex:1;margin-right:48px}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content__left[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;gap:4px}.content__wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:72px;border-bottom:1px solid #e6e6e6}.content__wrapper[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:364px;margin-right:24px}.content__wrapper[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{-ms-flex:1 0 auto;flex:1 0 auto;max-width:calc(100% - 388px)}",".app-map-world[_ngcontent-%COMP%]{width:100%;height:calc(100vw * .6);max-height:446px;border-radius:4px;position:relative;overflow:hidden;margin-bottom:24px}@media only screen and (max-width:959.9px){.app-map-world[_ngcontent-%COMP%]{margin-bottom:16px}}"],changeDetection:0}),t})();const pe=[{path:"",component:de,pathMatch:"full"}];let ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[i.k.forChild(pe)],i.k]}),t})();var ue=n("tgU/"),fe=n("+8+C");let he=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({providers:[ue.a],imports:[[g.a,fe.a]]}),t})(),me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[g.a,i.k]]}),t})(),be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[g.a,he,me]]}),t})();var _e=n("g33x"),ye=n("HOcb");let ve=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[g.a,ye.a]]}),t})();var we=n("5otf"),xe=n("MhZw"),Me=n("of2w"),Oe=n("tQtq"),Ce=n("aN4X"),Pe=n("fSsK"),Ie=n("7p/T"),ke=n("Z5jp"),Te=n("vZId"),Le=n("OXVl"),Se=n("q0Ud"),Be=n("+Ui3"),qe=n("mqpS"),De=n("CnWT"),Ae=n("fsAK");let Re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[s.c,Ae.a,be,_e.a,ve,we.a,xe.a,Me.a,Oe.a,Ce.a,Pe.a,Ie.a,ke.a,Te.a,qe.a,Le.a,Se.a,Be.a,De.a],g.a,s.c,Ae.a,be,_e.a,ve,we.a,xe.a,Me.a,Oe.a,Ce.a,Pe.a,Ie.a,ke.a,Te.a,qe.a,Le.a,Se.a,Be.a,De.a]}),t})(),He=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[ge,Re]]}),t})();var je=n("/5Hx"),ze=n("v+7i");function Ke(t,e){if(1&t&&r.bc(0,"app-average-aqi-overview",22),2&t){const t=r.sc(2);r.Bc("isLoading",!t.avgAqiOverview)("locationInfo",t.locationInfo)("avgAqiOverview",t.avgAqiOverview)("seoKeywords",t.seoKeywords.howPolluted)}}function Fe(t,e){if(1&t&&r.bc(0,"app-aqi-state-ranking",23),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.worstPollutedCountryRankingPreviousYear)("aqiLocationRanking",t.aqiAreaRanking)("isLoading",!t.aqiAreaRanking)}}function Ue(t,e){if(1&t){const t=r.hc();r.gc(0,"app-contributor-summary",24),r.oc("contributorClicked",function(e){return r.Sc(t),r.sc(2).onContributorClicked(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("isLoading",!t.sourcesBanner)("sourcesBanner",t.sourcesBanner)("promotionBanners",t.promotionBanners)("sponsorList",t.sponsorList)("locationInfo",t.locationInfo)}}function Ee(t,e){if(1&t&&(r.bc(0,"app-aqi-ranking",25),r.tc(1,"async")),2&t){const t=r.sc(2);r.Bc("infoTooltip",t.liveCityTooltip)("type","city")("title",null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.title)("time",t.time)("data",r.uc(1,9,null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.data))("seoKeywords",t.seoKeywords.realTimeMostPolluted)("isLoading",!t.mostPollutedCitiesRanking)("locationInfo",t.locationInfo)("name",null==t.locationInfo?null:t.locationInfo.name)}}function Ne(t,e){if(1&t&&(r.bc(0,"app-aqi-ranking",26),r.tc(1,"async")),2&t){const t=r.sc(2);r.Bc("infoTooltip",t.liveCityTooltip)("type","city")("sectionTitle",null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.sectionTitle)("title",null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.title)("time",t.time)("data",r.uc(1,10,null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.data))("seoKeywords",t.seoKeywords.realTimeCleanest)("isLoading",!t.cleanestCitiesRanking)("locationInfo",t.locationInfo)("name",null==t.locationInfo?null:t.locationInfo.name)}}function Ye(t,e){if(1&t&&r.bc(0,"app-analyse-block",27),2&t){const t=r.sc(2);r.Bc("data",null==t.areaData?null:t.areaData.analysis)("name",null==t.locationInfo?null:t.locationInfo.name)("titleFormat","location")}}function Ve(t,e){if(1&t&&r.bc(0,"app-location-list",28),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("locations",t.subLocations)}}function We(t,e){if(1&t&&(r.gc(0,"div",3),r.bc(1,"app-breadcrumb",4),r.gc(2,"div",5),r.bc(3,"app-page-title",6),r.bc(4,"app-timestamp",7),r.fc(),r.bc(5,"app-share-button",8),r.fc(),r.gc(6,"div",9),r.gc(7,"div",10),r.dd(8,Ke,1,4,"app-average-aqi-overview",11),r.gc(9,"div",12),r.bc(10,"app-portal-map",13),r.fc(),r.dd(11,Fe,1,4,"app-aqi-state-ranking",14),r.dd(12,Ue,1,5,"app-contributor-summary",15),r.dd(13,Ee,2,11,"app-aqi-ranking",16),r.bc(14,"app-earth-link"),r.dd(15,Ne,2,12,"app-aqi-ranking",17),r.bc(16,"app-air-quality-near-me"),r.bc(17,"app-airvisual-app-banner"),r.bc(18,"app-product-ads",18),r.dd(19,Ye,1,3,"app-analyse-block",19),r.fc(),r.fc(),r.gc(20,"div",9),r.bc(21,"app-contributor-list",20),r.tc(22,"async"),r.dd(23,Ve,1,2,"app-location-list",21),r.fc()),2&t){const t=r.sc();r.Mb(1),r.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),r.Mb(2),r.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),r.Mb(1),r.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time)),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title),r.Mb(3),r.Bc("ngIf",t.averageInformationAvailable),r.Mb(2),r.Bc("data",t.areaData)("overlays",t.overlays)("locationInfo",t.locationInfo)("isLoading",!t.areaData),r.Mb(1),r.Bc("ngIf",t.averageInformationAvailable),r.Mb(1),r.Bc("ngIf",!t.isChinaPage),r.Mb(1),r.Bc("ngIf",t.mostPollutedCitiesRanking),r.Mb(2),r.Bc("ngIf",t.cleanestCitiesRanking),r.Mb(3),r.Bc("isLoading",!t.locationInfo)("locationInfo",t.locationInfo),r.Mb(1),r.Bc("ngIf",t.areaData&&t.areaData.analysis),r.Mb(2),r.Bc("locationInfo",t.locationInfo)("sources",r.uc(22,26,t.sourcesSubj))("contributors",t.contributors),r.Mb(2),r.Bc("ngIf",t.locationInfo&&t.subLocations)}}function $e(t,e){if(1&t&&(r.bc(0,"app-aqi-ranking",26),r.tc(1,"async")),2&t){const t=r.sc(2);r.Bc("infoTooltip",t.liveCityTooltip)("type","city")("sectionTitle",null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.sectionTitle)("title",null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.title)("time",t.time)("data",r.uc(1,10,null==t.mostPollutedCitiesRanking?null:t.mostPollutedCitiesRanking.data))("seoKeywords",t.seoKeywords.realTimeMostPolluted)("isLoading",!t.mostPollutedCitiesRanking)("locationInfo",t.locationInfo)("name",null==t.locationInfo?null:t.locationInfo.name)}}function Je(t,e){if(1&t){const t=r.hc();r.gc(0,"app-contributor-summary",38),r.oc("contributorClicked",function(e){return r.Sc(t),r.sc(2).onContributorClicked(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("isLoading",!t.sourcesBanner)("promotionBanners",t.promotionBanners)("sourcesBanner",t.sourcesBanner)("locationInfo",t.locationInfo)}}function Qe(t,e){if(1&t&&(r.bc(0,"app-aqi-ranking",26),r.tc(1,"async")),2&t){const t=r.sc(2);r.Bc("infoTooltip",t.liveCityTooltip)("type","city")("sectionTitle",null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.sectionTitle)("title",null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.title)("time",t.time)("data",r.uc(1,10,null==t.cleanestCitiesRanking?null:t.cleanestCitiesRanking.data))("seoKeywords",t.seoKeywords.realTimeCleanest)("isLoading",!t.cleanestCitiesRanking)("locationInfo",t.locationInfo)("name",null==t.locationInfo?null:t.locationInfo.name)}}function Xe(t,e){if(1&t&&r.bc(0,"app-average-aqi-overview",39),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("avgAqiOverview",t.avgAqiOverview)("isLoading",!t.avgAqiOverview)("seoKeywords",t.seoKeywords.howPolluted)}}function Ge(t,e){if(1&t&&r.bc(0,"app-aqi-state-ranking",23),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.worstPollutedCountryRankingPreviousYear)("aqiLocationRanking",t.aqiAreaRanking)("isLoading",!t.aqiAreaRanking)}}function Ze(t,e){if(1&t&&r.bc(0,"app-analyse-block",27),2&t){const t=r.sc(2);r.Bc("data",null==t.areaData?null:t.areaData.analysis)("name",null==t.locationInfo?null:t.locationInfo.name)("titleFormat","location")}}function tn(t,e){if(1&t&&r.bc(0,"app-location-list",28),2&t){const t=r.sc(2);r.Bc("locationInfo",t.locationInfo)("locations",t.subLocations)}}function en(t,e){if(1&t&&(r.gc(0,"div",29),r.gc(1,"div",30),r.gc(2,"div",31),r.bc(3,"app-breadcrumb",4),r.bc(4,"app-page-title",6),r.fc(),r.bc(5,"app-locate-me",8),r.fc(),r.gc(6,"div",32),r.bc(7,"app-timestamp",7),r.bc(8,"app-share-button",8),r.fc(),r.fc(),r.gc(9,"div",9),r.gc(10,"div",33),r.gc(11,"div",34),r.dd(12,$e,2,12,"app-aqi-ranking",17),r.dd(13,Je,1,4,"app-contributor-summary",35),r.dd(14,Qe,2,12,"app-aqi-ranking",17),r.bc(15,"app-earth-link"),r.bc(16,"app-air-quality-near-me"),r.bc(17,"app-airvisual-app-banner"),r.fc(),r.gc(18,"div",36),r.gc(19,"div",12),r.bc(20,"app-portal-map",13),r.fc(),r.dd(21,Xe,1,4,"app-average-aqi-overview",37),r.dd(22,Ge,1,4,"app-aqi-state-ranking",14),r.bc(23,"app-product-ads",18),r.dd(24,Ze,1,3,"app-analyse-block",19),r.fc(),r.fc(),r.fc(),r.gc(25,"div",9),r.bc(26,"app-contributor-list",20),r.tc(27,"async"),r.dd(28,tn,1,2,"app-location-list",21),r.fc()),2&t){const t=r.sc();r.Mb(3),r.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title),r.Mb(2),r.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time)),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title),r.Mb(4),r.Bc("ngIf",t.mostPollutedCitiesRanking),r.Mb(1),r.Bc("ngIf",!t.isChinaPage),r.Mb(1),r.Bc("ngIf",t.cleanestCitiesRanking),r.Mb(6),r.Bc("data",t.areaData)("overlays",t.overlays)("locationInfo",t.locationInfo)("isLoading",!t.areaData),r.Mb(1),r.Bc("ngIf",t.averageInformationAvailable),r.Mb(1),r.Bc("ngIf",t.averageInformationAvailable),r.Mb(1),r.Bc("isLoading",!t.locationInfo)("locationInfo",t.locationInfo),r.Mb(1),r.Bc("ngIf",t.areaData&&t.areaData.analysis),r.Mb(2),r.Bc("locationInfo",t.locationInfo)("sources",r.uc(27,27,t.sourcesSubj))("contributors",t.contributors),r.Mb(2),r.Bc("ngIf",t.locationInfo&&t.subLocations)}}function nn(t,e){1&t&&r.cc(0)}function an(t,e){if(1&t&&(r.ec(0),r.dd(1,nn,1,0,"ng-container",40),r.dc()),2&t){r.sc();const t=r.Oc(3);r.Mb(1),r.Bc("ngTemplateOutlet",t)}}function on(t,e){1&t&&r.cc(0)}function cn(t,e){if(1&t&&(r.ec(0),r.dd(1,on,1,0,"ng-container",40),r.dc()),2&t){r.sc();const t=r.Oc(1);r.Mb(1),r.Bc("ngTemplateOutlet",t)}}const rn=Object(f.g)("STATE_CITY_KEY"),sn=Object(f.g)("STATE_KPI_KEY"),ln=Object(f.g)("STATE_PUBLICATION_KEY"),dn=Object(f.g)("STATE_DETAIL_KEY");let pn=(()=>{class t extends O{constructor(t,e,n,i,a,o,c,r,s,l,d,p,g){super(r,s,t,a,o,l,p,g,c,d),this.router=t,this.stateService=e,this.kpiService=n,this.publicationService=i,this.transferState=a,this.seoService=o,this.changeDetectorRef=c,this.platformId=r,this.userPref=s,this.replacementService=l,this.analysisService=d,this.websiteService=p,this.drupalJsonApi=g,this.rankingTrans=h.a.portal.country.countryPageRanking,this.liveCityTooltip="",this.ssrKeys=[dn,rn,sn,ln],this.type="state"}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit()}getData(t){let e;switch(t){case dn:e=this.stateService.getStateDetail(this.id);break;case rn:e=this.stateService.getCitiesByState(this.id);break;case sn:e=this.kpiService.getStateKpi(this.id);break;case ln:e=this.publicationService.getPublications(3)}this.subscribeWithSSR(e,t)}setData(t,e){switch(e){case dn:this.setAreaData(t),this.liveCityTooltip=h.a.portal.country.infoTooltip.replace(/{country}/gi,t.name);break;case rn:this.subLocations=t.sort((t,e)=>e.aqi-t.aqi);break;case sn:this.kpis=t;break;case ln:this.mainPublication=t[0],this.publications=t.slice(1,3)}}setSeo(t){t.analysis=null;const e=t.breadcrumbs[0].label;let n=this.trans.seo.pageTitle.replace(/{state}/gi,t.name),i=this.trans.seo.pageDescription.replace(/{state}/gi,t.name);n=this.replacementService.replaceLocation(n,"{country}",e,"country"),i=this.replacementService.replaceLocation(i,"{country}",e,"country"),this.setSeoHeaders(n,i,t.breadcrumbs[t.breadcrumbs.length-1].url)}setTagTitle(t){this.tagTitle=t.name+this.trans.tagTitle}setCitiesRankingLists(t){this.setCitiesRankingListsTemplate(t,this.rankingTrans,(e,n)=>this.stateService.getCitiesRankedByAQI(t.id,n))}setAreaYearRanking(t){this.averageInformationAvailable=!1}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(i.g),r.ac(je.a),r.ac(k),r.ac(L),r.ac(f.f),r.ac(p.a),r.ac(r.i),r.ac(r.J),r.ac(m.b),r.ac(v.a),r.ac(M.a),r.ac(w.a),r.ac(x.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-state"]],features:[r.Jb],decls:6,vars:2,consts:[["mobile_template",""],["desktop_template",""],[4,"ngIf"],[1,"container","mobile-header__block"],[3,"isLoading","locationInfo","breadcrumbs"],[1,"mobile-header__block__page-title"],[3,"isLoading","pageTitleData"],[1,"page-title-timestamp",3,"timestamp","timezone","checkLocalTime","isLoading"],[3,"isLoading"],[1,"container"],[1,"mobile-header__content-wrapper"],[3,"isLoading","locationInfo","avgAqiOverview","seoKeywords",4,"ngIf"],[1,"app-map-world"],[3,"data","overlays","locationInfo","isLoading"],[3,"locationInfo","seoKeywords","aqiLocationRanking","isLoading",4,"ngIf"],[3,"isLoading","sourcesBanner","promotionBanners","sponsorList","locationInfo","contributorClicked",4,"ngIf"],[3,"infoTooltip","type","title","time","data","seoKeywords","isLoading","locationInfo","name",4,"ngIf"],[3,"infoTooltip","type","sectionTitle","title","time","data","seoKeywords","isLoading","locationInfo","name",4,"ngIf"],[3,"isLoading","locationInfo"],[3,"data","name","titleFormat",4,"ngIf"],["id","contributors",3,"locationInfo","sources","contributors"],[3,"locationInfo","locations",4,"ngIf"],[3,"isLoading","locationInfo","avgAqiOverview","seoKeywords"],[3,"locationInfo","seoKeywords","aqiLocationRanking","isLoading"],[3,"isLoading","sourcesBanner","promotionBanners","sponsorList","locationInfo","contributorClicked"],[3,"infoTooltip","type","title","time","data","seoKeywords","isLoading","locationInfo","name"],[3,"infoTooltip","type","sectionTitle","title","time","data","seoKeywords","isLoading","locationInfo","name"],[3,"data","name","titleFormat"],[3,"locationInfo","locations"],[1,"container","desktop-header__block"],[1,"top-nav"],[1,"top-nav__info"],[1,"bottom-content"],[1,"content__wrapper"],[1,"left-side"],[3,"isLoading","promotionBanners","sourcesBanner","locationInfo","contributorClicked",4,"ngIf"],[1,"right-side"],["expectedType","country",3,"locationInfo","avgAqiOverview","isLoading","seoKeywords",4,"ngIf"],[3,"isLoading","promotionBanners","sourcesBanner","locationInfo","contributorClicked"],["expectedType","country",3,"locationInfo","avgAqiOverview","isLoading","seoKeywords"],[4,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.dd(0,We,24,28,"ng-template",null,0,r.ed),r.dd(2,en,29,29,"ng-template",null,1,r.ed),r.dd(4,an,2,1,"ng-container",2),r.dd(5,cn,2,1,"ng-container",2)),2&t&&(r.Mb(4),r.Bc("ngIf",!e.isLocationMobileScreen),r.Mb(1),r.Bc("ngIf",e.isLocationMobileScreen))},directives:[s.o,S.a,B.a,q.a,D.a,A.a,H.a,j.a,z.a,K.a,Kt.a,_t,At,Rt.a,R.a,Ht.a,ze.a,zt.a,s.t],pipes:[s.b],styles:["",".mobile-header__block[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:24px}.mobile-header__block__page-title[_ngcontent-%COMP%]{margin-bottom:24px}.mobile-header__content-wrapper[_ngcontent-%COMP%]{padding-bottom:32px;border-bottom:1px solid #e6e6e6}.mobile-header__daily-average[_ngcontent-%COMP%]{margin-bottom:16px}.desktop-header__block[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:24px}.desktop-header__block[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.desktop-header__block[_ngcontent-%COMP%]   .top-nav__info[_ngcontent-%COMP%]{-ms-flex:1;flex:1;margin-right:48px}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content__left[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;gap:4px}.content__wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:72px;border-bottom:1px solid #e6e6e6}.content__wrapper[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:364px;margin-right:24px}.content__wrapper[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{-ms-flex:1 0 auto;flex:1 0 auto;max-width:calc(100% - 388px)}",".app-map-world[_ngcontent-%COMP%]{width:100%;height:calc(100vw * .6);max-height:446px;border-radius:4px;position:relative;overflow:hidden;margin-bottom:24px}@media only screen and (max-width:959.9px){.app-map-world[_ngcontent-%COMP%]{margin-bottom:16px}}"],changeDetection:0}),t})();const gn=[{path:"",component:pn,pathMatch:"full"}];let un=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[i.k.forChild(gn)],i.k]}),t})(),fn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[un,Re]]}),t})();var hn=n("YEUz"),mn=n("C+KZ"),bn=n("/7us"),_n=n("hKHT"),yn=n("GoYx"),vn=n("i4Hg"),wn=n("J82N"),xn=n("Vn2e"),Mn=n("0fZB"),On=n("/6gA"),Cn=n("FEk/"),Pn=n("qP/k"),In=n("wFOR"),kn=n("EXyO"),Tn=n("E2ps");function Ln(t,e){1&t&&r.bc(0,"img",12),2&t&&r.Bc("src",e.$implicit,r.Vc)}function Sn(t,e){if(1&t&&r.bc(0,"span",13),2&t){const t=e.index,n=r.sc();r.Sb("current-index",t===n.currentIndex)}}let Bn=(()=>{class t{constructor(t){this._util=t,this.trans=h.a.portal.profilePage,this.currentIndex=0}openPictureLightbox(){this._util.open({srcset:this.pictures,srcIndex:this.currentIndex,profilePicture:this.contributorPic,profileName:this.contributorName,isMobileScreen:this.isMobileScreen})}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Tn.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-station-pictures"]],inputs:{pictures:"pictures",contributorName:"contributorName",contributorPic:"contributorPic",isMobileScreen:"isMobileScreen"},decls:15,vars:11,consts:[[1,"station-pictures"],["class","station-pictures__images--item",3,"src",4,"ngFor","ngForOf"],[1,"station-pictures__header"],[1,"station-pictures__header--title"],[1,"station-pictures__navigation-icons"],["src","assets/svg/ic-arrow-navigation-left-white.svg",3,"click"],["src","assets/svg/ic-arrow-navigation-right-white.svg",3,"click"],[1,"station-pictures__expand",3,"click"],["src","assets/svg/ic-expand-outline-white.svg",1,"station-pictures__expand--icon"],[1,"station-pictures__expand--text"],[1,"station-pictures__dots"],["class","station-pictures__dots--item",3,"current-index",4,"ngFor","ngForOf"],[1,"station-pictures__images--item",3,"src"],[1,"station-pictures__dots--item"]],template:function(t,e){1&t&&(r.gc(0,"div",0),r.gc(1,"div"),r.dd(2,Ln,1,1,"img",1),r.fc(),r.gc(3,"div",2),r.gc(4,"span",3),r.fd(5),r.fc(),r.fc(),r.gc(6,"div",4),r.gc(7,"img",5),r.oc("click",function(){return e.currentIndex=e.currentIndex-1}),r.fc(),r.gc(8,"img",6),r.oc("click",function(){return e.currentIndex=e.currentIndex+1}),r.fc(),r.fc(),r.gc(9,"div",7),r.oc("click",function(){return e.openPictureLightbox()}),r.bc(10,"img",8),r.gc(11,"span",9),r.fd(12),r.fc(),r.fc(),r.gc(13,"div",10),r.dd(14,Sn,1,2,"span",11),r.fc(),r.fc()),2&t&&(r.Mb(1),r.Qb("station-pictures__images image-index-",e.currentIndex,""),r.Mb(1),r.Bc("ngForOf",e.pictures),r.Mb(3),r.gd(e.trans.stationGallery),r.Mb(2),r.Sb("hide-icon",0===e.currentIndex),r.Mb(1),r.Sb("hide-icon",e.currentIndex===(null==e.pictures?null:e.pictures.length)-1),r.Mb(4),r.hd("All (",null==e.pictures?null:e.pictures.length,")"),r.Mb(2),r.Bc("ngForOf",e.pictures))},directives:[s.n],styles:[".station-pictures[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);margin-bottom:16px;width:100%;height:242px;background-color:#000;overflow:hidden;position:relative}@media only screen and (min-width:960px){.station-pictures[_ngcontent-%COMP%]{margin-bottom:24px}}@media only screen and (max-width:599.9px){.station-pictures[_ngcontent-%COMP%]{height:218px}}.station-pictures__images[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;height:100%;width:100%;position:absolute;left:0;transition:left .2s ease}.station-pictures__images.image-index-0[_ngcontent-%COMP%]{left:0}.station-pictures__images.image-index-1[_ngcontent-%COMP%]{left:-100%}.station-pictures__images.image-index-2[_ngcontent-%COMP%]{left:-200%}.station-pictures__images--item[_ngcontent-%COMP%]{min-width:100%;min-height:100%;-o-object-fit:cover;object-fit:cover}.station-pictures__header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:63px;background:linear-gradient(180deg,rgba(0,0,0,.5),rgba(0,0,0,0) 70.65%);padding:12px}.station-pictures__header--title[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:-.12px;color:#fff}.station-pictures__navigation-icons[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding:0 12px;position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);width:100%}.station-pictures__navigation-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;cursor:pointer;visibility:visible}.station-pictures__navigation-icons[_ngcontent-%COMP%]   img.hide-icon[_ngcontent-%COMP%]{visibility:hidden}.station-pictures__expand[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;padding:8px;-ms-flex-align:center;align-items:center;gap:8px;background:rgba(0,0,0,.4);border-radius:8px;cursor:pointer;position:absolute;bottom:12px;left:12px}.station-pictures__expand--icon[_ngcontent-%COMP%]{width:18px;height:18px}.station-pictures__expand--text[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:18px;color:#fff}.station-pictures__dots[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;gap:8px;position:absolute;bottom:12px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.station-pictures__dots--item[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:100%;background-color:hsla(0,0%,100%,.6)}.station-pictures__dots--item.current-index[_ngcontent-%COMP%]{background-color:#fff}"]}),t})();var qn=n("+qjk"),Dn=n("ee9h"),An=n("+uPs");function Rn(t,e){1&t&&r.bc(0,"app-daily-average-data",28)}function Hn(t,e){if(1&t&&r.bc(0,"app-timestamp",29),2&t){const t=r.sc(2);r.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time))}}function jn(t,e){if(1&t&&r.bc(0,"app-timestamp-late",30),2&t){const t=r.sc(2);r.Bc("type","station")("checkLocalTime",!0)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time))("lastUpdate",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)}}function zn(t,e){if(1&t&&r.bc(0,"nearest-alert-banner",31),2&t){const t=r.sc(2);r.Bc("alertData",t.nearestAlert)}}function Kn(t,e){if(1&t&&r.bc(0,"app-station-pictures",32),2&t){const t=r.sc(2);r.Bc("pictures",t.stationGallery)("contributorPic",null==t.contributors[0]?null:t.contributors[0].pictureURL)("contributorName",null==t.contributors[0]?null:t.contributors[0].name)("isMobileScreen",t.isMobileScreen())}}function Fn(t,e){if(1&t){const t=r.hc();r.gc(0,"app-contributor-summary",33),r.oc("contributorClicked",function(e){return r.Sc(t),r.sc(2).onContributorClicked(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("sourcesBanner",t.sourcesBanner)("promotionBanners",t.promotionBanners)("sponsorList",t.sponsorList)("isStation",!0)("locationInfo",t.locationInfo)("isLoading",!t.contributors)}}function Un(t,e){if(1&t&&r.bc(0,"app-pollen",34),2&t){const t=e.ngIf,n=r.sc(2);r.Bc("locationInfo",n.locationInfo)("currentPollen",t)("city",null==n.pageTitleData?null:n.pageTitleData.city)}}function En(t,e){if(1&t&&r.bc(0,"app-pollutant-and-weather",35),2&t){const t=r.sc(2);r.Bc("pollutantData",t.pollutantData)("timezone",null==t.time?null:t.time.tz)}}function Nn(t,e){if(1&t&&r.bc(0,"app-webcam",36),2&t){const t=r.sc(2);r.Bc("data",t.webcam)("isLoading",!t.webcam)}}function Yn(t,e){if(1&t&&r.bc(0,"app-analyse-block",37),2&t){const t=r.sc(2);r.Bc("name",null==t.locationInfo?null:t.locationInfo.name)("data",t.localAnalysis)("city",null==t.pageTitleData?null:t.pageTitleData.city)("titleFormat","station")}}function Vn(t,e){if(1&t&&(r.bc(0,"app-use-app-link",3),r.gc(1,"div",4),r.bc(2,"app-breadcrumb",5),r.bc(3,"app-page-title",6),r.dd(4,Rn,1,0,"app-daily-average-data",7),r.dd(5,Hn,1,4,"app-timestamp",8),r.dd(6,jn,1,5,"app-timestamp-late",9),r.bc(7,"app-follower",10),r.fc(),r.gc(8,"div",11),r.dd(9,zn,1,1,"nearest-alert-banner",12),r.bc(10,"app-aqi-overview",13),r.tc(11,"async"),r.tc(12,"async"),r.bc(13,"app-product-ads",14),r.dd(14,Kn,1,4,"app-station-pictures",15),r.dd(15,Fn,1,6,"app-contributor-summary",16),r.bc(16,"app-map-link",17),r.dd(17,Un,1,3,"app-pollen",18),r.tc(18,"async"),r.bc(19,"app-weather",19),r.tc(20,"async"),r.tc(21,"async"),r.gc(22,"app-aqi-forecast",20),r.tc(23,"async"),r.tc(24,"async"),r.tc(25,"async"),r.tc(26,"async"),r.dd(27,En,1,2,"app-pollutant-and-weather",21),r.fc(),r.bc(28,"app-aqi-ranking",22),r.tc(29,"async"),r.bc(30,"app-earth-link"),r.bc(31,"app-aqi-ranking",23),r.tc(32,"async"),r.dd(33,Nn,1,2,"app-webcam",24),r.bc(34,"app-airvisual-app-banner"),r.dd(35,Yn,1,4,"app-analyse-block",25),r.bc(36,"app-contributor-list",26),r.tc(37,"async"),r.bc(38,"app-location-list",27),r.fc()),2&t){const t=r.sc();let e=null,n=null;r.Bc("type",t.type)("placeID",t.id),r.Mb(2),r.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),r.Mb(1),r.Bc("ngIf",(null==t.pageTitleData?null:t.pageTitleData.isDailyAverage)&&t.isActive),r.Mb(1),r.Bc("ngIf",t.isActive),r.Mb(1),r.Bc("ngIf",!t.isActive),r.Mb(1),r.Bc("pageTitleData",t.pageTitleData)("isLoading",!t.pageTitleData.title),r.Mb(2),r.Bc("ngIf",t.nearestAlert),r.Mb(1),r.Bc("locationInfo",t.locationInfo)("data",r.uc(11,75,t.currentMeasurementSubj))("seoKeywords",t.seoKeywords.currentAirQuality)("isLoading",!r.uc(12,77,t.currentMeasurementSubj))("city",null==t.pageTitleData?null:t.pageTitleData.city)("seoKeywordsRecommendations",t.seoKeywords.protectFromAirPollution)("pollutantStatusOneHourAgo",t.pollutantsOneHourAgo)("recommendationData",t.recommendations),r.Mb(3),r.Bc("isLoading",!t.locationInfo||!(null!=t.pageTitleData&&t.pageTitleData.city))("city",null==t.pageTitleData?null:t.pageTitleData.city)("locationInfo",t.locationInfo),r.Mb(1),r.Bc("ngIf",(null==t.stationGallery?null:t.stationGallery.length)>0&&t.contributors),r.Mb(1),r.Bc("ngIf",!t.isChinaPage),r.Mb(1),r.Bc("locationInfo",t.locationInfo)("city",null==t.pageTitleData?null:t.pageTitleData.city)("isLoading",!t.locationInfo||!(null!=t.pageTitleData&&t.pageTitleData.city)),r.Mb(1),r.Bc("ngIf",null==(e=r.uc(18,79,t.currentMeasurementSubj))?null:e.pollen),r.Mb(2),r.Bc("locationInfo",t.locationInfo)("data",r.uc(20,81,t.weatherSubj))("seoKeywords",t.seoKeywords.currentWeather)("isLoading",!r.uc(21,83,t.weatherSubj))("city",null==t.pageTitleData?null:t.pageTitleData.city),r.Mb(3),r.Bc("locationInfo",t.locationInfo)("forecastData",r.uc(23,85,t.dailyForecastSubj))("historyData",r.uc(24,87,t.historySubj))("currentAqi",null==(n=r.uc(25,89,t.currentMeasurementSubj))?null:n.aqi)("timezone",null==t.time?null:t.time.tz)("isLoading",!r.uc(26,91,t.historySubj))("city",null==t.pageTitleData?null:t.pageTitleData.city)("seoKeywords",t.seoKeywords.airQualityForecast),r.Mb(5),r.Bc("ngIf",t.isBrowser),r.Mb(1),r.Bc("infoTooltip",t.liveCityTooltip)("itemAppendKey","state")("type","city")("sectionTitle",null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.sectionTitle)("title",null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.title)("time",t.time)("name",!!t.crumbs&&!!t.crumbs[0]&&t.crumbs[0].label)("locationInfo",t.locationInfo)("data",r.uc(29,93,null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.data))("seoKeywords",t.seoKeywords.realTimeCountryMajorCityRanking)("isLoading",!t.cityOfCountryRanking),r.Mb(3),r.Bc("infoTooltip",t.liveStationTooltip)("type","station")("sectionTitle",null==t.stationRankingOfCity?null:t.stationRankingOfCity.sectionTitle)("title",null==t.stationRankingOfCity?null:t.stationRankingOfCity.title)("time",t.time)("name",(null==t.pageTitleData?null:t.pageTitleData.city)||t.pageTitleData.title)("isLoading",!t.stationRankingOfCity)("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.realTimeAirQualityRanking)("data",r.uc(32,95,null==t.stationRankingOfCity?null:t.stationRankingOfCity.data)),r.Mb(2),r.Bc("ngIf",t.webcam),r.Mb(2),r.Bc("ngIf",t.localAnalysis),r.Mb(1),r.Bc("locationInfo",t.locationInfo)("sources",r.uc(37,97,t.sourcesSubj))("contributors",t.contributors)("isLocality",!0)("hasLowCostSensor",t.hasLowCostSensor)("isStation",!0),r.Mb(2),r.Bc("locationInfo",t.cityInfo)("locations",t.stationOfCity)}}function Wn(t,e){1&t&&r.bc(0,"app-daily-average-data",56)}function $n(t,e){if(1&t&&r.bc(0,"app-timestamp",29),2&t){const t=r.sc(2);r.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time))}}function Jn(t,e){if(1&t&&r.bc(0,"app-timestamp-late",30),2&t){const t=r.sc(2);r.Bc("type","station")("checkLocalTime",!0)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time))("lastUpdate",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)}}function Qn(t,e){if(1&t&&r.bc(0,"app-station-pictures",32),2&t){const t=r.sc(2);r.Bc("pictures",t.stationGallery)("contributorPic",null==t.contributors[0]?null:t.contributors[0].pictureURL)("contributorName",null==t.contributors[0]?null:t.contributors[0].name)("isMobileScreen",t.isMobileScreen())}}function Xn(t,e){if(1&t){const t=r.hc();r.gc(0,"app-contributor-summary",57),r.oc("contributorClicked",function(e){return r.Sc(t),r.sc(2).onContributorClicked(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("isLoading",!t.sourcesBanner)("locationInfo",t.locationInfo)("isStation",!0)("promotionBanners",t.promotionBanners)("sourcesBanner",t.sourcesBanner)("sponsorList",t.sponsorList)}}function Gn(t,e){if(1&t&&r.bc(0,"app-pollen",34),2&t){const t=e.ngIf,n=r.sc(2);r.Bc("locationInfo",n.locationInfo)("currentPollen",t)("city",null==n.pageTitleData?null:n.pageTitleData.city)}}function Zn(t,e){if(1&t&&r.bc(0,"app-webcam",36),2&t){const t=r.sc(2);r.Bc("data",t.webcam)("isLoading",!t.webcam)}}function ti(t,e){if(1&t&&r.bc(0,"nearest-alert-banner",31),2&t){const t=r.sc(2);r.Bc("alertData",t.nearestAlert)}}function ei(t,e){if(1&t&&r.bc(0,"app-pollutant-and-weather",35),2&t){const t=r.sc(2);r.Bc("pollutantData",t.pollutantData)("timezone",null==t.time?null:t.time.tz)}}function ni(t,e){if(1&t&&r.bc(0,"app-analyse-block",58),2&t){const t=r.sc(2);r.Bc("name",null==t.locationInfo?null:t.locationInfo.name)("data",t.localAnalysis)("city",null==t.pageTitleData?null:t.pageTitleData.city)}}function ii(t,e){if(1&t&&(r.gc(0,"div",38),r.gc(1,"div",39),r.gc(2,"div",40),r.bc(3,"app-breadcrumb",5),r.bc(4,"app-page-title",6),r.fc(),r.bc(5,"app-locate-me",41),r.fc(),r.gc(6,"div",42),r.gc(7,"div",43),r.dd(8,Wn,1,0,"app-daily-average-data",44),r.dd(9,$n,1,4,"app-timestamp",8),r.dd(10,Jn,1,5,"app-timestamp-late",9),r.fc(),r.bc(11,"app-follower",10),r.fc(),r.fc(),r.gc(12,"div",45),r.gc(13,"div",46),r.bc(14,"app-map-link",17),r.dd(15,Qn,1,4,"app-station-pictures",15),r.dd(16,Xn,1,6,"app-contributor-summary",47),r.dd(17,Gn,1,3,"app-pollen",18),r.tc(18,"async"),r.bc(19,"app-weather",48),r.tc(20,"async"),r.tc(21,"async"),r.bc(22,"app-aqi-ranking",49),r.tc(23,"async"),r.bc(24,"app-earth-link"),r.bc(25,"app-aqi-ranking",50),r.tc(26,"async"),r.dd(27,Zn,1,2,"app-webcam",24),r.bc(28,"app-airvisual-app-banner"),r.fc(),r.gc(29,"div",51),r.dd(30,ti,1,1,"nearest-alert-banner",12),r.bc(31,"app-aqi-overview",52),r.tc(32,"async"),r.tc(33,"async"),r.bc(34,"app-product-ads",53),r.gc(35,"app-aqi-forecast",54),r.tc(36,"async"),r.tc(37,"async"),r.tc(38,"async"),r.tc(39,"async"),r.dd(40,ei,1,2,"app-pollutant-and-weather",21),r.fc(),r.dd(41,ni,1,3,"app-analyse-block",55),r.fc(),r.fc(),r.gc(42,"div",11),r.bc(43,"app-contributor-list",26),r.tc(44,"async"),r.bc(45,"app-location-list",27),r.fc()),2&t){const t=r.sc();let e=null,n=null;r.Mb(3),r.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title)("pageTitleData",t.pageTitleData),r.Mb(1),r.Bc("isLoading",!t.pageTitleData.title),r.Mb(3),r.Bc("ngIf",(null==t.pageTitleData?null:t.pageTitleData.isDailyAverage)&&t.isActive),r.Mb(1),r.Bc("ngIf",t.isActive),r.Mb(1),r.Bc("ngIf",!t.isActive),r.Mb(1),r.Bc("pageTitleData",t.pageTitleData)("isLoading",!t.pageTitleData.title),r.Mb(3),r.Bc("locationInfo",t.locationInfo)("city",null==t.pageTitleData?null:t.pageTitleData.city)("isLoading",!t.locationInfo||!(null!=t.pageTitleData&&t.pageTitleData.city)),r.Mb(1),r.Bc("ngIf",(null==t.stationGallery?null:t.stationGallery.length)>0&&t.contributors),r.Mb(1),r.Bc("ngIf",!t.isChinaPage),r.Mb(1),r.Bc("ngIf",null==(e=r.uc(18,74,t.currentMeasurementSubj))?null:e.pollen),r.Mb(2),r.Bc("locationInfo",t.locationInfo)("city",null==t.pageTitleData?null:t.pageTitleData.city)("data",r.uc(20,76,t.weatherSubj))("isLoading",!r.uc(21,78,t.weatherSubj))("seoKeywords",t.seoKeywords.currentWeather),r.Mb(3),r.Bc("infoTooltip",t.liveCityTooltip)("itemAppendKey","state")("type","city")("sectionTitle",null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.sectionTitle)("title",null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.title)("time",t.time)("name",!!t.crumbs&&!!t.crumbs[0]&&t.crumbs[0].label)("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.realTimeCountryMajorCityRanking)("data",r.uc(23,80,null==t.cityOfCountryRanking?null:t.cityOfCountryRanking.data))("isLoading",!t.cityOfCountryRanking),r.Mb(3),r.Bc("infoTooltip",t.liveStationTooltip)("type","station")("sectionTitle",null==t.stationRankingOfCity?null:t.stationRankingOfCity.sectionTitle)("title",null==t.stationRankingOfCity?null:t.stationRankingOfCity.title)("time",t.time)("name",(null==t.pageTitleData?null:t.pageTitleData.city)||t.pageTitleData.title)("data",r.uc(26,82,null==t.stationRankingOfCity?null:t.stationRankingOfCity.data))("locationInfo",t.locationInfo)("seoKeywords",t.seoKeywords.realTimeAirQualityRanking)("isLoading",!t.stationRankingOfCity),r.Mb(2),r.Bc("ngIf",t.webcam),r.Mb(3),r.Bc("ngIf",t.nearestAlert),r.Mb(1),r.Bc("locationInfo",t.locationInfo)("data",r.uc(32,84,t.currentMeasurementSubj))("isLoading",!r.uc(33,86,t.currentMeasurementSubj))("city",null==t.pageTitleData?null:t.pageTitleData.city)("seoKeywords",t.seoKeywords.currentAirQuality)("seoKeywordsRecommendations",t.seoKeywords.protectFromAirPollution)("pollutantStatusOneHourAgo",t.pollutantsOneHourAgo)("recommendationData",t.recommendations),r.Mb(3),r.Bc("isLoading",!t.locationInfo||!(null!=t.pageTitleData&&t.pageTitleData.city))("locationInfo",t.locationInfo)("city",null==t.pageTitleData?null:t.pageTitleData.city),r.Mb(1),r.Bc("locationInfo",t.locationInfo)("forecastData",r.uc(36,88,t.dailyForecastSubj))("historyData",r.uc(37,90,t.historySubj))("currentAqi",null==(n=r.uc(38,92,t.currentMeasurementSubj))?null:n.aqi)("timezone",null==t.time?null:t.time.tz)("city",null==t.pageTitleData?null:t.pageTitleData.city)("seoKeywords",t.seoKeywords.airQualityForecast)("isLoading",!r.uc(39,94,t.historySubj)),r.Mb(5),r.Bc("ngIf",t.isBrowser),r.Mb(1),r.Bc("ngIf",t.localAnalysis),r.Mb(2),r.Bc("locationInfo",t.locationInfo)("sources",r.uc(44,96,t.sourcesSubj))("contributors",t.contributors)("isLocality",!0)("hasLowCostSensor",t.hasLowCostSensor)("isStation",!0),r.Mb(2),r.Bc("locationInfo",t.cityInfo)("locations",t.stationOfCity)}}function ai(t,e){1&t&&r.cc(0)}function oi(t,e){if(1&t&&(r.ec(0),r.dd(1,ai,1,0,"ng-container",59),r.dc()),2&t){r.sc();const t=r.Oc(3);r.Mb(1),r.Bc("ngTemplateOutlet",t)}}function ci(t,e){1&t&&r.cc(0)}function ri(t,e){if(1&t&&(r.ec(0),r.dd(1,ci,1,0,"ng-container",59),r.dc()),2&t){r.sc();const t=r.Oc(1);r.Mb(1),r.Bc("ngTemplateOutlet",t)}}const si=Object(f.g)("STATION_DATA"),li=Object(f.g)("STATION_HISTORICAL_DATA");let di=(()=>{class t extends mn.a{constructor(t,e,n,i,a,o,c,r,s,l,d,p,g){super(s,t,c,a,e,l,g,d,r,p),this.router=t,this.countryService=e,this.cityService=n,this.stationService=i,this.seoService=a,this.aqiTextService=o,this.transferState=c,this.changeDetectorRef=r,this.platformId=s,this.replacementService=l,this.drupalJsonApi=d,this.analysisService=p,this.websiteService=g,this.liveCityTooltip="",this.liveStationTooltip="",this.isPurpleAirSensor=!1,this.ssrKeys=[si,li],this.type="station"}ngOnInit(){super.ngOnInit()}ngOnChanges(t){super.ngOnChanges(t)}ngAfterViewInit(){super.ngAfterViewInit()}getData(t){let e;switch(t){case si:e=this.stationService.getStationById(this.id,[this.stationService.stationFlags.LIVECAM,this.stationService.stationFlags.ANALYSIS]);break;case li:e=this.stationService.getMeasurement(this.id)}this.subscribeWithSSR(e,t)}setData(t,e){switch(e){case si:this.resolveStationData(t);break;case li:this.setHistoryDataTemplate(t)}}resolveStationData(t){var e;const n=this.getCityOfStationObject(t.breadcrumbs).label;this.isPurpleAirSensor=(null==t?void 0:t.sensorType)===b.f.PURPLEAIR,this.getStationOfCity(t),this.setLocalityData(t),this.pageTitleData.city=n,this.pageTitleData.isDailyAverage=t.isDailyAverage,this.isActive=t.isActive,this.stationGallery=(null===(e=t.gallery)||void 0===e?void 0:e.pictures)||[],this.nearestAlert=t.warningBanner,t.hasOwnProperty("city")&&(this.cityInfo={name:t.city,type:"city"}),t.hasOwnProperty("forecasts")&&t.forecasts.hourly&&this.hourlyForecast.next(t.forecasts.hourly)}setSeoAndTranslations(t){const e=this.getCityOfStationObject(t.breadcrumbs).label,n=this.getCityOfStationObject(this.crumbs),i=this.aqiTextService.aqiText(t.current.aqi);this.setSeo(t,e,i),this.setTranslations(n)}setSeo(t,e,n){const i=this.trans.seo.pageTitle.replace(/{station}/gi,t.name).replace(/{city}/gi,e),a=this.trans.seo.pageDescription.replace(/{station}/gi,t.name).replace(/{aqiText}/gi,n).replace(/{city}/gi,e);this.seoService.writeHeader(i,a,this.getStationObject(t.breadcrumbs).url)}setTranslations(t){this.dailyForecastHeading=this.trans.daily.heading.replace(/{station}/gi,this.pageTitle.title).replace(/{city}/gi,t.label),this.dailyForecastSubHeading=this.trans.daily.subheading.replace(/{country}/gi,this.crumbs[0].label).replace(/{city}/gi,this.crumbs[1].label),this.hourlyForecastHeading=this.trans.hourly.heading.replace(/{station}/gi,this.pageTitle.title).replace(/{city}/gi,t.label),this.hourlyForecastSubHeading=this.trans.hourly.subheading.replace(/{country}/gi,this.crumbs[0].label).replace(/{city}/gi,this.crumbs[1].label),this.pollutantHistoryTitle=this.trans.history.heading.replace(/{station}/gi,this.pageTitle.title).replace(/{city}/gi,t.label),this.pollutantSubTitle=this.trans.history.subheading.replace(/{country}/gi,this.crumbs[0].label).replace(/{station}/gi,this.pageTitle.title).replace(/{city}/gi,t.label),this.tagTitle=this.trans.tag.heading.replace(/{city}/gi,t.label),this.tagSubTitle=this.trans.tag.subheading.replace(/{country}/gi,this.crumbs[0].label).replace(/{city}/gi,t.label),this.liveCityTooltip=h.a.portal.country.infoTooltip.replace(/{country}/gi,this.crumbs[0].label),this.liveStationTooltip=h.a.portal.city.infoTooltip.replace(/{city}/gi,t.label)}prepareWebcam(t){if(t.hasOwnProperty("liveCam")){const e=h.a.webcamComp;this.webcam={sectionTitle:e.sectionTitleStation,title:e.titleStation.replace(/{station}/gi,t.name).replace(/{city}/gi,t.city),data:t.liveCam}}}getStationObject(t){switch(t.length){case 1:return{label:t[0].label,url:t[0].url};case 2:return{label:t[1].label,url:t[1].url};case 3:return{label:t[2].label,url:t[2].url};case 4:return{label:t[3].label,url:t[3].url}}}getCityOfStationObject(t){switch(t.length){case 2:return{label:t[0].label,url:t[0].url};case 3:return{label:t[1].label,url:t[1].url};case 4:return{label:t[2].label,url:t[2].url}}}prepareStationRankingOfCity(t){if(t.hasOwnProperty("cityID")&&t.hasOwnProperty("city")){const e=h.a.aqiRankingComp.stationOfCity;if(!(null==t?void 0:t.cityID))return;this.stationRankingOfCity={sectionTitle:e.sectionTitleStation,title:e.title.replace(/{location}/gi,t.city),data:this.cityService.getStationRankingByCity(t.cityID)}}}getStationOfCity(t){t.hasOwnProperty("cityID")&&this.stationService.getStations(t.cityID,{sortBy:"aqi",sortOrder:_.a.ASC}).subscribe(t=>{this.stationOfCity=t})}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(i.g),r.ac(C.a),r.ac(bn.a),r.ac(_n.a),r.ac(p.a),r.ac(yn.a),r.ac(f.f),r.ac(r.i),r.ac(r.J),r.ac(v.a),r.ac(x.a),r.ac(M.a),r.ac(w.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-station"]],features:[r.Lb([hn.h]),r.Jb,r.Kb],decls:6,vars:2,consts:[["mobile_template",""],["desktop_template",""],[4,"ngIf"],[3,"type","placeID"],[1,"container","mobile-header__block"],[3,"isLoading","locationInfo","breadcrumbs"],[3,"isLoading","pageTitleData"],["type","station","class","mobile-header__daily-average",4,"ngIf"],["class","page-title-timestamp",3,"timestamp","timezone","checkLocalTime","isLoading",4,"ngIf"],[3,"type","checkLocalTime","timezone","isLoading","lastUpdate",4,"ngIf"],[3,"pageTitleData","isLoading"],[1,"container"],[3,"alertData",4,"ngIf"],[3,"locationInfo","data","seoKeywords","isLoading","city","seoKeywordsRecommendations","pollutantStatusOneHourAgo","recommendationData"],[3,"isLoading","city","locationInfo"],[3,"pictures","contributorPic","contributorName","isMobileScreen",4,"ngIf"],[3,"sourcesBanner","promotionBanners","sponsorList","isStation","locationInfo","isLoading","contributorClicked",4,"ngIf"],[3,"locationInfo","city","isLoading"],[3,"locationInfo","currentPollen","city",4,"ngIf"],[3,"locationInfo","data","seoKeywords","isLoading","city"],[3,"locationInfo","forecastData","historyData","currentAqi","timezone","isLoading","city","seoKeywords"],[3,"pollutantData","timezone",4,"ngIf"],[3,"infoTooltip","itemAppendKey","type","sectionTitle","title","time","name","locationInfo","data","seoKeywords","isLoading"],[3,"infoTooltip","type","sectionTitle","title","time","name","isLoading","locationInfo","seoKeywords","data"],[3,"data","isLoading",4,"ngIf"],[3,"name","data","city","titleFormat",4,"ngIf"],["id","contributors",3,"locationInfo","sources","contributors","isLocality","hasLowCostSensor","isStation"],[3,"locationInfo","locations"],["type","station",1,"mobile-header__daily-average"],[1,"page-title-timestamp",3,"timestamp","timezone","checkLocalTime","isLoading"],[3,"type","checkLocalTime","timezone","isLoading","lastUpdate"],[3,"alertData"],[3,"pictures","contributorPic","contributorName","isMobileScreen"],[3,"sourcesBanner","promotionBanners","sponsorList","isStation","locationInfo","isLoading","contributorClicked"],[3,"locationInfo","currentPollen","city"],[3,"pollutantData","timezone"],[3,"data","isLoading"],[3,"name","data","city","titleFormat"],[1,"container","desktop-header__block"],[1,"top-nav"],[1,"top-nav__info"],[3,"isLoading"],[1,"bottom-content"],[1,"bottom-content__left"],["type","station",4,"ngIf"],[1,"container","content__wrapper"],[1,"left-side"],[3,"isLoading","locationInfo","isStation","promotionBanners","sourcesBanner","sponsorList","contributorClicked",4,"ngIf"],[3,"locationInfo","city","data","isLoading","seoKeywords"],[3,"infoTooltip","itemAppendKey","type","sectionTitle","title","time","name","locationInfo","seoKeywords","data","isLoading"],[3,"infoTooltip","type","sectionTitle","title","time","name","data","locationInfo","seoKeywords","isLoading"],[1,"right-side"],[3,"locationInfo","data","isLoading","city","seoKeywords","seoKeywordsRecommendations","pollutantStatusOneHourAgo","recommendationData"],[3,"isLoading","locationInfo","city"],[3,"locationInfo","forecastData","historyData","currentAqi","timezone","city","seoKeywords","isLoading"],[3,"name","data","city",4,"ngIf"],["type","station"],[3,"isLoading","locationInfo","isStation","promotionBanners","sourcesBanner","sponsorList","contributorClicked"],[3,"name","data","city"],[4,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.dd(0,Vn,39,99,"ng-template",null,0,r.ed),r.dd(2,ii,46,98,"ng-template",null,1,r.ed),r.dd(4,oi,2,1,"ng-container",2),r.dd(5,ri,2,1,"ng-container",2)),2&t&&(r.Mb(4),r.Bc("ngIf",!e.isLocationMobileScreen),r.Mb(1),r.Bc("ngIf",e.isLocationMobileScreen))},directives:[s.o,vn.a,S.a,B.a,wn.a,xn.a,K.a,Mn.a,On.a,Cn.a,R.a,H.a,z.a,Kt.a,ze.a,Pn.a,q.a,In.a,kn.a,Bn,Rt.a,qn.a,Dn.a,An.a,Ht.a,zt.a,s.t],pipes:[s.b],styles:["",".mobile-header__block[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:24px}.mobile-header__block__page-title[_ngcontent-%COMP%]{margin-bottom:24px}.mobile-header__content-wrapper[_ngcontent-%COMP%]{padding-bottom:32px;border-bottom:1px solid #e6e6e6}.mobile-header__daily-average[_ngcontent-%COMP%]{margin-bottom:16px}.desktop-header__block[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:24px}.desktop-header__block[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.desktop-header__block[_ngcontent-%COMP%]   .top-nav__info[_ngcontent-%COMP%]{-ms-flex:1;flex:1;margin-right:48px}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content__left[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;gap:4px}.content__wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:72px;border-bottom:1px solid #e6e6e6}.content__wrapper[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:364px;margin-right:24px}.content__wrapper[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{-ms-flex:1 0 auto;flex:1 0 auto;max-width:calc(100% - 388px)}",""],changeDetection:0}),t})();const pi=[{path:"",component:di,pathMatch:"full"}];let gi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[i.k.forChild(pi)],i.k]}),t})();var ui=n("6GZ2"),fi=n("FUHR"),hi=n("YMt9"),mi=n("YNPJ");let bi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[s.c,mi.a]]}),t})();var _i=n("nFua"),yi=n("YuT7");let vi=(()=>{class t{}return t.entry=di,t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[ui.a,gi,fi.a,xe.a,Ce.a,hi.a,_i.a,bi,_i.a,yi.a]]}),t})();const wi=[{name:"city",loadChildren:()=>Promise.resolve().then(n.bind(null,"Lu0+")).then(t=>t.CityModule)}],xi=()=>{const t={};for(const e of wi)t[e.name]=e.loadChildren;return t};var Mi=n("SBCj"),Oi=n("H26z"),Ci=n("N7NS"),Pi=n("bqHf"),Ii=n("AsUd"),ki=n("+TPD"),Ti=n("HS6x"),Li=n("AytR");let Si=(()=>{class t{constructor(t){this.http=t,this.resolveEndpoint=`${Li.a.apiEndpoint}${Li.a.apiMajorVersion}routes`}resolve(t){return this.http.get(`${this.resolveEndpoint}${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.kc(I.b))},t.\u0275prov=r.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Bi=n("mFZi"),qi=n("YExH"),Di=n("s0lO"),Ai=n("LRne"),Ri=n("3E0/");let Hi=(()=>{class t{constructor(){}sluggify(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ji=n("sfMR"),zi=n("xAWx"),Ki=n("VkX0"),Fi=n("Q2Ze"),Ui=n("ZTz/"),Ei=n("UhP/"),Ni=n("s9Pf"),Yi=n("cR01"),Vi=n("XWPG");const Wi=function(t){return{"view-mobile__no-img":t}};function $i(t,e){if(1&t&&(r.gc(0,"div",22),r.gc(1,"div",23),r.tc(2,"omitCountryHref"),r.gc(3,"picture"),r.bc(4,"source",24),r.bc(5,"img",25),r.fc(),r.fc(),r.gc(6,"div",26),r.tc(7,"omitCountryHref"),r.bc(8,"img",25),r.fc(),r.gc(9,"div",27),r.gc(10,"div",28),r.fd(11),r.fc(),r.bc(12,"a",29),r.tc(13,"omitCountryHref"),r.gc(14,"div",30),r.bc(15,"a",29),r.tc(16,"omitCountryHref"),r.gc(17,"h1"),r.bc(18,"a",29),r.tc(19,"omitCountryHref"),r.gc(20,"a",31),r.tc(21,"omitCountryHref"),r.fd(22),r.fc(),r.fc(),r.fc(),r.gc(23,"a",32),r.tc(24,"omitCountryHref"),r.fd(25),r.fc(),r.fc(),r.fc()),2&t){const t=e.$implicit,n=r.sc(2);r.Mb(1),r.Bc("routerLink",r.uc(2,15,t.url)),r.Mb(3),r.Bc("srcset",t.wide_hero_2x,r.Vc),r.Mb(1),r.Bc("src",t.image,r.Vc),r.Mb(1),r.Bc("routerLink",r.uc(7,17,t.url))("ngClass",r.Hc(29,Wi,!t.image_mobile)),r.Mb(2),r.Bc("src",t.image_mobile?t.image_mobile:t.image,r.Vc),r.Mb(3),r.gd(n.textBlocksForPage[711]),r.Mb(1),r.Bc("routerLink",r.uc(13,19,t.url)),r.Mb(3),r.Bc("routerLink",r.uc(16,21,t.url)),r.Mb(3),r.Bc("routerLink",r.uc(19,23,t.url)),r.Mb(2),r.Cc("innerHTML",t.title,r.Tc),r.Bc("routerLink",r.uc(21,25,t.url)),r.Mb(2),r.hd(" ",t.title,""),r.Mb(1),r.Bc("routerLink",r.uc(24,27,t.url)),r.Mb(2),r.gd(n.textBlocksForPage[716])}}function Ji(t,e){if(1&t&&(r.gc(0,"div",20),r.dd(1,$i,26,31,"div",21),r.fc()),2&t){const t=r.sc();r.Mb(1),r.Bc("ngForOf",t.blogSlidesResult)}}function Qi(t,e){if(1&t&&(r.gc(0,"mat-option",39),r.fd(1),r.fc()),2&t){const t=e.$implicit;r.Bc("value",t.id),r.Mb(1),r.hd("",t.title," ")}}function Xi(t,e){if(1&t){const t=r.hc();r.gc(0,"div",33),r.gc(1,"mat-form-field"),r.gc(2,"mat-select",34),r.oc("valueChange",function(e){return r.Sc(t),r.sc().selectedTagOption=e}),r.gc(3,"mat-option",35),r.fd(4),r.fc(),r.dd(5,Qi,2,2,"mat-option",36),r.fc(),r.fc(),r.gc(6,"span",37),r.oc("click",function(){r.Sc(t);const e=r.sc();return e.filterArticles(e.selectedTagOption)}),r.bc(7,"input",38),r.fc(),r.fc()}if(2&t){const t=r.sc();r.Mb(2),r.Bc("value",t.selectedTagOption),r.Mb(2),r.gd(t.textBlocksForPage[1236]),r.Mb(1),r.Bc("ngForOf",t.blogTagsResult),r.Mb(2),r.Cc("value",t.textBlocksForPage[1241])}}function Gi(t,e){if(1&t&&(r.gc(0,"div",57),r.gc(1,"div"),r.gc(2,"span",58),r.fd(3),r.tc(4,"dayDiff"),r.fc(),r.fc(),r.fc()),2&t){const t=r.sc().$implicit;r.Mb(3),r.gd(r.uc(4,1,t.published_date))}}function Zi(t,e){if(1&t&&(r.ec(0),r.gc(1,"div",43),r.gc(2,"div",44),r.gc(3,"div",45),r.gc(4,"div",46),r.bc(5,"img",47),r.fc(),r.fc(),r.gc(6,"fieldset",48),r.gc(7,"div",49),r.gc(8,"div",30),r.gc(9,"h2"),r.bc(10,"a",50),r.tc(11,"omitCountryHref"),r.fc(),r.fc(),r.dd(12,Gi,5,3,"div",51),r.gc(13,"div",52),r.gc(14,"a",53),r.tc(15,"omitCountryHref"),r.fd(16),r.fc(),r.fc(),r.gc(17,"div",54),r.gc(18,"div",55),r.gc(19,"span"),r.fd(20),r.fc(),r.bc(21,"div",56),r.tc(22,"safe"),r.fc(),r.fc(),r.fc(),r.fc(),r.fc(),r.fc(),r.dc()),2&t){const t=e.$implicit,n=r.sc(2);r.Mb(5),r.Cc("alt",t.title),r.Cc("src",t.image,r.Vc),r.Mb(5),r.Bc("routerLink",r.uc(11,9,t.url))("innerHTML",t.title,r.Tc),r.Mb(2),r.Bc("ngIf",t.changed),r.Mb(2),r.Bc("routerLink",r.uc(15,11,t.url)),r.Mb(2),r.gd(n.textBlocksForPage[716]),r.Mb(4),r.gd(n.textBlocksForPage[756]),r.Mb(1),r.Bc("innerHTML",r.vc(22,13,t.blog_tags,"html"),r.Tc)}}function ta(t,e){if(1&t&&(r.gc(0,"div",40),r.gc(1,"div",41),r.dd(2,Zi,23,16,"ng-container",42),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(2),r.Bc("ngForOf",t.newsroomResult)}}const ea=function(){return{display:"block",height:"200px",width:"100%",margin:"0 auto"}};function na(t,e){1&t&&(r.ec(0),r.gc(1,"app-loading"),r.rc(),r.bc(2,"rect",59),r.fc(),r.dc()),2&t&&(r.Mb(1),r.Yc(r.Gc(2,ea)))}const ia=function(){return[0,1,2,3,4,5,6,7]};function aa(t,e){1&t&&(r.ec(0),r.gc(1,"div",40),r.gc(2,"div",41),r.dd(3,na,3,3,"ng-container",42),r.fc(),r.fc(),r.dc()),2&t&&(r.Mb(3),r.Bc("ngForOf",r.Gc(1,ia)))}function oa(t,e){if(1&t){const t=r.hc();r.gc(0,"li",62),r.gc(1,"a",63),r.oc("click",function(){return r.Sc(t),r.sc(2).showContentRow("prev")}),r.fd(2),r.fc(),r.fc()}if(2&t){const t=r.sc(2);r.Mb(2),r.gd(t.trans.previous)}}function ca(t,e){if(1&t){const t=r.hc();r.gc(0,"li",62),r.gc(1,"a",64),r.oc("click",function(){return r.Sc(t),r.sc(2).showContentRow("next")}),r.fd(2),r.fc(),r.fc()}if(2&t){const t=r.sc(2);r.Mb(2),r.gd(t.trans.next)}}function ra(t,e){if(1&t&&(r.gc(0,"ul",60),r.dd(1,oa,3,1,"li",61),r.dd(2,ca,3,1,"li",61),r.fc()),2&t){const t=r.sc();r.Mb(1),r.Bc("ngIf",t.page>1),r.Mb(1),r.Bc("ngIf",t.hasMoreContent)}}let sa=(()=>{class t{constructor(t,e,n,i,a,o,c,r,s,l,d){this.DRUPALBASEURL=t,this.graphql=e,this.router=n,this.slugUtil=i,this.util=a,this.http=o,this.metaLinkServiceDrupal=c,this.activatedRoute=r,this.jsonApiService=s,this.websiteService=l,this.internationalizationService=d,this.trans=h.a.iqAir.newsRoom,this.blogNodeId="",this.currentBlogNodeId="",this.newsroomResult=[],this.blogTagsResult=[],this.blogSlidesResult=[],this.page=1,this.headerTitle="",this.pagingIncrement=8,this.structuredDataCount=this.pagingIncrement,this.hasMoreContent=!1,this.scriptLoaded=!1,this.isLoading=!0,this.cdn=ki.a,this.authorsPageLinked=!0,this.textBlocksToFetch={711:"Featured Article",716:"Read Full Story",756:"Tags:",1211:"Authored by",1216:"Last Updated",1231:"IQAir News",1236:"- Any -",1241:"Apply"},this.textBlocksForPage={},this.selectedTagOption="default"}ngOnInit(){this.getNewsSlide(),this.fetchDrupalBlocks(),this.setMetaTags(),this.setNewsPage(),this.selectedTagOption=this.graphql.getDrupalTaggedPageBlogArticlePathNodeId(this.router.url)||"default",this.getArticles(this.selectedTagOption),this.getBlogTags();let t=parseInt(this.activatedRoute.snapshot.queryParamMap.get("sdcount"));t&&(this.structuredDataCount=t)}ngOnDestroy(){this.metaLinkServiceDrupal.removeJsonLdScriptTag()}fetchDrupalBlocks(){return Object(c.a)(this,void 0,void 0,function*(){this.jsonApiService.getDrupalBlocks("text_block",this.textBlocksToFetch).then(t=>{for(const e in this.textBlocksToFetch)e&&(this.textBlocksForPage[e]=t[e]||this.textBlocksToFetch[e])})})}setMetaTags(){this.trans.newsIqair&&this.metaLinkServiceDrupal.addDefaultMetaTag(this.trans.newsIqair)}setNewsPage(){const t=this.router.url.split("?")[1],e=new URLSearchParams(t).get("page");Number(e)&&(this.page=parseInt(e))}filterArticles(t){if(this.currentBlogNodeId===t)return Object(Ai.a)(null).pipe(Object(Ri.a)(1));this.page=1,this.newsroomResult=[],this.currentBlogNodeId=this.selectedTagOption,this.assignTagNPageParamsInURL(t),this.getArticles(t)}getNewsSlide(){this.newsSlideAPi().subscribe(t=>{this.blogSlidesResult=t.map(t=>t.image?Object.assign({wide_hero_2x:t.image.replace("/sites/default/files/","/sites/default/files/styles/wide_hero_2x/public/")},t):t),this.blogSlidesResult.length>0&&this.loadSlickScript()})}loadSlickScript(){this.util.loadScript("assets/iqair/js/slick.1.9.min.js",{replace:!0,tag:"body"}),this.util.loadScript("assets/iqair/js/newsroom.slick.js",{replace:!0,tag:"body"})}newsSlideAPi(){let t=this.graphql.getCountryLanuageNameFromUrl();"/"===t&&(t="");const e={langCode:this.graphql.getLangCodeForDrupalApiParam(),format:"json"};return this.http.get(`${this.DRUPALBASEURL}${t}/api/GetBlogSlideshow`,{params:{langcode:e.langCode,_format:e.format}})}getArticles(t){return this.isLoading=!0,this.graphql.getDrupalNewsroomPageAllArticles({page:this.page,perPage:this.pagingIncrement,nodeId:t}).subscribe(t=>{this.newsroomResult=Array.from(t,t=>Object.assign({},t)).map(t=>(t.blog_tags=decodeURIComponent(t.blog_tags),t.created=this.internationalizationService.getLocalDate(t.created),t.changed=this.internationalizationService.getLocalDate(t.changed),this.getAuthorsData(t))),this.isLoading=!1,this.hasMoreContent=this.newsroomResult&&this.newsroomResult.length>=this.pagingIncrement,this.addStructuredDataForArticles(this.newsroomResult)})}getAuthorsData(t){if(""!=t.field_authors&&(t.authors=t.field_authors.split(",")),""!=t.field_authors_urls){var e=t.field_authors_urls.split(","),n=/<a[^>]*href=["']([^"']*)["']/g;let c=[],r={},s=t.field_authors.split(",");for(var i=0;i<e.length;i++){var a=e[i].match(n);if(a){var o=a[0].substring(9,a[0].length-1);t.authorsPageUrls?t.authorsPageUrls.push(o):t.authorsPageUrls=[o]}r={title:s[i],urlAlias:o},c.push(r)}t.authorsData=c}return t}getBlogTags(){this.graphql.getDrupalNewsroomBlogTags().subscribe(t=>{this.blogTagsResult=this.noNeedBlogTags(t).map(t=>Object.assign(Object.assign({},t),{slug:"Parents"===t.title?"new-parents":this.slugUtil.sluggify(t.title)}))})}addStructuredDataForArticles(t){var e;const n=this.websiteService.isChineseWebsite()?Li.a.cnWebsite:Li.a.urlWebsite,i=[];if(this.structuredDataCount>1){for(let a=0;a<t.length&&a<this.structuredDataCount;a++){const o=t[a],c={type:"NewsArticle",headline:o.title,image:[o.image],mainEntityOfPage:n+o.url,authors:null===(e=this.newsroomResult[a])||void 0===e?void 0:e.authorsData,created:new Date(o.created.replace(" - "," ")),changed:new Date(o.changed.replace(" - "," "))};i.push(c)}this.metaLinkServiceDrupal.addAggregateStructuredData(i)}}noNeedBlogTags(t){const e=["1712","1426","1431","1436","1441"];let n=this.selectedTagOption.toString();return t.filter(t=>{if(t.id===n){let n=e.indexOf(t.id);e.splice(n,1,"")}if(-1===e.indexOf(t.id))return t})}showContentRow(t){this.isLoading||("prev"===t?this.page--:this.page++,this.assignTagNPageParamsInURL(),this.getArticles(this.selectedTagOption))}assignTagNPageParamsInURL(t=null){if(1===this.page&&"default"===this.selectedTagOption)window.history.replaceState(null,null,window.location.pathname);else{if(t){let e=this.blogTagsResult.find(e=>e.id===t);this.setNewsroomURLSearchParam("tag",e.slug)}this.page>1?this.setNewsroomURLSearchParam("page",this.page):this.removeNewsroomURLSearchParam("page")}}setNewsroomURLSearchParam(t,e){const n=new URL(window.location.href);n.searchParams.set(t,e),window.history.pushState({path:n.href},"",n.href)}removeNewsroomURLSearchParam(t){const e=new URL(window.location.href);e.searchParams.delete(t),window.history.pushState({path:e.href},"",e.href)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(Di.a),r.ac(Ti.a),r.ac(i.g),r.ac(Hi),r.ac(ji.a),r.ac(I.b),r.ac(Bi.a),r.ac(i.a),r.ac(x.a),r.ac(w.a),r.ac(zi.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-newsroom-page"]],decls:22,vars:6,consts:[["rel","stylesheet","href","/assets/iqair/css/font-awesome.min.css","media","all"],["rel","stylesheet","href","/assets/iqair/css/bundle1.css","media","all"],["rel","stylesheet","href","/assets/iqair/css/bundle2.css","media","all"],["rel","stylesheet","href","/assets/iqair/js/slick.1.9.min.css","media","all"],["role","main",1,"newsroom-page"],["id","main-content","tabindex","-1"],[1,"header-title-container"],[1,"header-title"],[1,"layout-content"],[1,"region","region-content"],["data-drupal-messages-fallback","",1,"hidden"],["id","block-iqair-content",1,"block","block-system","block-system-main-block"],[1,"view","view-blog","view-id-blog","view-display-id-blog_tag_page_v2"],[1,"view-header"],["class","newsroom-slide",4,"ngIf"],[1,"view-filters"],["class","form--inline clearfix",4,"ngIf"],["class","view-content",4,"ngIf"],[4,"ngIf"],["class","js-pager__items pager","data-drupal-views-infinite-scroll-pager","",4,"ngIf"],[1,"newsroom-slide"],["class","newsroom-slide-item ",4,"ngFor","ngForOf"],[1,"newsroom-slide-item"],["routerLinkActive","router-link-active",1,"blog-slideshow-image-container","view-desktop",3,"routerLink"],["media","all and (min-width: 769px)",3,"srcset"],[3,"src"],["routerLinkActive","router-link-active",1,"blog-slideshow-image-container","view-mobile",3,"routerLink","ngClass"],[1,"blog-slideshow-teaser-container"],[1,"annotation"],["routerLinkActive","router-link-active","tabindex","0",3,"routerLink"],[1,"field","field--name-node-title","field--type-ds","field--label-hidden","field__item"],["routerLinkActive","router-link-active","hreflang","en-gb","tabindex","0",3,"routerLink","innerHTML"],["routerLinkActive","router-link-active","tabindex","0",1,"readmore",3,"routerLink"],[1,"form--inline","clearfix"],[3,"value","valueChange"],["value","default"],[3,"value",4,"ngFor","ngForOf"],["data-drupal-selector","edit-actions","id","edit-actions",1,"apply-button",3,"click"],["data-drupal-selector","edit-submit-blog","type","button","id","edit-submit-blog",1,"button","js-form-submit","form-submit",3,"value"],[3,"value"],[1,"view-content"],[1,"views-infinite-scroll-content-wrapper","clearfix"],[4,"ngFor","ngForOf"],[1,"views-row","article-item"],["data-history-node-id","8201",1,"node","node--type-blog-article","node--view-mode-teaser","ds-1col","clearfix"],["data-blazy","",1,"blazy","field","field--name-field-articleimage","field--type-image","field--label-hidden","field__item","blazy--on"],[1,"media","media--blazy","media--image"],["height","1500","width","2880","typeof","foaf:Image",1,"b-lazy","media__image","media__element","b-loaded",3,"alt","src"],[1,"teaser-content"],[1,"fieldset-wrapper"],["routerLinkActive","router-link-active","hreflang","en",3,"routerLink","innerHTML"],["class","last-updated",4,"ngIf"],[1,"field","field--name-node-link","field--type-ds","field--label-hidden","field__item"],["routerLinkActive","router-link-active","hreflang","en",1,"readmore",3,"routerLink"],[1,"special-tags"],[1,"field","field--name-field-blog-tags","field--type-entity-reference","field--label-hidden","field__items"],[1,"field__item","tag",3,"innerHTML"],[1,"last-updated"],[1,"relative-time"],["x","0","y","0","rx","0","ry","0","width","100%","height","100%"],["data-drupal-views-infinite-scroll-pager","",1,"js-pager__items","pager"],["class","pager__item iqair-view-more-articles",4,"ngIf"],[1,"pager__item","iqair-view-more-articles"],["title","Go to previous page","rel","previous",1,"loadmore-button","button",3,"click"],["title","Go to next page","rel","next",1,"loadmore-button","button",3,"click"]],template:function(t,e){1&t&&(r.bc(0,"link",0),r.bc(1,"link",1),r.bc(2,"link",2),r.bc(3,"link",3),r.bc(4,"page-banner"),r.gc(5,"main",4),r.bc(6,"a",5),r.gc(7,"div",6),r.gc(8,"h1",7),r.fd(9),r.fc(),r.fc(),r.gc(10,"div",8),r.gc(11,"div",9),r.bc(12,"div",10),r.gc(13,"div",11),r.gc(14,"div",12),r.gc(15,"div",13),r.dd(16,Ji,2,1,"div",14),r.fc(),r.gc(17,"div",15),r.dd(18,Xi,8,4,"div",16),r.fc(),r.dd(19,ta,3,1,"div",17),r.dd(20,aa,4,2,"ng-container",18),r.dd(21,ra,3,2,"ul",19),r.fc(),r.fc(),r.fc(),r.fc(),r.fc()),2&t&&(r.Mb(9),r.gd(e.textBlocksForPage[1231]),r.Mb(7),r.Bc("ngIf",e.blogSlidesResult.length>0),r.Mb(2),r.Bc("ngIf",e.blogTagsResult.length>0),r.Mb(1),r.Bc("ngIf",!e.isLoading),r.Mb(1),r.Bc("ngIf",e.isLoading),r.Mb(1),r.Bc("ngIf",e.page>1||e.hasMoreContent))},directives:[Ki.a,s.o,s.n,i.i,i.h,s.m,i.j,Fi.c,Ui.a,Ei.m,N.a],pipes:[Ni.a,Yi.a,Vi.a],styles:['@charset "UTF-8";.newsroom-page[_ngcontent-%COMP%]   .view-desktop[_ngcontent-%COMP%]{display:block}.newsroom-page[_ngcontent-%COMP%]   .view-mobile[_ngcontent-%COMP%]{display:none}.newsroom-page[_ngcontent-%COMP%]   .view-header[_ngcontent-%COMP%]{margin:0 auto 60px;max-width:1440px}.newsroom-page[_ngcontent-%COMP%]   .loadmore-button[_ngcontent-%COMP%]{cursor:pointer}.newsroom-page[_ngcontent-%COMP%]   .field__item[_ngcontent-%COMP%]   picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;padding-top:48px}.newsroom-page[_ngcontent-%COMP%]   .last-updated[_ngcontent-%COMP%]{margin-top:8px}.newsroom-page[_ngcontent-%COMP%]   .authors-ctr[_ngcontent-%COMP%]{margin-top:10px}.newsroom-page[_ngcontent-%COMP%]   .relative-time[_ngcontent-%COMP%]{font-size:12px;color:#5b7186;font-weight:400}.newsroom-page[_ngcontent-%COMP%]   .author-page-link[_ngcontent-%COMP%]:hover{cursor:pointer}.newsroom-page[_ngcontent-%COMP%]   .visually-hidden[_ngcontent-%COMP%]{width:100%;clip:auto;margin:0}.newsroom-page[_ngcontent-%COMP%]   .readmore[_ngcontent-%COMP%]:hover{border-bottom:1px solid #585f66}.newsroom-page[_ngcontent-%COMP%]   .view-filters[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0 auto 10px;max-width:1440px}.newsroom-page[_ngcontent-%COMP%]   .view-filters[_ngcontent-%COMP%]     .mat-select-value{color:#666}.newsroom-page[_ngcontent-%COMP%]   .view-filters[_ngcontent-%COMP%]   .form--inline[_ngcontent-%COMP%]   input.form-submit[_ngcontent-%COMP%]{padding:8px 10px}.newsroom-page[_ngcontent-%COMP%]   .view-filters[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{color:#fff;margin-left:20px}.newsroom-page[_ngcontent-%COMP%]   .node.node--type-blog-article.node--view-mode-slideshow[_ngcontent-%COMP%]{margin:0!important}.newsroom-page[_ngcontent-%COMP%]   .header-title-container[_ngcontent-%COMP%]{max-width:1440px;margin:0 auto 30px}.newsroom-page[_ngcontent-%COMP%]   .header-title-container[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#5482ab;font-size:24px;font-weight:700}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]{margin:0 auto;max-width:1440px}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .newsroom-slide-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:100%;max-height:500px;-o-object-fit:cover;object-fit:cover}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]{height:119px;padding:12px;background:#5482ab;font-weight:700;color:#fff}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]   .annotation[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:500}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#fff}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:29px;margin-top:8px!important}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]   .readmore[_ngcontent-%COMP%]{text-transform:uppercase;font-size:10px}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]   .readmore[_ngcontent-%COMP%]:hover{border-bottom:1px solid}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]   .readmore[_ngcontent-%COMP%]:after{position:relative;top:0;font-size:9px;line-height:12px;content:"\uf054";font-family:FontAwesome;padding-left:6px}@media screen and (min-width:769px){.view-display-id-blog_page[_ngcontent-%COMP%] > .view-content[_ngcontent-%COMP%] > .views-infinite-scroll-content-wrapper[_ngcontent-%COMP%] > .views-row[_ngcontent-%COMP%] > .node--type-blog-article[_ngcontent-%COMP%], .view-display-id-blog_tag_page_v2[_ngcontent-%COMP%] > .view-content[_ngcontent-%COMP%] > .views-infinite-scroll-content-wrapper[_ngcontent-%COMP%], .view-display-id-tags_page[_ngcontent-%COMP%] > .view-content[_ngcontent-%COMP%] > .views-infinite-scroll-content-wrapper[_ngcontent-%COMP%] > .views-row[_ngcontent-%COMP%] > .node--type-blog-article[_ngcontent-%COMP%]{display:grid;gap:30px;grid-template-columns:repeat(4,minmax(10px,1fr))}.last-updated[_ngcontent-%COMP%]{padding:0 15px}}@media screen and (max-width:768px){.node--type-blog-article.node--view-mode-teaser[_ngcontent-%COMP%]{padding:10px!important;padding:10px;display:-ms-flexbox;display:flex}.node--type-blog-article.node--view-mode-teaser[_ngcontent-%COMP%]   .field--name-field-articleimage[_ngcontent-%COMP%]{float:left;width:25%;margin-right:0}.node--type-blog-article.node--view-mode-teaser[_ngcontent-%COMP%]   .field--name-field-articleimage[_ngcontent-%COMP%]   .media--blazy.media--image[_ngcontent-%COMP%]{height:100%}.node--type-blog-article.node--view-mode-teaser[_ngcontent-%COMP%]   fieldset.form-wrapper[_ngcontent-%COMP%]{margin:0}.node--type-blog-article.node--view-mode-teaser[_ngcontent-%COMP%]   .field--name-node-title[_ngcontent-%COMP%]{overflow:hidden;display:block;display:-webkit-box;max-width:400px;line-height:1.4;-webkit-line-clamp:2;text-overflow:ellipsis;-webkit-box-orient:vertical}.node--type-blog-article.node--view-mode-teaser[_ngcontent-%COMP%]   .field--name-node-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;line-height:20px}.node--type-blog-article.node--view-mode-teaser[_ngcontent-%COMP%]   .teaser-content[_ngcontent-%COMP%]   .fieldset-wrapper[_ngcontent-%COMP%]{padding:0 10px;height:100%;display:block}.newsroom-page[_ngcontent-%COMP%]   .view-desktop[_ngcontent-%COMP%]{display:none}.newsroom-page[_ngcontent-%COMP%]   .view-mobile[_ngcontent-%COMP%]{display:block}.newsroom-page[_ngcontent-%COMP%]   .view-mobile__no-img[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:84.54%;overflow:hidden}.newsroom-page[_ngcontent-%COMP%]   .view-mobile__no-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:100%}.newsroom-page[_ngcontent-%COMP%]   .header-title-container[_ngcontent-%COMP%]{background-color:hsla(0,0%,92%,.33);margin-bottom:0}.newsroom-page[_ngcontent-%COMP%]   .header-title-container[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;padding:10px 0}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .newsroom-slide-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:640px}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]{height:240px}.newsroom-page[_ngcontent-%COMP%]   .newsroom-slide[_ngcontent-%COMP%]   .blog-slideshow-teaser-container[_ngcontent-%COMP%]   .readmore[_ngcontent-%COMP%]{position:absolute;bottom:10px}.special-tags[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:1439px){.newsroom-page[_ngcontent-%COMP%]   .header-title-container[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{padding-left:15px}.newsroom-page[_ngcontent-%COMP%]   .view-content[_ngcontent-%COMP%], .newsroom-page[_ngcontent-%COMP%]   .view-filters[_ngcontent-%COMP%], .newsroom-page[_ngcontent-%COMP%]   .view-header[_ngcontent-%COMP%]{max-width:1140px}.newsroom-page[_ngcontent-%COMP%]   .view-filters[_ngcontent-%COMP%]{padding:0 15px}.newsroom-page[_ngcontent-%COMP%]   .view-content[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}']}),t})();var la=n("s4aF"),da=n("GiGk"),pa=n("250K"),ga=n("i2dh"),ua=n("BK1E"),fa=n("evIj"),ha=n("sEQV"),ma=n("7msy"),ba=n("7VqJ"),_a=n("sxMN"),ya=n("Lexa"),va=n("HAGt"),wa=n("lyMc"),xa=n("x2i3"),Ma=n("AaFn"),Oa=n("oV2S"),Ca=n("CQ8N"),Pa=n("T2iB"),Ia=n("dTsS"),ka=n("e0C2"),Ta=n("XkIO"),La=n("GvM0"),Sa=n("pdI1");function Ba(t,e){if(1&t&&r.bc(0,"carousel",2),2&t){const t=r.sc();r.Bc("contentBoxes",t.contentBoxes)("cellsToShow",1)("height",t.dynamicHeight)("margin",0)("dots",!0)("arrows",t.contentBoxes.length>1)("arrowsOutside",!1)("concealingArrows",!0)}}let qa=(()=>{class t{constructor(t){this.platformId=t,this.has750Bg=!1,this.dynamicHeight=500,this.mobileHeight=500}onResize(t){this.detectScreenSize()}ngOnInit(){var t,e,n,i,a,o,c,r;(null===(e=null===(t=this.data)||void 0===t?void 0:t.children)||void 0===e?void 0:e.field_carousel_item)&&(this.contentBoxes=this.data.children.field_carousel_item.filter(t=>!1===t.field_hide)),(null===(n=this.data)||void 0===n?void 0:n.field_number_integer)&&(this.mobileHeight=this.data.field_number_integer);for(const s in this.contentBoxes)if(null===(r=null===(c=null===(o=null===(a=null===(i=this.contentBoxes[s])||void 0===i?void 0:i.children)||void 0===a?void 0:a.field_add_image_or_video)||void 0===o?void 0:o[0])||void 0===c?void 0:c.children)||void 0===r?void 0:r.field_banner_image)return this.has750Bg=!0,void this.detectScreenSize();this.detectScreenSize()}detectScreenSize(){let t=window.innerWidth;t>=1300&&this.has750Bg?this.dynamicHeight=750:t<=1340&&t>=950?this.dynamicHeight=500:t<=950&&(this.dynamicHeight=this.mobileHeight)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.J))},t.\u0275cmp=r.Ub({type:t,selectors:[["carousel-content-box-component"]],hostBindings:function(t,e){1&t&&r.oc("resize",function(t){return e.onResize(t)},!1,r.Rc)},decls:2,vars:1,consts:[[1,"carousel-content-box-container"],[3,"contentBoxes","cellsToShow","height","margin","dots","arrows","arrowsOutside","concealingArrows",4,"ngIf"],[3,"contentBoxes","cellsToShow","height","margin","dots","arrows","arrowsOutside","concealingArrows"]],template:function(t,e){1&t&&(r.gc(0,"div",0),r.dd(1,Ba,1,8,"carousel",1),r.fc()),2&t&&(r.Mb(1),r.Bc("ngIf",e.contentBoxes))},directives:[s.o,Sa.a],styles:[".container{margin-bottom:16px}.carousel-content-box-container{position:relative}"],encapsulation:2}),t})();var Da=n("F1TA"),Aa=n("VoZv"),Ra=n("bhER"),Ha=n("QGxh");function ja(t,e){if(1&t&&r.bc(0,"carousel",2),2&t){const t=r.sc();r.Bc("productCards",t.productCards)("cellsToShow",t.dynamicItemsToShow)("height",t.dynamicHeight)("margin",60)("dots",t.productCards.length>1)("arrows",t.productCards.length>1)("arrowsOutside",!0)("concealingArrows",!0)}}let za=(()=>{class t{constructor(t,e,n,i,a){this.platformId=t,this.websiteService=e,this.shopifyService=n,this.internationalizationService=i,this.websiteURLService=a,this.productCards=[],this.products=[],this.dynamicItemsToShow=3,this.dynamicHeight=500,this.mobileHeight=500,this.isBrowser=Object(s.B)(this.platformId)}onResize(t){this.detectScreenSize()}ngOnInit(){var t;this.buildProductCardData(),(null===(t=this.data)||void 0===t?void 0:t.field_number_integer)&&(this.mobileHeight=this.data.field_number_integer,console.log("mobileHeight",this.mobileHeight)),this.detectScreenSize()}buildProductCardData(){var t,e,n,i,a,o;(null===(n=null===(e=null===(t=this.data)||void 0===t?void 0:t.children)||void 0===e?void 0:e.field_product_cards)||void 0===n?void 0:n.length)<=0?console.warn("No product card data set."):(this.productCards=null===(o=null===(a=null===(i=this.data)||void 0===i?void 0:i.children)||void 0===a?void 0:a.field_product_cards)||void 0===o?void 0:o.filter(t=>!1===t.field_hide).map(t=>{var e,n,i,a,o,c,r,s,l,d,p,g,u,f,h,m,b,_,y,v;let w="";(null===(n=null===(e=null==t?void 0:t.children)||void 0===e?void 0:e.field_product)||void 0===n?void 0:n.length)>0&&(w=t.children.field_product[0],this.products.push(w));let x="";(null==t?void 0:t.field_basic_boolean)&&(null==t?void 0:t.field_link)?x=null===(i=null==t?void 0:t.field_link)||void 0===i?void 0:i.url:(null==t?void 0:t.field_basic_boolean)&&(null===(c=null===(o=null===(a=null==t?void 0:t.children)||void 0===a?void 0:a.field_product[0])||void 0===o?void 0:o.children)||void 0===c?void 0:c.field_product_landing_page)&&(x=this.websiteURLService.getRegionalLink(null===(p=null===(d=null===(l=null===(s=null===(r=null==t?void 0:t.children)||void 0===r?void 0:r.field_product[0])||void 0===s?void 0:s.children)||void 0===l?void 0:l.field_product_landing_page)||void 0===d?void 0:d[0])||void 0===p?void 0:p.path));let M="",O="";(null===(f=null===(u=null===(g=null==t?void 0:t.children)||void 0===g?void 0:g.field_product[0])||void 0===u?void 0:u.children)||void 0===f?void 0:f.field_product_image)&&(M=t.children.field_product[0].children.field_product_image[0].image_url,(null===(m=null===(h=t.children.field_product[0].children.field_product_image[0])||void 0===h?void 0:h.meta)||void 0===m?void 0:m.alt)&&(O=t.children.field_product[0].children.field_product_image[0].meta.alt));let C=Da.b;return(null===(_=null===(b=null==t?void 0:t.children)||void 0===b?void 0:b.field_product)||void 0===_?void 0:_.field_currency)&&(C=Aa[null===(v=null===(y=null==t?void 0:t.children)||void 0===y?void 0:y.field_product)||void 0===v?void 0:v.field_currency]),{hasProductLoaded:!1,hasLearnMoreLink:t.field_basic_boolean,learnMoreLink:x,product:w,image:M,imageAlt:O,amount:"",currencySign:C,shippingNote:""}}),this.initShopify())}initShopify(){let t=this.shopifyService.getShopifyConfig();this.setShippingNotes(t),this.shopifyService.initializeShopping(this.products).subscribe(t=>{(null==t?void 0:t[0])?this.products=t:console.warn("Hiding store info content box product info because product didnt exist")},t=>{console.warn("Error initializing store, Hiding store info content box product info")},()=>{this.setProductCardAmount()})}setShippingNotes(t){this.shippingNotes=this.websiteService.isCanadianWebsite()||this.websiteService.isUSAWebsite()||this.websiteService.isMexicoWebsite()?"FREE Fast Delivery | Same Day Shipping":this.websiteService.isChineseWebsite()||this.websiteService.isRussianWebsite()?"":t.shippingDiscountNoticeText}setProductCardAmount(){this.productCards.forEach((t,e)=>{var n,i,a,o,c,r;t.shippingNote=this.shippingNotes,t.product=this.products[e],this.isBrowser&&(null==t?void 0:t.product)&&(t.amount=this.internationalizationService.formatCurrency(null===(i=null===(n=this.products[e])||void 0===n?void 0:n.productViewModel)||void 0===i?void 0:i.field_product_price,null===(o=null===(a=this.products[e])||void 0===a?void 0:a.productViewModel)||void 0===o?void 0:o.field_currency,t.currencySign+(null===(r=null===(c=this.products[e])||void 0===c?void 0:c.productViewModel)||void 0===r?void 0:r.field_product_price))),t.hasProductLoaded=!0})}detectScreenSize(){let t=window.innerWidth;t>=1336?(this.dynamicItemsToShow=3,this.dynamicHeight=500):t<=1336&&t>=600?(this.dynamicItemsToShow=2,this.dynamicHeight=500):(this.dynamicItemsToShow=1,this.dynamicHeight=this.mobileHeight)}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.J),r.ac(w.a),r.ac(Ra.a),r.ac(zi.a),r.ac(Ha.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-product-buy-cards"]],hostBindings:function(t,e){1&t&&r.oc("resize",function(t){return e.onResize(t)},!1,r.Rc)},decls:2,vars:1,consts:[[1,"product-buy-cards-container"],[3,"productCards","cellsToShow","height","margin","dots","arrows","arrowsOutside","concealingArrows",4,"ngIf"],[3,"productCards","cellsToShow","height","margin","dots","arrows","arrowsOutside","concealingArrows"]],template:function(t,e){1&t&&(r.gc(0,"div",0),r.dd(1,ja,1,8,"carousel",1),r.fc()),2&t&&(r.Mb(1),r.Bc("ngIf",e.productCards))},directives:[s.o,Sa.a],styles:[".product-buy-cards-container{position:relative}"],encapsulation:2}),t})();var Ka=n("FXfv"),Fa=n("z4bG"),Ua=n("iJ1y"),Ea=n("Ln8c"),Na=n("elcc"),Ya=n("uJV5"),Va=n("7U3Y"),Wa=n("K2ze");const $a=["mainRenderArea"];function Ja(t,e){if(1&t&&r.bc(0,"app-headless-sub-nav",12),2&t){const t=r.sc();r.Bc("subNav",t.subNav)("currentUrl",t.currentUrl)("isBuyPage",t.isBuyPage)}}function Qa(t,e){1&t&&r.bc(0,"app-iqair-page-loading")}function Xa(t,e){if(1&t&&(r.gc(0,"div",13),r.gc(1,"h1",14),r.fd(2),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(2),r.gd(t.pageTitle)}}function Ga(t,e){1&t&&r.bc(0,"div",17),2&t&&r.Bc("innerHTML",e.$implicit,r.Tc)}function Za(t,e){if(1&t&&(r.gc(0,"div",15),r.dd(1,Ga,1,1,"div",16),r.fc()),2&t){const t=r.sc();r.Mb(1),r.Bc("ngForOf",t.plainRenderViews)}}function to(t,e){if(1&t&&r.bc(0,"headless-cta-component",18),2&t){const t=r.sc();r.Bc("input",t.ctaContent)}}function eo(t,e){1&t&&r.bc(0,"app-not-found-page")}const no={"paragraph--animated_boxes_container":fa.a,"paragraph--teaser_content_container":ua.a,"paragraph--banner_headless":ha.a,"paragraph--show_hide_content":ma.a,"paragraph--paginated_slider":ba.a,"paragraph--product_image_slider":_a.a,"paragraph--fixed_bar":ya.a,"paragraph--content_box":va.a,"paragraph--vertical_tabs":wa.a,"paragraph--support_container":xa.a,"node--blog_article":da.a,"node--author":pa.a,"paragraph--page_message":ga.a,"paragraph--commercial_application_container":Ma.a,"paragraph--featured_news":Oa.a,"paragraph--location_v3":Ca.a,"paragraph--product_page_container":Pa.a,"paragraph--table_container":Ia.a,"paragraph--glossary_container":ka.a,"paragraph--webform":Ta.a,"node--iqair_comparison_table":La.a,"paragraph--carousel":qa,"paragraph--product_buy_cards":za,"paragraph--cards_container":Ka.a};let io=(()=>{class t{constructor(t,e,n,i,a,o,c,r,l,d){this.platformId=t,this.drupalJsonApi=e,this.fcaFormService=n,this.drupalMetaService=i,this.renderer=a,this.injector=o,this.viewContainer=c,this.router=r,this.util=l,this.subNavService=d,this.viewInit=!1,this.secondaryHeadingIsSet=!1,this.treeFetched=!1,this.isLoading=!0,this.pageNotFound=!1,this.currentUrl="",this.isBuyPage=!1,this.isBrowser=Object(s.B)(this.platformId)}ngOnChanges(t){t.drupalContent&&this.drupalContent&&(this.isLoading=!0,this.treeFetched=!0,this.viewInit&&this.renderFromTree(this.drupalContent))}removeContent(){if(!this.mainRenderArea)return;const t=this.mainRenderArea.nativeElement,e=t.children;for(let n of e)this.renderer.removeChild(t,n)}ngAfterViewInit(){this.viewInit=!0,this.treeFetched&&this.drupalContent&&setTimeout(()=>{this.renderFromTree(this.drupalContent)},0),this.isBrowser&&(this.clickListener=this.renderer.listen(this.mainRenderArea.nativeElement,"click",t=>{const e=t.target||t.srcElement||t.currentTarget;if(e&&e.hash&&e.hash.length>1){const n=e.hash.substring(1);t.preventDefault(),Object(Fa.a)(n)}}))}ngOnDestroy(){this.drupalMetaService.removeJsonLdScriptTag(),this.clickListener&&this.clickListener()}renderFromTree(t){var e,n;if(!t)return;this.drupalMetaService.refreshMetaLinks(t),"node--blog_article"==t.type?this.renderFromTree_blogArticleSpecific(t):this.renderFromTree_iqairPageSpecific(t),this.subNav=this.drupalJsonApi.getSubMenuFromTree(t);const i=null===(e=this.subNav)||void 0===e?void 0:e.title;this.subNavService.setSubNavTitle(i),this.isBuyPage=t.urlAlias&&"/buy"===t.urlAlias.substring(t.urlAlias.length-4),this.mainRenderArea.nativeElement.childElementCount>0&&this.removeContent(),this.drupalJsonApi.renderFromTree(t,this.renderer,this.mainRenderArea.nativeElement,no,this.injector,this.viewContainer),this.pageNotFound=!1,this.isLoading=!1,this.ctaContent=(null===(n=null==t?void 0:t.children)||void 0===n?void 0:n.field_cta)?t.children.field_cta[0]:null,this.plainRenderViews=t.views}renderFromTree_blogArticleSpecific(t){console.log("blog article tree",t),t.field_meta_tags_blog_article&&this.drupalMetaService.addMetaTagsFromHeadlessDrupal(t.field_meta_tags_blog_article),this.pageTitle="";let e={image:[]};const n=t.children;t.title&&"string"==typeof t.title&&(e.headline=t.title),n.field_articleimage&&e.image.push(n.field_articleimage[0].image_url),n.field_article_image_mobile&&e.image.push(n.field_article_image_mobile[0].image_url),e.created=t.created,e.changed=t.changed,e.type="Article",e.headline&&e.image.length>0&&this.drupalMetaService.addStructuredData(e),Object(s.B)(this.platformId)&&setTimeout(()=>{this.addAqlScripts(),this.fcaFormService.initialize()},20)}renderFromTree_iqairPageSpecific(t){var e,n,i,a,o,c,r;console.log("iqair page tree",t),t.field_meta_tags&&this.drupalMetaService.addMetaTagsFromHeadlessDrupal(t.field_meta_tags),this.pageTitle=t.title,((null===(n=null===(e=null==t?void 0:t.children)||void 0===e?void 0:e.field_products)||void 0===n?void 0:n.length)>0||(null===(r=null===(c=null===(o=null===(a=null===(i=null==t?void 0:t.children)||void 0===i?void 0:i.field_products_set)||void 0===a?void 0:a[0])||void 0===o?void 0:o.children)||void 0===c?void 0:c.field_products)||void 0===r?void 0:r.length)>0)&&this.drupalMetaService.getStructuredData(null==t?void 0:t.children),this.setPageHeadings(t.children.field_content_box_b),Object(s.B)(this.platformId)&&setTimeout(()=>{this.fcaFormService.initialize()},20)}setPageHeadings(t){t.forEach(t=>{var e,n,i,a,o,c;(!this.secondaryHeadingIsSet&&(null===(i=null===(n=null===(e=null==t?void 0:t.children)||void 0===e?void 0:e.field_content_box)||void 0===n?void 0:n[0])||void 0===i?void 0:i.field_heading_text)||(null===(c=null===(o=null===(a=null==t?void 0:t.children)||void 0===a?void 0:a.field_content_box)||void 0===o?void 0:o[0])||void 0===c?void 0:c.field_heading_text_w_html))&&(t.children.field_content_box[0].is_secondary_heading=!this.secondaryHeadingIsSet,this.secondaryHeadingIsSet=!0)})}addAqlScripts(){this.util.loadScript("assets/iqair/js/bootstrap.bundle.min.js",{replace:!0,async:!1,defer:!1,tag:"body"}),this.util.loadScript("assets/iqair/js/jquery-inputmask.min.js",{replace:!0,async:!1,defer:!1,tag:"body"}),this.util.loadScript("assets/iqair/js/blog-page.min.js",{replace:!0,tag:"body"}),this.util.loadScript("assets/iqair/js/air-visual-website-api.min.js",{replace:!0,tag:"body"})}handleRedirect(t){const e=this.drupalJsonApi.stripBaseHref(t),n=this.getUrlParamsString();this.router.navigateByUrl(e+n)}getUrlParamsString(){let t=this.router.url.split("?")[1];if(t)t="?"+t;else{let e=this.router.url.split("#")[1];t=e?"#"+e:""}return t}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.J),r.ac(x.a),r.ac(Ua.a),r.ac(Bi.a),r.ac(r.N),r.ac(r.w),r.ac(r.Z),r.ac(i.g),r.ac(ji.a),r.ac(Ea.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-headless-drupal"]],viewQuery:function(t,e){if(1&t&&r.md($a,1),2&t){let t;r.Nc(t=r.pc())&&(e.mainRenderArea=t.first)}},inputs:{drupalContent:"drupalContent"},features:[r.Kb],decls:17,vars:6,consts:[["rel","preload","href","/assets/css/iqair-override.css","as","style","onload","this.onload=null;this.rel='stylesheet'"],["rel","stylesheet","href","/assets/css/iqair-override.css"],["rel","preload","href","/assets/iqair/css/font-awesome.min.css","as","style","onload","this.onload=null;this.rel='stylesheet'"],["rel","stylesheet","href","/assets/iqair/css/font-awesome.min.css"],[3,"subNav","currentUrl","isBuyPage",4,"ngIf"],[1,"iqair-page","kat-hdp","drupal-component"],[4,"ngIf"],["class","container iqair-1920px-width-ctr",4,"ngIf"],[1,"main-render-area"],["mainRenderArea",""],["class","iqair-view",4,"ngIf"],[3,"input",4,"ngIf"],[3,"subNav","currentUrl","isBuyPage"],[1,"container","iqair-1920px-width-ctr"],[1,"page-title"],[1,"iqair-view"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"],[3,"input"]],template:function(t,e){1&t&&(r.bc(0,"link",0),r.gc(1,"noscript"),r.bc(2,"link",1),r.fc(),r.bc(3,"link",2),r.gc(4,"noscript"),r.bc(5,"link",3),r.fc(),r.bc(6,"app-country-location-redirect-banner"),r.dd(7,Ja,1,3,"app-headless-sub-nav",4),r.bc(8,"page-banner"),r.gc(9,"div",5),r.dd(10,Qa,1,0,"app-iqair-page-loading",6),r.dd(11,Xa,3,1,"div",7),r.bc(12,"div",8,9),r.dd(14,Za,2,1,"div",10),r.dd(15,to,1,1,"headless-cta-component",11),r.dd(16,eo,1,0,"app-not-found-page",6),r.fc()),2&t&&(r.Mb(7),r.Bc("ngIf",e.subNav),r.Mb(3),r.Bc("ngIf",e.isLoading),r.Mb(1),r.Bc("ngIf",!e.subNav),r.Mb(3),r.Bc("ngIf",e.plainRenderViews&&e.plainRenderViews.length>0),r.Mb(1),r.Bc("ngIf",e.ctaContent),r.Mb(1),r.Bc("ngIf",e.pageNotFound&&!e.isLoading))},directives:[Na.a,s.o,Ki.a,Ya.a,qi.a,s.n,Va.a,Wa.a],styles:[".page-title[_ngcontent-%COMP%]{font-size:32px;line-height:40px;margin-top:20px;margin-bottom:14px}.page-title[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#337ab7}"]}),t})();var ao=n("gyM/"),oo=n("73v9"),co=n("IzEk"),ro=n("UJbk"),so=n("ZFXu"),lo=n("oxHj"),po=n("Tz07"),go=n("H36N");function uo(t,e){if(1&t&&r.bc(0,"div"),2&t){const t=e.ngIf,n=r.sc();r.Rb("pollen-chart__graph_bar ",t," pollen-chart__graph_bar-",n.pollenIndexLevel,"")}}let fo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ub({type:t,selectors:[["app-pollen-chart"]],inputs:{pollenIndexLevel:"pollenIndexLevel"},decls:9,vars:6,consts:[[1,"pollen-chart"],[1,"pollen-chart__graph"],[1,"pollen-chart__graph_bg"],[3,"class",4,"ngIf"],[1,"pollen-chart_bar"],[1,"pollen-chart_text"]],template:function(t,e){1&t&&(r.gc(0,"div",0),r.gc(1,"div",1),r.bc(2,"div",2),r.dd(3,uo,1,4,"div",3),r.tc(4,"pollenLevelBgColor"),r.fc(),r.bc(5,"div",4),r.gc(6,"span",5),r.fd(7),r.tc(8,"pollenLevelLabel"),r.fc(),r.fc()),2&t&&(r.Mb(3),r.Bc("ngIf",r.uc(4,2,e.pollenIndexLevel)),r.Mb(4),r.gd(r.uc(8,4,e.pollenIndexLevel)))},directives:[s.o],pipes:[po.a,go.a],styles:[".pollen-chart[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}.pollen-chart__graph[_ngcontent-%COMP%]{width:36px;height:48px;position:relative}.pollen-chart__graph_bar[_ngcontent-%COMP%], .pollen-chart__graph_bg[_ngcontent-%COMP%]{position:absolute;border-radius:4px 4px 0 0}.pollen-chart__graph_bg[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(0,0,0,.04),rgba(0,0,0,0));border:dashed rgba(0,0,0,.08);border-width:1px 1px 0;inset:0;z-index:1}.pollen-chart__graph_bar[_ngcontent-%COMP%]{bottom:0;width:100%;z-index:2}.pollen-chart__graph_bar-1[_ngcontent-%COMP%]{height:calc(48px * .25)}.pollen-chart__graph_bar-2[_ngcontent-%COMP%]{height:calc(48px * .5)}.pollen-chart__graph_bar-3[_ngcontent-%COMP%]{height:calc(48px * .75)}.pollen-chart__graph_bar-4[_ngcontent-%COMP%]{height:48px}.pollen-chart_bar[_ngcontent-%COMP%]{width:110px;border:1px solid rgba(0,0,0,.08)}.pollen-chart_text[_ngcontent-%COMP%]{margin-top:2px;font-weight:400;font-size:12px;line-height:18px}"]}),t})();var ho=n("K9xh"),mo=n("FbiL"),bo=n("FHMm"),_o=n("LdOu"),yo=n("d3Oa");function vo(t,e){1&t&&(r.ec(0),r.gc(1,"app-loading",2),r.rc(),r.bc(2,"rect",3),r.bc(3,"rect",4),r.bc(4,"rect",5),r.fc(),r.dc()),2&t&&(r.Mb(1),r.ad("display","block"))}function wo(t,e){if(1&t&&(r.gc(0,"th",11),r.fd(1),r.fc()),2&t){const t=e.$implicit,n=r.sc(2);r.Mb(1),r.hd(" ",n.pollenTypeTrans[t]," ")}}function xo(t,e){if(1&t&&(r.gc(0,"td",14),r.bc(1,"app-pollen-chart",15),r.fc()),2&t){const t=e.$implicit,n=r.sc().$implicit;r.Mb(1),r.Bc("pollenIndexLevel",n[t])}}function Mo(t,e){1&t&&r.bc(0,"app-forecast-wind",20),2&t&&r.Bc("wind",e.ngIf)}function Oo(t,e){if(1&t&&r.bc(0,"app-forecast-weather",21),2&t){const t=e.ngIf;r.Bc("weatherIcon",t.icon)("probabilityOfRain",t.probabilityOfRain)}}function Co(t,e){1&t&&r.bc(0,"app-forecast-temperature",22),2&t&&r.Bc("temperature",e.ngIf)}function Po(t,e){if(1&t&&(r.gc(0,"tr"),r.tc(1,"isToday"),r.gc(2,"td"),r.fd(3),r.tc(4,"momentDate"),r.fc(),r.gc(5,"td",14),r.bc(6,"app-pollen-chart",15),r.fc(),r.dd(7,xo,2,1,"td",16),r.gc(8,"td"),r.dd(9,Mo,1,1,"app-forecast-wind",17),r.fc(),r.gc(10,"td"),r.dd(11,Oo,1,2,"app-forecast-weather",18),r.fc(),r.gc(12,"td"),r.dd(13,Co,1,1,"app-forecast-temperature",19),r.fc(),r.fc()),2&t){const t=e.$implicit,n=r.sc(2);r.Sb("is-today",r.vc(1,8,t.ts,n.timezone)),r.Mb(3),r.gd(r.xc(4,11,t.ts,"dddd, MMM D",n.timezone,!0)),r.Mb(3),r.Bc("pollenIndexLevel",null==t?null:t.globalIndexLevel),r.Mb(1),r.Bc("ngForOf",n.SUPPORTED_POLLEN_TYPES),r.Mb(2),r.Bc("ngIf",t.wind),r.Mb(2),r.Bc("ngIf",t.weather),r.Mb(2),r.Bc("ngIf",t.temperature)}}function Io(t,e){if(1&t&&(r.gc(0,"div",2),r.gc(1,"h3",6),r.fd(2),r.fc(),r.gc(3,"h2",7),r.fd(4),r.fc(),r.gc(5,"div",8),r.gc(6,"table",9),r.gc(7,"thead",10),r.gc(8,"th"),r.fd(9),r.fc(),r.gc(10,"th",11),r.fd(11),r.fc(),r.dd(12,wo,2,1,"th",12),r.gc(13,"th"),r.fd(14),r.fc(),r.gc(15,"th"),r.fd(16),r.fc(),r.gc(17,"th"),r.fd(18),r.fc(),r.fc(),r.gc(19,"tbody"),r.dd(20,Po,14,16,"tr",13),r.fc(),r.fc(),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(2),r.gd(t.trans.sectionTitle),r.Mb(2),r.gd(t.title),r.Mb(5),r.gd(t.dayTrans.day),r.Mb(2),r.gd(t.pollenTypeTrans.global),r.Mb(1),r.Bc("ngForOf",t.SUPPORTED_POLLEN_TYPES),r.Mb(2),r.gd(t.forecastTrans.tableHeader.wind),r.Mb(2),r.gd(t.forecastTrans.tableHeader.weather),r.Mb(2),r.gd(t.forecastTrans.tableHeader.temperature),r.Mb(2),r.Bc("ngForOf",t.pollenForecasts)}}let ko=(()=>{class t{constructor(){this.trans=h.a.pollen.forecast,this.forecastTrans=h.a.forecastComp,this.dayTrans=h.a.dateShortPipe,this.pollenTypeTrans=h.a.pollen.type,this.SUPPORTED_POLLEN_TYPES=lo.a,this.title=this.trans.title}ngOnChanges(t){var e;(null===(e=t.locationInfo)||void 0===e?void 0:e.currentValue)&&(this.title=this.title.replace("{cityName}",this.locationInfo.name))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ub({type:t,selectors:[["app-pollen-forecast"]],inputs:{pollenForecasts:"pollenForecasts",locationInfo:"locationInfo",timezone:"timezone"},features:[r.Kb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["pollenForecastTemplate",""],[1,"pollen-forecast"],["x","0","y","0","rx","1","ry","1","width","15%","height","9"],["x","0","y","13","rx","1","ry","1","width","30%","height","13"],["x","0","y","38","rx","1","ry","1","width","100%","height","149.26"],[1,"pollen-forecast_section-title"],[1,"pollen-forecast_title"],[1,"pollen-forecast__table__wrapper"],[1,"pollen-forecast__table"],[1,"pollen-forecast__table__header"],[1,"pollen-forecast__table__header_pollen"],["class","pollen-forecast__table__header_pollen",4,"ngFor","ngForOf"],[3,"is-today",4,"ngFor","ngForOf"],[1,"pollen-chart"],[3,"pollenIndexLevel"],["class","pollen-chart",4,"ngFor","ngForOf"],[3,"wind",4,"ngIf"],[3,"weatherIcon","probabilityOfRain",4,"ngIf"],[3,"temperature",4,"ngIf"],[3,"wind"],[3,"weatherIcon","probabilityOfRain"],[3,"temperature"]],template:function(t,e){if(1&t&&(r.dd(0,vo,5,2,"ng-container",0),r.dd(1,Io,21,9,"ng-template",null,1,r.ed)),2&t){const t=r.Oc(2);r.Bc("ngIf",!e.pollenForecasts)("ngIfElse",t)}},directives:[s.o,N.a,s.n,fo,ho.a,mo.a,bo.a],pipes:[_o.a,yo.a],styles:[".pollen-forecast[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);padding:16px;margin-bottom:16px}@media only screen and (min-width:960px){.pollen-forecast[_ngcontent-%COMP%]{padding:24px;margin-bottom:56px}}.pollen-forecast_section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.pollen-forecast_section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.pollen-forecast_title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:18px;line-height:1.44;color:#414141;font-weight:500}@media only screen and (max-width:959.9px){.pollen-forecast_title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53}}.pollen-forecast__table[_ngcontent-%COMP%]{margin-top:24px;border-collapse:collapse}.pollen-forecast__table__wrapper[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.pollen-forecast__table__header[_ngcontent-%COMP%]{height:34px;font-weight:400;font-size:12px;line-height:18px}.pollen-forecast__table__header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:8px 12px}.pollen-forecast__table__header_pollen[_ngcontent-%COMP%]{text-align:center!important}.pollen-forecast__table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{border-radius:4px;border:1px solid rgba(0,0,0,.08);font-weight:400;font-size:14px;line-height:20px;letter-spacing:-.12px}.pollen-forecast__table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:88px}.pollen-forecast__table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.is-today[_ngcontent-%COMP%]{background-color:#f3f7fb}.pollen-forecast__table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.is-today[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:2px solid #499fbc;font-weight:700}.pollen-forecast__table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 10px}.pollen-forecast__table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:100%;min-width:170px}.pollen-forecast__table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.pollen-chart[_ngcontent-%COMP%]{padding:0;width:110px}"]}),t})();var To=n("YZ8L"),Lo=n("h4PP");const So=function(){return{height:"320px",width:"100%",marginBottom:"-6px"}};function Bo(t,e){1&t&&(r.ec(0),r.gc(1,"app-loading",2),r.rc(),r.bc(2,"rect",3),r.fc(),r.dc()),2&t&&(r.Mb(1),r.Yc(r.Gc(4,So)),r.ad("display","block"))}function qo(t,e){if(1&t&&(r.gc(0,"span"),r.fd(1),r.tc(2,"pollutantName"),r.gc(3,"span",15),r.fd(4),r.tc(5,"pollutantUnit"),r.fc(),r.fc()),2&t){const t=e.ngIf;r.Mb(1),r.hd(" ",r.uc(2,2,t),"\xa0"),r.Mb(3),r.gd(r.uc(5,4,t))}}function Do(t,e){if(1&t&&(r.gc(0,"tr",12),r.gc(1,"td"),r.dd(2,qo,6,6,"span",13),r.fc(),r.gc(3,"td"),r.gc(4,"span",14),r.fd(5),r.tc(6,"aqiText"),r.fc(),r.fc(),r.gc(7,"td"),r.bc(8,"div"),r.tc(9,"aqiBgColorClass"),r.fc(),r.fc()),2&t){const t=e.$implicit;r.Mb(2),r.Bc("ngIf",t.pollutantName),r.Mb(3),r.gd(r.uc(6,5,t.aqi)),r.Mb(3),r.Qb("air-quality__content__table__dot ",r.uc(9,7,t.aqi),"")}}function Ao(t,e){if(1&t&&(r.gc(0,"div",4),r.gc(1,"div",5),r.gc(2,"h3",6),r.fd(3),r.fc(),r.gc(4,"h2",7),r.fd(5),r.fc(),r.fc(),r.gc(6,"div",8),r.gc(7,"table",9),r.gc(8,"tbody"),r.dd(9,Do,10,9,"tr",10),r.fc(),r.fc(),r.gc(10,"a",11),r.fd(11),r.fc(),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(3),r.hd(" ",t.aqTrans," "),r.Mb(2),r.gd(t.title),r.Mb(4),r.Bc("ngForOf",t.measurementPollutants),r.Mb(1),r.Bc("routerLink",t.airQualityUrl),r.Mb(1),r.gd(t.airQualityTrans.buttonText)}}let Ro=(()=>{class t{constructor(t){this.router=t,this.aqTrans=h.a.core.nav.airQuality,this.airQualityTrans=h.a.airQualityComp,this.title=this.airQualityTrans.title}ngOnChanges(t){var e;(null===(e=t.locationInfo)||void 0===e?void 0:e.currentValue)&&(this.updateTitle(),this.updateAirQualityUrl())}updateTitle(){this.title=this.title.replace(/{city}/gi,this.locationInfo.name)}updateAirQualityUrl(){this.airQualityUrl=["/",...this.router.url.split("/").slice(2)]}}return t.\u0275fac=function(e){return new(e||t)(r.ac(i.g))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-air-quality-card"]],inputs:{locationInfo:"locationInfo",measurementPollutants:"measurementPollutants"},features:[r.Kb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["airQualityTempl",""],["preserveAspectRatio","none",1,"air-quality"],["x","0","y","0","rx","1","ry","1","width","100%","height","100%"],[1,"air-quality"],[1,"air-quality__header"],[1,"air-quality__header_section-title"],[1,"air-quality__header_title"],[1,"air-quality__content"],[1,"air-quality__content__table"],["class","air-quality__content__table_row",4,"ngFor","ngForOf"],[1,"iqair-contained-button","air-quality__content__button",3,"routerLink"],[1,"air-quality__content__table_row"],[4,"ngIf"],[1,"air-quality__content__table__level"],[1,"air-quality__content__table__unit"]],template:function(t,e){if(1&t&&(r.dd(0,Bo,3,5,"ng-container",0),r.dd(1,Ao,12,5,"ng-template",null,1,r.ed)),2&t){const t=r.Oc(2);r.Bc("ngIf",!e.measurementPollutants)("ngIfElse",t)}},directives:[s.o,N.a,s.n,i.j],pipes:[W.a,vt.a,To.a,Lo.a],styles:[".air-quality[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);margin-bottom:16px}@media only screen and (min-width:960px){.air-quality[_ngcontent-%COMP%]{margin-bottom:24px}}.air-quality__header[_ngcontent-%COMP%]{padding:16px;background:#f3f7fb}@media only screen and (min-width:960px){.air-quality__header[_ngcontent-%COMP%]{padding:24px}}.air-quality__header_section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.air-quality__header_section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.air-quality__header_title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:18px;line-height:1.44;color:#414141;font-weight:500}@media only screen and (max-width:959.9px){.air-quality__header_title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53}}.air-quality__content[_ngcontent-%COMP%]{padding:16px}@media only screen and (min-width:960px){.air-quality__content[_ngcontent-%COMP%]{padding:24px}}.air-quality__content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .air-quality__content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .air-quality__content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-collapse:collapse}.air-quality__content__table[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden}.air-quality__content__table_row[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid rgba(0,0,0,.08)}.air-quality__content__table_row[_ngcontent-%COMP%]:last-child{border-bottom:none}.air-quality__content__table_row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:8px}.air-quality__content__table_row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:12px}.air-quality__content__table_row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:end;padding-right:12px}.air-quality__content__table__unit[_ngcontent-%COMP%]{color:#667085}.air-quality__content__table__level[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;text-align:end}@supports (-webkit-line-clamp:1){.air-quality__content__table__level[_ngcontent-%COMP%]{white-space:normal;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}}.air-quality__content__table__dot[_ngcontent-%COMP%]{min-width:8px;min-height:8px;max-width:8px;max-height:8px;border-radius:100%}.air-quality__content__button[_ngcontent-%COMP%]{width:100%;margin-top:24px}"]}),t})();function Ho(t,e){1&t&&r.cc(0)}function jo(t,e){if(1&t&&(r.ec(0),r.dd(1,Ho,1,0,"ng-container",3),r.dc()),2&t){r.sc();const t=r.Oc(3);r.Mb(1),r.Bc("ngTemplateOutlet",t)}}function zo(t,e){if(1&t&&r.bc(0,"app-analyse-block",16),2&t){const t=r.sc(2);r.Bc("name",null==t.locationInfo?null:t.locationInfo.name)("data",t.localAnalysis)("titleFormat","location")}}function Ko(t,e){if(1&t&&(r.gc(0,"div",4),r.gc(1,"div",5),r.gc(2,"div",6),r.gc(3,"div",7),r.bc(4,"app-breadcrumb",8),r.bc(5,"app-page-title",9),r.bc(6,"app-timestamp",10),r.fc(),r.fc(),r.fc(),r.bc(7,"app-pollen",11),r.bc(8,"app-pollen-forecast",12),r.bc(9,"app-air-quality-card",13),r.bc(10,"app-earth-link"),r.bc(11,"app-product-ads",14),r.dd(12,zo,1,3,"app-analyse-block",15),r.fc()),2&t){const t=r.sc();r.Mb(4),r.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),r.Mb(1),r.Bc("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.title))("pageTitleData",t.pageTitleData),r.Mb(1),r.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time)),r.Mb(1),r.Bc("locationInfo",t.locationInfo)("isPollenPage",!0)("currentPollen",t.currentPollen),r.Mb(1),r.Bc("pollenForecasts",t.pollenForecasts)("locationInfo",t.locationInfo)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz),r.Mb(1),r.Bc("locationInfo",t.locationInfo)("measurementPollutants",t.measurementPollutants),r.Mb(2),r.Bc("isLoading",!t.locationInfo)("locationInfo",t.locationInfo),r.Mb(1),r.Bc("ngIf",t.localAnalysis)}}function Fo(t,e){if(1&t&&r.bc(0,"app-analyse-block",16),2&t){const t=r.sc(2);r.Bc("name",null==t.locationInfo?null:t.locationInfo.name)("data",t.localAnalysis)("titleFormat","location")}}function Uo(t,e){if(1&t&&(r.gc(0,"div",17),r.gc(1,"div",6),r.gc(2,"div",7),r.bc(3,"app-breadcrumb",8),r.bc(4,"app-page-title",9),r.fc(),r.fc(),r.gc(5,"div",18),r.bc(6,"app-timestamp",10),r.fc(),r.fc(),r.gc(7,"div",19),r.gc(8,"div",20),r.bc(9,"app-pollen",11),r.bc(10,"app-air-quality-card",13),r.bc(11,"app-earth-link"),r.fc(),r.gc(12,"div",21),r.bc(13,"app-pollen-forecast",12),r.bc(14,"app-product-ads",14),r.dd(15,Fo,1,3,"app-analyse-block",15),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(3),r.Bc("isLoading",!t.locationInfo||!t.breadcrumbs)("locationInfo",t.locationInfo)("breadcrumbs",t.breadcrumbs),r.Mb(1),r.Bc("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.title))("pageTitleData",t.pageTitleData),r.Mb(2),r.Bc("timestamp",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.ts)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz)("checkLocalTime",!0)("isLoading",!(null!=t.pageTitleData&&t.pageTitleData.time)),r.Mb(3),r.Bc("locationInfo",t.locationInfo)("isPollenPage",!0)("currentPollen",t.currentPollen),r.Mb(1),r.Bc("locationInfo",t.locationInfo)("measurementPollutants",t.measurementPollutants),r.Mb(3),r.Bc("pollenForecasts",t.pollenForecasts)("locationInfo",t.locationInfo)("timezone",null==t.pageTitleData||null==t.pageTitleData.time?null:t.pageTitleData.time.tz),r.Mb(1),r.Bc("isLoading",!t.locationInfo)("locationInfo",t.locationInfo),r.Mb(1),r.Bc("ngIf",t.localAnalysis)}}let Eo=(()=>{class t{constructor(t,e,n,i,a){this.cityService=t,this.stationService=e,this.viewPort=n,this.seoService=i,this.analysisService=a,this.seoTrans=h.a.pollen.seo,this.isMobileScreen$=this.viewPort.isMobileScreen$,this.staticPollenBreadcrumb={label:"Pollen",url:"."},this.breadcrumbs=[]}ngOnChanges(t){var e,n;((null===(e=t.id)||void 0===e?void 0:e.currentValue)||(null===(n=t.type)||void 0===n?void 0:n.currentValue))&&this.getPollenData()}getPollenData(){"city-pollen"===this.type?this.getCityPollenData():this.getStationPollenData(),this.setAnalysis()}setAnalysis(){this.analysisService.getAnalysisData({placeType:this.type,placeId:this.id}).subscribe(t=>{this.localAnalysis=null==t?void 0:t.analysis})}getCityPollenData(){this.cityService.getCityById(this.id).pipe(Object(co.a)(1)).subscribe(t=>this.setPollenData(t))}getStationPollenData(){this.stationService.getStationById(this.id).pipe(Object(co.a)(1)).subscribe(t=>this.setPollenData(t))}setPollenData(t){this.currentPollen=t.current.pollen,this.measurementPollutants=[{aqi:t.current.aqi,pollutantName:"aqi"},...t.current.pollutants],this.setSeo(t),this.setPollenForecasts(t),this.setLocationInfo(t),this.setBreadcrumbs(t.breadcrumbs),this.setPageTitleData(t)}setSeo(t){var e;const{breadcrumbs:n,current:i}=t,a=("city-pollen"===this.type?n[n.length-1]:n[n.length-2]).label,o=n[1].label,c=this.seoTrans.title.replace(/{cityName}/gi,a),r=this.seoTrans.description.replace(/{cityName}/gi,a).replace("{stateName}",o).replace("{index}",null===(e=i.pollen)||void 0===e?void 0:e.globalIndexLevel);this.seoService.writeHeader(c,r,`/pollen${n[n.length-1].url}`)}setPollenForecasts(t){this.pollenForecasts=t.forecasts.daily.slice(0,3).map(t=>{const e=0===Object.keys(t.pollen||{}).length?ro.a:t.pollen,n={globalIndexLevel:null==e?void 0:e.globalIndexLevel,ts:t.ts,wind:t.wind,weather:{icon:t.icon,probabilityOfRain:t.probabilityOfRain},temperature:t.temperature};return e.pollens.forEach(t=>n[t.type]=t.level),n})}setBreadcrumbs(t){let e=[{label:"World",url:"/world-air-quality"},...t];"station-pollen"===this.type&&(e=e.slice(0,-1)),this.breadcrumbs=[...e,this.staticPollenBreadcrumb]}setPageTitleData(t){const{name:e,id:n}=t;this.pageTitleData={time:{ts:t.current.ts,tz:t.timezone},title:t.city||e,followAction:{id:n,type:this.type}}}setLocationInfo(t){const{id:e,name:n}=t;this.locationInfo={id:e,name:n,type:"city"}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(bn.a),r.ac(_n.a),r.ac(so.a),r.ac(p.a),r.ac(M.a))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-city-pollen"]],inputs:{id:"id",type:"type"},features:[r.Kb],decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],["mobileTemplate",""],["desktopTemplate",""],[4,"ngTemplateOutlet"],[1,"container"],[1,"mobile-header__block"],[1,"top-nav"],[1,"top-nav__info"],[3,"isLoading","locationInfo","breadcrumbs"],[3,"isLoading","pageTitleData"],[1,"page-title-timestamp",3,"timestamp","timezone","checkLocalTime","isLoading"],[3,"locationInfo","isPollenPage","currentPollen"],[3,"pollenForecasts","locationInfo","timezone"],[3,"locationInfo","measurementPollutants"],["pageType","city-pollen",3,"isLoading","locationInfo"],[3,"name","data","titleFormat",4,"ngIf"],[3,"name","data","titleFormat"],[1,"container","desktop-header__block"],[1,"bottom-content"],[1,"container","content__wrapper","no-border-bottom"],[1,"left-side"],[1,"right-side"]],template:function(t,e){if(1&t&&(r.dd(0,jo,2,1,"ng-container",0),r.tc(1,"async"),r.dd(2,Ko,13,20,"ng-template",null,1,r.ed),r.dd(4,Uo,16,20,"ng-template",null,2,r.ed)),2&t){const t=r.Oc(5);r.Bc("ngIf",r.uc(1,2,e.isMobileScreen$))("ngIfElse",t)}},directives:[s.o,s.t,S.a,B.a,q.a,qn.a,ko,Ro,H.a,K.a,Ht.a],pipes:[s.b],styles:[".container.content__wrapper.no-border-bottom[_ngcontent-%COMP%]{border-bottom:none}",".mobile-header__block[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:24px}.mobile-header__block__page-title[_ngcontent-%COMP%]{margin-bottom:24px}.mobile-header__content-wrapper[_ngcontent-%COMP%]{padding-bottom:32px;border-bottom:1px solid #e6e6e6}.mobile-header__daily-average[_ngcontent-%COMP%]{margin-bottom:16px}.desktop-header__block[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:24px}.desktop-header__block[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.desktop-header__block[_ngcontent-%COMP%]   .top-nav__info[_ngcontent-%COMP%]{-ms-flex:1;flex:1;margin-right:48px}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.desktop-header__block[_ngcontent-%COMP%]   .bottom-content__left[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;gap:4px}.content__wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:72px;border-bottom:1px solid #e6e6e6}.content__wrapper[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:364px;margin-right:24px}.content__wrapper[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{-ms-flex:1 0 auto;flex:1 0 auto;max-width:calc(100% - 388px)}"]}),t})();var No=n("l+hm");function Yo(t,e){1&t&&r.bc(0,"app-iqair-page-loading")}function Vo(t,e){1&t&&r.bc(0,"app-newsroom-page")}function Wo(t,e){if(1&t){const t=r.hc();r.gc(0,"app-drupal-page",3),r.oc("loaded",function(e){return r.Sc(t),r.sc(3).onNonHeadlessLoadCompleted(e)}),r.fc()}if(2&t){const t=r.sc(3);r.Bc("drupalContent",t.drupalContent)}}function $o(t,e){if(1&t&&r.bc(0,"app-headless-drupal",4),2&t){const t=r.sc(3);r.Bc("drupalContent",t.drupalContent)}}function Jo(t,e){if(1&t&&(r.ec(0),r.dd(1,Vo,1,0,"app-newsroom-page",0),r.dd(2,Wo,1,1,"app-drupal-page",1),r.dd(3,$o,1,1,"app-headless-drupal",2),r.dc()),2&t){const t=r.sc(2);r.Mb(1),r.Bc("ngIf",t.isNewsroom),r.Mb(1),r.Bc("ngIf",!t.isHeadlessDrupal&&!t.isNewsroom&&!t.isTagged),r.Mb(1),r.Bc("ngIf",t.isHeadlessDrupal&&!t.isNewsroom&&!t.isTagged)}}function Qo(t,e){if(1&t&&(r.ec(0),r.dd(1,Yo,1,0,"app-iqair-page-loading",0),r.dd(2,Jo,4,3,"ng-container",0),r.dc()),2&t){const t=r.sc();r.Mb(1),r.Bc("ngIf",t.isLoading),r.Mb(1),r.Bc("ngIf",!t.isRouting)}}function Xo(t,e){if(1&t){const t=r.hc();r.gc(0,"app-city",9),r.oc("loaded",function(e){return r.Sc(t),r.sc(2).onLocationLoaded(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("id",t.id)}}function Go(t,e){if(1&t){const t=r.hc();r.gc(0,"app-state",9),r.oc("loaded",function(e){return r.Sc(t),r.sc(2).onLocationLoaded(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("id",t.id)}}function Zo(t,e){if(1&t){const t=r.hc();r.gc(0,"app-country",9),r.oc("loaded",function(e){return r.Sc(t),r.sc(2).onLocationLoaded(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("id",t.id)}}function tc(t,e){if(1&t){const t=r.hc();r.gc(0,"app-station",9),r.oc("loaded",function(e){return r.Sc(t),r.sc(2).onLocationLoaded(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("id",t.id)}}function ec(t,e){if(1&t){const t=r.hc();r.gc(0,"app-city-map",9),r.oc("loaded",function(e){return r.Sc(t),r.sc(2).onLocationLoaded(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("id",t.id)}}function nc(t,e){if(1&t){const t=r.hc();r.gc(0,"app-city-pollen",10),r.oc("loaded",function(e){return r.Sc(t),r.sc(2).onLocationLoaded(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("type","city-pollen")("id",t.id)}}function ic(t,e){if(1&t){const t=r.hc();r.gc(0,"app-city-pollen",10),r.oc("loaded",function(e){return r.Sc(t),r.sc(2).onLocationLoaded(e)}),r.fc()}if(2&t){const t=r.sc(2);r.Bc("type","station-pollen")("id",t.id)}}function ac(t,e){1&t&&r.bc(0,"app-cta-download-app",11)}function oc(t,e){if(1&t&&(r.ec(0),r.gc(1,"div",5),r.ec(2,6),r.dd(3,Xo,1,1,"ng-template",7),r.dd(4,Go,1,1,"ng-template",7),r.dd(5,Zo,1,1,"ng-template",7),r.dd(6,tc,1,1,"ng-template",7),r.dd(7,ec,1,1,"ng-template",7),r.dd(8,nc,1,2,"ng-template",7),r.dd(9,ic,1,2,"ng-template",7),r.dc(),r.dd(10,ac,1,0,"app-cta-download-app",8),r.fc(),r.dc()),2&t){const t=r.sc();r.Mb(2),r.Bc("ngSwitch",t.type),r.Mb(1),r.Bc("ngSwitchCase","city"),r.Mb(1),r.Bc("ngSwitchCase","state"),r.Mb(1),r.Bc("ngSwitchCase","country"),r.Mb(1),r.Bc("ngSwitchCase","station"),r.Mb(1),r.Bc("ngSwitchCase","city-map"),r.Mb(1),r.Bc("ngSwitchCase","city-pollen"),r.Mb(1),r.Bc("ngSwitchCase","station-pollen"),r.Mb(1),r.Bc("ngIf",t.isLocationPageLoaded)}}function cc(t,e){1&t&&r.bc(0,"app-not-found-page")}const rc=Object(f.g)("DRUPAL_CONTENT_KEY"),sc=Object(f.g)("DRUPAL_HEADLESS_CONTENT_KEY"),lc=Object(f.g)("DRUPAL_REDIRECTED_URL_KEY"),dc=Object(f.g)("DRUPAL_ERROR_KEY"),pc=[{path:"",component:(()=>{class t{constructor(t,e,n,i,a,o,c,r,l,d,p){this.platformId=t,this.dom=e,this.BASE_HREF=n,this.router=i,this.injector=a,this.graphql=o,this.drupalJsonApi=c,this.transferState=r,this.resolverService=l,this.metaLinkServiceDrupal=d,this.location=p,this.whitelist=["purifiers","/node","/face-masks","/air-quality-monitors","/commercial/","/becomeadealer","/newsroom","/blog","/lp/","/media/","/careers","/support","/aboutus","/select-your-country","/legal"],this.isDrupal=!1,this.isHeadlessDrupal=!1,this.isTagged=!1,this.isNewsroom=!1,this.isLoading=!1,this.isRouting=!1,this.isNotFound=!1,this.redirectedUrl="",this.decodedRouterUrl="",this.isLocationPageLoaded=!1,this.isInsertedMeta=!1,this.isBrowser=Object(s.B)(this.platformId),this.isServer=Object(s.C)(this.platformId)}ngOnInit(){this.init()}init(){if(this.isBrowser&&this.router.url.indexOf("/earth?nav")>-1){const t=window.location.hostname,e="/"===this.BASE_HREF?"":this.BASE_HREF;window.location.href="localhost"===t?"cn"===e||"cn-en"===e?"https://www.iqair.cn"+e+"/earth?nav":ki.a+e+"/earth?nav":`//${window.location.hostname}${e}/earth?nav`}this.router.url.includes("%3F")&&(this.decodedRouterUrl=this.router.url,this.decodedRouterUrl=decodeURIComponent(this.decodedRouterUrl));let t="";t="/"===this.BASE_HREF?""+this.router.url:this.BASE_HREF+this.router.url;const e=this.location.path();if([...Ci.a.enHref,...Ci.a.otherHref].some(t=>e.startsWith("/"+t+"/")))this.showNotFound();else if(!this.checkNotFoundFromSSR())if(this.isNotFound=!1,this.router.url.match("newsroom[?&]tag="))this.graphql.getDrupalNewsroomBlogTags().subscribe(e=>{const n=this.extractNewsroomTag(t);this.checkIfNewsroomTagsAreValid(e,n)?(this.isNewsroom=!0,this.isDrupal=!0):this.showNotFound()});else if("/newsroom"==this.router.url||0===this.router.url.indexOf("/newsroom?"))this.isNewsroom=!0,this.isDrupal=!0;else{if(this.router.url.match(/\.env$/i))return this.showNotFound();if(this.isBrowser&&this.transferState.hasKey(lc)){const t=this.transferState.get(lc,null);return this.transferState.remove(lc),void this.handleRedirect(t)}if(this.isNonHeadlessPage())return this.isDrupal=!0,this.isHeadlessDrupal=!1,this.resolveDrupalPage();if(this.isWhitelistPage())return this.isDrupal=!0,this.isHeadlessDrupal=!0,this.resolveHeadlessDrupalPage();if(this.router.url.match(/\.(png|jpg|jpeg|gif|webp|svg|js|map)$/i))return this.showNotFound();this.resolveAirVisualPage()}}ngAfterViewInit(){this.isBrowser&&(""===window.location.hash?window.scrollTo(0,0):"#analysisContainer"===window.location.hash||"#forecast"===window.location.hash?setTimeout(()=>{this.scrollToView()},2e3):this.scrollToView())}ngOnDestroy(){this.isBrowser&&this.resolverSubscription&&this.resolverSubscription.unsubscribe()}checkNotFoundFromSSR(){let t=!1;if(this.isBrowser){const e=this.transferState.hasKey(dc);this.transferState.hasKey(rc)&&this.transferState.remove(rc),e&&(t=this.transferState.get(dc,!1),this.isNotFound=t,this.transferState.remove(dc))}return t}extractNewsroomTag(t){let e;const n=t.split("?")[1];return e=new URLSearchParams(n).get("tag"),e}checkIfNewsroomTagsAreValid(t,e){const n=t.map(t=>t.url),i=[];return n.forEach(t=>{if(-1===(t=decodeURIComponent(t)).search(/tag=/gi)){const e=t.split("/"),n=e.indexOf("tagged"),a=e[n+1];a&&i.push(a)}else{const e=this.drupalJsonApi.stripBaseHref(t).split("=");i.push(e[1])}}),i.includes(e)}scrollToView(){if(-1==window.location.hash.indexOf("=")){const t=document.querySelector(window.location.hash);if(t){const e=t.currentStyle||window.getComputedStyle(t),n=parseInt(e.paddingTop.replace("px","")),i=t.getBoundingClientRect().top-n-68;window.scrollTo({top:i})}}}isNonHeadlessPage(){let t=this.router.url;return t=t.substring(1),!Oi.headlessExceptions.includes(t)&&Oi.nonHeadlessUrls.some(e=>t.startsWith(e))}isWhitelistPage(){const t=this.router.url;return this.whitelist.some(e=>t.includes(e))}resolveHeadlessDrupalPage(){let t=this.router.url;if(t=t.split("?")[0],t=t.split("#")[0],this.isBrowser&&this.transferState.hasKey(sc)){const e=this.transferState.get(sc,null);if(this.transferState.remove(sc),e)return console.log("ssr found",t),this.isDrupal=!0,this.isHeadlessDrupal=!0,this.isRouting=!1,this.isLoading=!1,void(this.drupalContent=e)}this.drupalJsonApi.getStaticContentByPath(t).then(t=>t?this.isServer?(this.metaLinkServiceDrupal.refreshMetaLinks(t),void this.transferState.set(sc,t)):(this.isDrupal=!0,this.isHeadlessDrupal=!0,this.isRouting=!1,this.isLoading=!1,void(this.drupalContent=t)):this.showNotFound()).catch(t=>{if(t&&t.redirectTo)return this.isBrowser&&console.log("redirect",t),void this.handleRedirect(t.redirectTo);this.graphql.getDrupalPage(this.router.url).subscribe(t=>{t&&t.data&&t.data.route&&"RedirectUrl"===t.data.route.__typename&&this.handleRedirect(t.data.route.target.path)},t=>{console.error(t)},()=>this.resolveDrupalPage())})}handleRedirect(t){if(t.includes("%3F")&&(t=decodeURIComponent(t)),this.isBrowser)if(t.startsWith("http"))window.location.href=t;else{window.history.replaceState("","",t);const e=this.getUrlParamsString(),n=this.drupalJsonApi.stripBaseHref(t);this.router.navigateByUrl(n+e)}this.isServer&&this.transferState.set(lc,t)}resolveDrupalPage(){if(this.isDrupal=!0,this.transferState.hasKey(rc)){if(this.isBrowser&&this.transferState.hasKey(lc)){const t=this.transferState.get(lc,null);window.history.replaceState("","",t),this.transferState.remove(lc)}const t=this.transferState.get(rc,null);this.resolveDrupalData(t),this.transferState.remove(rc)}else this.requestDrupalPage()}resolveDrupalUrl(){let t=this.graphql.omitCountryHref(this.router.url);const e=this.graphql.getCountryLanuageNameFromUrl();return e&&"/"!==e&&(t=`${e}${t}`),t}getUrlParamsString(){let t=this.router.url.split("?")[1];if(t)t="?"+t;else{let e=this.router.url.split("#")[1];t=e?"#"+e:""}return t}requestDrupalPage(){this.isLoading=!0,this.isRouting=!0;let t=this.resolveDrupalUrl();const e=t.indexOf("accessories")>-1&&-1===t.indexOf("support"),n=t.indexOf("job-detail")>-1,i=t.indexOf("node")>-1,a=t.split("node/")[1];i&&a&&this.drupalJsonApi.getStaticContentByNodeId(a).then(t=>{var e;if(!t)return this.showNotFound();(null===(e=null==t?void 0:t.path)||void 0===e?void 0:e.alias)&&this.handleRedirect("/"===this.BASE_HREF?t.path.alias:this.BASE_HREF+t.path.alias)}).catch(t=>{if(t&&t.redirectTo)return this.isBrowser&&console.log("redirect",t),void this.handleRedirect(t.redirectTo)});const o=t.indexOf("?")>-1,c={};let r=[];o&&!n&&(r=t.split("?"),t=r[0],e&&r[1].split("&").forEach(t=>{const e=t.split("=");c[e[0]]=e[1]})),t=t.split("#")[0],this.graphql.getDrupalPage(t).subscribe(t=>{if(t.data.route||this.showNotFound(),t&&t.data&&t.data.route){if("DefaultInternalUrl"===t.data.route.__typename)return void this.showNotFound();if("RedirectUrl"===t.data.route.__typename)return void this.handleRedirect(t.data.route.target.path);if(!t.data.route.content||!t.data.route.content.entityTranslation||!t.data.route.content.entityTranslation.url.routed)return console.error("Unhandled drupal content type:"+t.data.route.__typename),void this.showNotFound()}this.resolveDrupalData(t,this.router.url)},t=>{console.error(t),this.showNotFound()})}resolveDrupalData(t,e=null){if(e&&this.addMetaTags(e,t),this.addDrupalPageNodeIdToBody(t),Object(s.C)(this.platformId)&&this.transferState.set(rc,t),Object(s.B)(this.platformId))try{let t=this.BASE_HREF.replace("/",""),e=Pi.a.find(e=>e.lang===t);e||(e=Pi.a.find(t=>"us"===t.lang)),sessionStorage.setItem("langObject",JSON.stringify(e))}catch(n){Ii.b("Lang code could not be processed"),Ii.a(n)}t.data.route?(this.drupalContent=t,this.isRouting=!1):this.showNotFound()}addMetaTags(t,e){this.isInsertedMeta||(this.isInsertedMeta=!0,this.metaLinkServiceDrupal.addMetaTagsFromDrupal(e))}addDrupalPageNodeIdToBody(t){t&&t.data&&t.data.route&&t.data.route.content&&t.data.route.content.entityTranslation&&(this.removePageNodeClass(),this.dom.body.className+=` page-node-${t.data.route.content.entityTranslation.nid}`)}removePageNodeClass(){this.dom.body.className=this.dom.body.className.replace(/page-node-\d+/,"")}resolveAirVisualPage(){this.resolverSubscription=this.resolverService.resolve(this.router.url).subscribe(t=>{this.id=t.id,this.type=t.type,"redirect"===t.type&&(this.isBrowser&&this.router.navigate(["/"+t.url],{replaceUrl:!0}),this.isServer)&&this.injector.get(Mi.b).redirect(301,`https://www.iqair.com${t.url}`)},t=>{this.isDrupal=!0,this.isLoading=!0,this.resolveHeadlessDrupalPage()})}showNotFound(){this.isDrupal=!1,this.isNotFound=!0,this.isLoading=!1,this.isServer&&this.transferState.set(dc,!0)}onLocationLoaded(t){this.isLocationPageLoaded=t}onNonHeadlessLoadCompleted(t){this.isLoading=!1}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.J),r.ac(s.d),r.ac(s.a),r.ac(i.g),r.ac(r.w),r.ac(Ti.a),r.ac(x.a),r.ac(f.f),r.ac(Si),r.ac(Bi.a),r.ac(s.j))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-routes-resolver"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"drupalContent","loaded",4,"ngIf"],[3,"drupalContent",4,"ngIf"],[3,"drupalContent","loaded"],[3,"drupalContent"],[1,"location"],[3,"ngSwitch"],[3,"ngSwitchCase"],["class","cta-download-app",4,"ngIf"],[3,"id","loaded"],[3,"type","id","loaded"],[1,"cta-download-app"]],template:function(t,e){1&t&&(r.dd(0,Qo,3,2,"ng-container",0),r.dd(1,oc,11,9,"ng-container",0),r.dd(2,cc,1,0,"app-not-found-page",0)),2&t&&(r.Bc("ngIf",e.isDrupal),r.Mb(1),r.Bc("ngIf",!e.isDrupal),r.Mb(1),r.Bc("ngIf",e.isNotFound))},directives:[s.o,qi.a,sa,la.a,io,s.q,s.r,ao.a,pn,de,di,oo.a,Eo,No.a,Wa.a],styles:[".cta-download-app[_ngcontent-%COMP%]{display:block;padding:64px 0}@media only screen and (max-width:959.9px){.cta-download-app[_ngcontent-%COMP%]{padding:48px 0}}.location[_ngcontent-%COMP%]{margin-top:-15px;padding-top:15px;background-color:#fcfcfc}"]}),t})(),pathMatch:"full"}];let gc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[i.k.forChild(pc)],i.k]}),t})();var uc=n("RNwc"),fc=n("Nat5"),hc=n("kJcZ"),mc=n("knnt"),bc=n("63q+"),_c=n("/m3/"),yc=n("IN9H"),vc=n("W9tm"),wc=n("rL4J"),xc=n("KOaI"),Mc=n("6lsu"),Oc=n("IgGT"),Cc=n("ODh3"),Pc=n("Hph+"),Ic=n("sEDt"),kc=n("TtZE"),Tc=n("WAp/"),Lc=n("cOMU"),Sc=n("gwCj"),Bc=n("Jo4j"),qc=n("V/66"),Dc=n("Ak+M"),Ac=n("crhD"),Rc=n("zSxR");let Hc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[g.a,i.k,Rc.a,xc.a]]}),t})(),jc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[g.a,Rc.a]]}),t})();var zc=n("1oHX"),Kc=n("m/XY"),Fc=n("BnM9");let Uc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({providers:[p.a],imports:[[hc.a,mc.a,bc.a,_c.a,yc.a,vc.a,wc.a,Ic.a,Pc.a,xc.a,Mc.a,Oc.a,Cc.a,o.NotFoundPageModule,g.a,fc.a,kc.a,Tc.a,Lc.a,Sc.a,Bc.a,qc.a,Dc.a,Ac.a,Hc,jc,zc.a,Kc.a,Fc.a]]}),t})();var Ec=n("cqX/"),Nc=n("s7LF"),Yc=n("Xm87");let Vc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[s.c,i.k,Ec.a,Nc.m,Nc.z,Fi.e,Ui.b,Kc.a,Yc.a]]}),t})();var Wc=n("d4CR"),$c=n("LDOu"),Jc=n("UOzL"),Qc=n("AwV4"),Xc=n("9bpR"),Gc=n("nrLR");let Zc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[g.a,Jc.a,Qc.a,Xc.a,Gc.a]]}),t})(),tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[g.a,i.k]]}),t})();const er=[{path:"",component:Eo}];let nr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[s.c,i.k.forChild(er),Te.a,qe.a,De.a,yi.a,tr,Me.a,Zc,Pe.a,Ie.a]]}),t})(),ir=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({providers:[p.a,{provide:l,useFactory:xi},d,Object(i.m)(wi)],imports:[[gc,g.a,u.CityModule,fn,He,vi,o.NotFoundPageModule,a.AccessDeniedPageModule,uc.a,Uc,Vc,hc.a,Wc.CtaDownloadAppModule,$c.a,nr]]}),t})()},nFua:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("SVse"),a=n("8Y7J");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[i.c]]}),t})()},nrLR:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fom2"),a=n("8Y7J");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[i.a]]}),t})()},oxHj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=["tree","grass","weed"]},p9fQ:function(t,e,n){t.exports=n.p+"historic-formatter-worker-es2015.6be4cb1fab2cdeca961b.worker.js"},"qP/k":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("hl0K"),a=n("8Y7J");let o=(()=>{class t{constructor(){this.trans=i.a.core,this.cityText=i.a.portal.core.city,this.stationText=i.a.portal.core.station,this.title=this.trans.dailyAverageTitle,this.description=this.trans.dailyAverageDescription}set type(t){this.description=this.description.replace(/{type}/gi,"city"===t?this.cityText:this.stationText)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ub({type:t,selectors:[["app-daily-average-data"]],inputs:{type:"type"},decls:5,vars:2,consts:[[1,"daily-average"],[1,"daily-average__title"],[1,"daily-average__description"]],template:function(t,e){1&t&&(a.gc(0,"div",0),a.gc(1,"span",1),a.fd(2),a.fc(),a.gc(3,"span",2),a.fd(4),a.fc(),a.fc()),2&t&&(a.Mb(2),a.hd(" ",e.title," "),a.Mb(2),a.hd(" ",e.description," "))},styles:[".daily-average[_ngcontent-%COMP%]{font-size:12px;line-height:21px;line-height:1.5}.daily-average__title[_ngcontent-%COMP%]{background-color:#7d90a8;color:#fff;border-radius:2px;margin-right:8px;-ms-flex-align:center;align-items:center;height:22px;font-weight:700;padding:4px}.daily-average__description[_ngcontent-%COMP%]{color:#516072}"]}),t})()},wFOR:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("SVse"),a=n("8Y7J"),o=n("hl0K"),c=n("BPAf"),r=n("d3Oa"),s=n("UNx2");function l(t,e){if(1&t&&(a.ec(0),a.fd(1),a.dc()),2&t){const t=a.sc(2);a.Mb(1),a.hd(" (",t.trans.timestamp,") ")}}function d(t,e){if(1&t&&(a.gc(0,"p",2),a.gc(1,"span",3),a.fd(2),a.fc(),a.gc(3,"span",4),a.fd(4),a.dd(5,l,2,1,"ng-container",1),a.fc(),a.fc()),2&t){const t=a.sc();a.Mb(2),a.gd(t.trans.timestampNoCurrentData),a.Mb(2),a.gd(t.lastUpdateText),a.Mb(1),a.Bc("ngIf",t.showLocalTime)}}const p=function(){return{height:"21px"}};function g(t,e){1&t&&(a.ec(0),a.gc(1,"app-loading",5),a.rc(),a.bc(2,"rect",6),a.fc(),a.dc()),2&t&&(a.Mb(1),a.Yc(a.Gc(2,p)))}let u=(()=>{class t{constructor(t,e,n){this.platformId=t,this.userPref=e,this.momentDatePipe=n,this.checkLocalTime=!1,this.type="station",this.trans=o.a.core,this.portalText=o.a.portal.core,this.lastUpdateText=this.trans.stopProvidingData,this.showLocalTime=!1}ngOnInit(){}ngOnChanges(t){if(t.lastUpdate||t.timezone){const t=this.momentDatePipe.transform(this.lastUpdate,"HH:mm, MMM D",this.timezone);this.lastUpdateText=`${this.trans.stopProvidingDataSince.replace(/{date}/,t).replace(/{type}/,"city"===this.type?this.portalText.city:this.portalText.station)}`,this.handleLocalTime()}}handleLocalTime(){this.showLocalTime=this.checkLocalTime&&this.userTimezone!==this.timezone}get userTimezone(){if(Object(i.B)(this.platformId))try{return this.userPref.timezone}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(a.ac(a.J),a.ac(c.b),a.ac(r.a))},t.\u0275cmp=a.Ub({type:t,selectors:[["app-timestamp-late"]],inputs:{lastUpdate:"lastUpdate",isLoading:"isLoading",timezone:"timezone",checkLocalTime:"checkLocalTime",type:"type"},features:[a.Kb],decls:2,vars:2,consts:[["class","timestamp__wrapper",4,"ngIf"],[4,"ngIf"],[1,"timestamp__wrapper"],[1,"tag"],[1,"info"],["height","21"],["x","0","y","0","rx","1","ry","1","width","270px","height","21"]],template:function(t,e){1&t&&(a.dd(0,d,6,3,"p",0),a.dd(1,g,3,3,"ng-container",1)),2&t&&(a.Bc("ngIf",!e.isLoading),a.Mb(1),a.Bc("ngIf",e.isLoading))},directives:[i.o,s.a],styles:[".timestamp__wrapper[_ngcontent-%COMP%]{color:#516072;font-size:12px;line-height:21px}.timestamp__wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center}.timestamp__wrapper[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#f84f56;line-height:1.5;letter-spacing:normal;height:18px}.timestamp__wrapper[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{height:22px;border-radius:2px;padding:2px 8px;font-weight:700;background-color:#f84f56;color:#fff;letter-spacing:.5px;margin-right:8px}@media only screen and (max-width:599.9px){.timestamp__wrapper[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:8px}}"]}),t})()}}]);