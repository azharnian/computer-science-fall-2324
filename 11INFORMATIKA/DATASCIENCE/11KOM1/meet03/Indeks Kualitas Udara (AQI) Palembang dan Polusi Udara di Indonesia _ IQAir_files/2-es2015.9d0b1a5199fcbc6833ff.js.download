!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="2cb130e7-4e42-4aa7-b583-8f048eb3e4fe",t._sentryDebugIdIdentifier="sentry-dbid-2cb130e7-4e42-4aa7-b583-8f048eb3e4fe")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"468e0ce18ce8eaa072d85361b0e2c2d814ed5dca"},(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3gaK":function(t,n,e){"use strict";e.d(n,"a",function(){return k});var o=e("mrSG"),i=e("8Y7J"),r=e("ShgS"),c=e("SVse"),a=e("x5Hl"),s=e("iInd");function l(t,n){if(1&t){const t=i.hc();i.gc(0,"app-buy-button",4),i.oc("quantityChange",function(n){return i.Sc(t),i.sc().updateQuantity(n)})("toggleAvailableProducts",function(){return i.Sc(t),i.sc().availableOptions()}),i.fc()}if(2&t){const t=i.sc();i.Bc("product",t.product)("isContentBoxStyle",t.isContentBoxStyle)("showQuantity",t.showQuantity)}}function u(t,n){1&t&&i.cc(0)}function d(t,n){if(1&t&&(i.ec(0),i.fd(1),i.dc()),2&t){const t=i.sc(3);i.Mb(1),i.hd(" ",t.textBlocksForPage[981]," ")}}function p(t,n){1&t&&i.fd(0,"Out of Stock")}function f(t,n){if(1&t&&(i.ec(0),i.fd(1),i.dc()),2&t){const t=i.sc(3);i.Mb(1),i.hd(" ",t.textBlocksForPage[1006]," ")}}function g(t,n){1&t&&i.fd(0,"Join the Waitlist")}function h(t,n){if(1&t){const t=i.hc();i.gc(0,"div",8),i.gc(1,"div",9),i.gc(2,"div",10),i.oc("click",function(){i.Sc(t);const n=i.sc(2);return n.joinWaitlist(n.product)}),i.gc(3,"span"),i.dd(4,d,2,1,"ng-container",11),i.dd(5,p,1,0,"ng-template",null,12,i.ed),i.fc(),i.fc(),i.gc(7,"div",13),i.oc("click",function(){i.Sc(t);const n=i.sc(2);return n.joinWaitlist(n.product)}),i.gc(8,"span"),i.dd(9,f,2,1,"ng-container",11),i.dd(10,g,1,0,"ng-template",null,14,i.ed),i.fc(),i.fc(),i.fc(),i.fc()}if(2&t){const t=i.Oc(6),n=i.Oc(11),e=i.sc(2);i.Mb(4),i.Bc("ngIf",e.textBlocksForPage[981])("ngIfElse",t),i.Mb(5),i.Bc("ngIf",e.textBlocksForPage[1006])("ngIfElse",n)}}function m(t,n){if(1&t&&(i.ec(0),i.fd(1),i.dc()),2&t){const t=i.sc(4);i.Mb(1),i.gd(t.textBlocksForPage[981])}}function b(t,n){if(1&t&&(i.gc(0,"div",18),i.dd(1,m,2,1,"ng-container",17),i.fc()),2&t){const t=i.sc(3);i.Mb(1),i.Bc("ngIf",t.textBlocksForPage[981])}}function y(t,n){if(1&t&&(i.ec(0),i.fd(1),i.dc()),2&t){const t=i.sc(3);i.Mb(1),i.gd(t.textBlocksForPage[1006])}}function x(t,n){if(1&t){const t=i.hc();i.dd(0,b,2,1,"div",15),i.gc(1,"button",16),i.oc("click",function(){return i.Sc(t),i.sc(2).joinWaitlist()}),i.dd(2,y,2,1,"ng-container",17),i.fc()}if(2&t){const t=i.sc(2);i.Bc("ngIf",!t.showQuantity),i.Mb(1),i.Sb("product-button",!t.showQuantity),i.Mb(1),i.Bc("ngIf",t.textBlocksForPage[1006])}}function w(t,n){if(1&t&&(i.gc(0,"div"),i.dd(1,u,1,0,"ng-container",5),i.dd(2,h,12,4,"ng-template",null,6,i.ed),i.dd(4,x,3,4,"ng-template",null,7,i.ed),i.fc()),2&t){const t=i.Oc(3),n=i.Oc(5),e=i.sc();i.Sb("ts-button-container",!e.showQuantity||!e.showFullWidth)("full-width-button-container",e.showQuantity&&e.showFullWidth)("content-box-style",e.isContentBoxStyle),i.Mb(1),i.Bc("ngTemplateOutlet",e.isLegacyButton?t:n)}}function C(t,n){if(1&t){const t=i.hc();i.gc(0,"div"),i.gc(1,"button",19),i.oc("click",function(){return i.Sc(t),i.sc().thirdPartyVendor()}),i.fd(2),i.fc(),i.fc()}if(2&t){const t=i.sc();i.Sb("ts-button-container",!t.showQuantity||!t.showFullWidth)("full-width-button-container",t.showQuantity)("content-box-style",t.isContentBoxStyle),i.Mb(1),i.Sb("product-button",!t.showQuantity),i.Mb(1),i.hd(" ",t.textBlocksForPage[686]," ")}}const M=function(){return["/commercial/request-a-bid"]};function _(t,n){if(1&t&&(i.gc(0,"div"),i.gc(1,"button",20),i.fd(2),i.fc(),i.fc()),2&t){const t=i.sc();i.Sb("ts-button-container",!t.showQuantity||!t.showFullWidth)("full-width-button-container",t.showQuantity&&t.showFullWidth),i.Mb(1),i.Sb("product-button",!t.showQuantity),i.Bc("routerLink",i.Gc(8,M)),i.Mb(1),i.hd(" ",t.textBlocksForPage[651]," ")}}function O(t,n){if(1&t&&(i.gc(0,"div"),i.gc(1,"a",21),i.fd(2),i.fc(),i.fc()),2&t){const t=i.sc();i.Sb("ts-button-container",!t.showQuantity||!t.showFullWidth)("full-width-button-container",t.showQuantity&&t.showFullWidth),i.Mb(1),i.Cc("href",t.product.forwardingLink,i.Vc),i.Mb(1),i.hd(" ",t.textBlocksForPage[686]," ")}}function v(t,n){if(1&t&&(i.gc(0,"div",22),i.gc(1,"a",23),i.fd(2),i.fc(),i.fc()),2&t){const t=i.sc();i.Sb("ts-button-container",!t.showQuantity||!t.showFullWidth)("full-width-button-container",t.showQuantity&&t.showFullWidth),i.Mb(1),i.Cc("href",t.product.field_cta_button_url,i.Vc),i.Mb(1),i.hd(" ",t.product.field_cta_button_text," ")}}var P=function(t){return t[t.None=0]="None",t[t.Buy=1]="Buy",t[t.Waitlist=2]="Waitlist",t[t.ThirdPartyVendor=3]="ThirdPartyVendor",t[t.RequestABid=4]="RequestABid",t[t.Link=5]="Link",t[t.CTA=6]="CTA",t}({});let k=(()=>{class t{constructor(t){this.jsonApiService=t,this.showQuantity=!0,this.isLegacyButton=!1,this.showFullWidth=!1,this.isContentBoxStyle=!1,this.showWaitlistModal=new i.r,this.showThirdPartyVendorModal=new i.r,this.showAvailableOptionsModal=new i.r,this.quantityChange=new i.r,this.ProductButtonState=P,this.textBlocksToFetch={686:"Buy Now",691:"$",981:"Out Of Stock",1006:"Join The Waitlist",1051:"Download Tech Specs",1061:"month",651:"Request a Bid"}}ngOnInit(){this.fetchDrupalBlocks(),this.textBlocksForPage={}}ngOnChanges(){this.currentButtonState=this.getCurrentButtonState(this.product)}getCurrentButtonState(t){return t.field_show_join_waitlist_link?P.Waitlist:t.field_request_a_bid?P.RequestABid:t.field_cta_button_text&&t.field_cta_button_url?P.CTA:t.field_show_third_party_vendor_link||t.field_show_third_party_vendors?P.ThirdPartyVendor:t.forwardingLink?P.Link:t&&null!=t.field_shopify_product_id?P.Buy:P.None}fetchDrupalBlocks(){return Object(o.a)(this,void 0,void 0,function*(){this.jsonApiService.getDrupalBlocks("text_block",this.textBlocksToFetch).then(t=>{for(const n in this.textBlocksToFetch)n&&(this.textBlocksForPage[n]=t[n]||this.textBlocksToFetch[n])})})}joinWaitlist(){this.showWaitlistModal.emit(!0)}thirdPartyVendor(){this.showThirdPartyVendorModal.emit(!0)}availableOptions(){this.showAvailableOptionsModal.emit(!0)}updateQuantity(t){this.quantityChange.emit(t)}}return t.\u0275fac=function(n){return new(n||t)(i.ac(r.a))},t.\u0275cmp=i.Ub({type:t,selectors:[["app-product-button"]],inputs:{product:"product",showQuantity:"showQuantity",isLegacyButton:"isLegacyButton",showFullWidth:"showFullWidth",isContentBoxStyle:"isContentBoxStyle"},outputs:{showWaitlistModal:"showWaitlistModal",showThirdPartyVendorModal:"showThirdPartyVendorModal",showAvailableOptionsModal:"showAvailableOptionsModal",quantityChange:"quantityChange"},features:[i.Kb],decls:6,vars:6,consts:[[3,"product","isContentBoxStyle","showQuantity","quantityChange","toggleAvailableProducts",4,"ngIf"],[3,"ts-button-container","full-width-button-container","content-box-style",4,"ngIf"],[3,"ts-button-container","full-width-button-container",4,"ngIf"],["class","cta-btn-ctr",3,"ts-button-container","full-width-button-container",4,"ngIf"],[3,"product","isContentBoxStyle","showQuantity","quantityChange","toggleAvailableProducts"],[4,"ngTemplateOutlet"],["hasLegacyButtons",""],["noLegacyButtons",""],[1,"product-waitlist","kat-waitlist"],[1,"legacy-buttons-container"],[1,"out-of-stock-button",3,"click"],[4,"ngIf","ngIfElse"],["oosFailedToLoad",""],[1,"join-waitlist-button",3,"click"],["jtwFailedToLoad",""],["class","out-of-stock-msg",4,"ngIf"],[1,"waitlist-button",3,"click"],[4,"ngIf"],[1,"out-of-stock-msg"],[1,"third-party-button",3,"click"],[1,"request-a-bid-button",3,"routerLink"],[1,"link-button","product-button",3,"href"],[1,"cta-btn-ctr"],[1,"link-button","product-button","cta-button",3,"href"]],template:function(t,n){1&t&&(i.dd(0,l,1,3,"app-buy-button",0),i.dd(1,w,6,7,"div",1),i.dd(2,C,3,9,"div",1),i.dd(3,_,3,9,"div",2),i.dd(4,O,3,6,"div",2),i.dd(5,v,3,6,"div",3)),2&t&&(i.Bc("ngIf",n.currentButtonState==n.ProductButtonState.Buy),i.Mb(1),i.Bc("ngIf",n.currentButtonState==n.ProductButtonState.Waitlist),i.Mb(1),i.Bc("ngIf",n.currentButtonState==n.ProductButtonState.ThirdPartyVendor),i.Mb(1),i.Bc("ngIf",n.currentButtonState==n.ProductButtonState.RequestABid),i.Mb(1),i.Bc("ngIf",n.currentButtonState==n.ProductButtonState.Link),i.Mb(1),i.Bc("ngIf",n.currentButtonState==n.ProductButtonState.CTA))},directives:[c.o,a.a,c.t,s.h],styles:[".full-width-button-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.full-width-button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .full-width-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;height:45px;cursor:pointer;border-radius:5px;color:#fff;font-weight:500;font-size:16px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;letter-spacing:1.6px;outline:none!important;border:none!important;margin-left:auto;width:100%}.full-width-button-container[_ngcontent-%COMP%]   .waitlist-button[_ngcontent-%COMP%]{background-color:#656565}.full-width-button-container[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%], .full-width-button-container[_ngcontent-%COMP%]   .request-a-bid-button[_ngcontent-%COMP%], .full-width-button-container[_ngcontent-%COMP%]   .third-party-button[_ngcontent-%COMP%]{background-color:#2cc186}.full-width-button-container.content-box-style[_ngcontent-%COMP%]   .product-waitlist[_ngcontent-%COMP%]{margin-top:0}.full-width-button-container.content-box-style[_ngcontent-%COMP%]   .product-waitlist[_ngcontent-%COMP%]   .legacy-buttons-container[_ngcontent-%COMP%]{-ms-flex-pack:left;justify-content:left}.full-width-button-container.content-box-style[_ngcontent-%COMP%]   .product-waitlist[_ngcontent-%COMP%]   .legacy-buttons-container[_ngcontent-%COMP%]   .out-of-stock-button[_ngcontent-%COMP%]{margin:.5em;line-height:2.2;font-weight:500;text-align:left;border:none;color:red;font-size:17px;width:auto}.full-width-button-container.content-box-style[_ngcontent-%COMP%]   .product-waitlist[_ngcontent-%COMP%]   .legacy-buttons-container[_ngcontent-%COMP%]   .join-waitlist-button[_ngcontent-%COMP%]{margin:.5em;background-color:#414141;padding:5px 15px;height:40px;cursor:pointer;border-radius:5px;color:#fff;font-size:16px;letter-spacing:1.6px;outline:none;border:none;overflow:hidden;font-weight:400;width:auto}.full-width-button-container.content-box-style[_ngcontent-%COMP%]   .third-party-button[_ngcontent-%COMP%]{width:auto;margin-left:0;margin-right:auto}.ts-button-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column}.ts-button-container[_ngcontent-%COMP%]   .out-of-stock-msg[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:14px}.ts-button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .ts-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;height:45px;cursor:pointer;border-radius:5px;color:#fff;font-weight:500;font-size:16px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;letter-spacing:1.6px;outline:none!important;border:none!important;margin-left:auto}.ts-button-container[_ngcontent-%COMP%]   a.product-button[_ngcontent-%COMP%], .ts-button-container[_ngcontent-%COMP%]   button.product-button[_ngcontent-%COMP%]{margin:0 auto;padding:0 15px;height:42px;cursor:pointer;border-radius:5px;color:#fff;font-weight:700;font-size:15px;letter-spacing:1.6px;outline:none!important;border:none!important;overflow:hidden}.ts-button-container[_ngcontent-%COMP%]   .waitlist-button[_ngcontent-%COMP%]{background-color:#656565}.ts-button-container[_ngcontent-%COMP%]   .product-waitlist[_ngcontent-%COMP%]{margin-top:10px;min-height:40px;width:100%}.ts-button-container[_ngcontent-%COMP%]   .product-waitlist[_ngcontent-%COMP%]   .legacy-buttons-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:stretch;align-items:stretch;-ms-flex-wrap:wrap;flex-wrap:wrap}.ts-button-container[_ngcontent-%COMP%]   .product-waitlist[_ngcontent-%COMP%]   .legacy-buttons-container[_ngcontent-%COMP%]   .out-of-stock-button[_ngcontent-%COMP%]{text-align:center;height:30px;line-height:28px;border:1px solid #585f66;color:#576066;cursor:pointer;font-weight:700;font-size:13px;width:46%}.ts-button-container[_ngcontent-%COMP%]   .product-waitlist[_ngcontent-%COMP%]   .legacy-buttons-container[_ngcontent-%COMP%]   .join-waitlist-button[_ngcontent-%COMP%]{text-align:center;height:30px;line-height:28px;background:#576066;color:#fff;cursor:pointer;font-weight:700;font-size:13px;width:46%}.ts-button-container[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%], .ts-button-container[_ngcontent-%COMP%]   .request-a-bid-button[_ngcontent-%COMP%], .ts-button-container[_ngcontent-%COMP%]   .third-party-button[_ngcontent-%COMP%]{background-color:#2cc186}@media (max-width:680px){.full-width-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:auto}}",'.product-buy-card-container[_ngcontent-%COMP%]{position:relative;padding:0 7%;background-color:#fff}.product-buy-card-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .product-buy-card-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .product-buy-card-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;margin:0 auto;color:#404040}.product-buy-card-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#696969}.product-buy-card-container[_ngcontent-%COMP%]   .aspect-ratio-box[_ngcontent-%COMP%]{margin:0 8%;position:relative}@media (max-width:600px){.product-buy-card-container[_ngcontent-%COMP%]   .aspect-ratio-box[_ngcontent-%COMP%]{margin:0}}.product-buy-card-container[_ngcontent-%COMP%]   .aspect-ratio-box.square[_ngcontent-%COMP%]{height:245px}.product-buy-card-container[_ngcontent-%COMP%]   .aspect-ratio-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%}.product-buy-card-container[_ngcontent-%COMP%]   .aspect-ratio-box[_ngcontent-%COMP%]   img.square[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover}.product-buy-card-container[_ngcontent-%COMP%]   .aspect-ratio-box[_ngcontent-%COMP%]:after{display:block;content:"";padding-bottom:56.25%}.product-buy-card-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2em;font-weight:600;line-height:1.2em;text-align:left;margin:5% auto;color:#404040}.product-buy-card-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1em 0 2.5em;font-size:16px;line-height:20px;text-align:left}.product-buy-card-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:40px}.product-buy-card-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #858585;border-radius:5px;padding:8px 30px;font-size:13px;font-weight:500}.product-buy-card-container[_ngcontent-%COMP%]   .product-information[_ngcontent-%COMP%]   .price-and-financing-label[_ngcontent-%COMP%]{margin-bottom:.5em;font-size:12.5px}.product-buy-card-container[_ngcontent-%COMP%]   .product-information[_ngcontent-%COMP%]   .price-and-financing-label[_ngcontent-%COMP%]   strong.amount[_ngcontent-%COMP%]{font-size:18px}.product-buy-card-container[_ngcontent-%COMP%]   .product-information[_ngcontent-%COMP%]   .delivery-and-shipping-label[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.8em;font-size:14px}.product-buy-card-container[_ngcontent-%COMP%]   .product-information[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:left;-ms-flex-align:stretch;align-items:stretch;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-bottom:1.8em}.product-buy-card-container[_ngcontent-%COMP%]   .product-information[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .blue-buy-button[_ngcontent-%COMP%]{margin-left:1.2em;margin-top:.5em;max-height:45px;max-width:100%;min-width:100px;cursor:pointer;border-radius:5px;color:#fff;font-size:16px;letter-spacing:1.6px;outline:none;border:none;overflow:hidden;height:40px;line-height:unset;font-weight:400;text-transform:capitalize}.product-buy-card-container[_ngcontent-%COMP%]   .product-information[_ngcontent-%COMP%]   .cta-btn-ctr[_ngcontent-%COMP%]{-ms-flex-flow:row;flex-flow:row;-ms-flex-pack:start;justify-content:flex-start}.product-buy-card-container[_ngcontent-%COMP%]   .product-information[_ngcontent-%COMP%]   .cta-btn-ctr[_ngcontent-%COMP%]   a.cta-button[_ngcontent-%COMP%]{margin:0}.content-box-style[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:left;-ms-flex-align:stretch;align-items:stretch;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-flow:row;flex-flow:row}.content-box-style[_ngcontent-%COMP%]   .out-of-stock-msg[_ngcontent-%COMP%]{margin:0 auto;padding:0 15px;cursor:pointer;font-weight:700;font-size:15px;letter-spacing:.5px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}']}),t})()},"4Tch":function(t,n,e){"use strict";e.d(n,"a",function(){return m});var o=e("8Y7J"),i=e("SVse"),r=e("s0lO"),c=e("sfMR"),a=e("iInd"),s=e("HS6x"),l=e("XkIO"),u=e("UNx2"),d=e("cR01");function p(t,n){if(1&t){const t=o.hc();o.gc(0,"div",3),o.oc("click",function(t){return t.stopPropagation()}),o.gc(1,"div",4),o.gc(2,"div",5),o.gc(3,"button",6),o.oc("click",function(){return o.Sc(t),o.sc().close.emit()}),o.gc(4,"span",7),o.fd(5,"\xd7"),o.fc(),o.gc(6,"span",8),o.fd(7,"Close"),o.fc(),o.fc(),o.gc(8,"div",9),o.gc(9,"h4",10),o.fd(10,"Join the Waitlist"),o.fc(),o.gc(11,"p",11),o.fd(12,"Subscribe to receive an email once it becomes available."),o.fc(),o.gc(13,"app-headless-webform",12),o.oc("onSubmit",function(){return o.Sc(t),o.sc().headlessFormSubmitted()}),o.fc(),o.fc(),o.gc(14,"div",13),o.gc(15,"h4",10),o.fd(16,"Thank You"),o.fc(),o.gc(17,"p",14),o.fd(18,"Your Notification has been registered."),o.fc(),o.gc(19,"p",15),o.fd(20),o.fc(),o.gc(21,"div",16),o.gc(22,"button",17),o.oc("click",function(){return o.Sc(t),o.sc().close.emit()}),o.fd(23,"Continue Shopping"),o.fc(),o.fc(),o.fc(),o.fc(),o.fc(),o.fc()}if(2&t){const t=o.sc();o.Mb(8),o.Bc("hidden",t.showHdThankyou),o.Mb(5),o.Bc("input",t.headlessWaitlistForm)("presetFormValues",t.presetFormValues),o.Mb(1),o.Bc("hidden",!t.showHdThankyou),o.Mb(6),o.hd(" ",t.productName," ")}}function f(t,n){1&t&&(o.gc(0,"div"),o.gc(1,"app-loading",32),o.rc(),o.bc(2,"rect",33),o.bc(3,"rect",34),o.fc(),o.fc()),2&t&&(o.Mb(1),o.Bc("height",23)("width",140)("primaryColor","#dddddd"))}function g(t,n){if(1&t&&(o.bc(0,"div",35),o.tc(1,"safe")),2&t){const t=o.sc(2);o.Bc("innerHTML",o.vc(1,1,t.formInnerHtml,"html"),o.Tc)}}function h(t,n){if(1&t){const t=o.hc();o.gc(0,"div",18),o.oc("click",function(t){return t.stopPropagation()}),o.gc(1,"div",19),o.gc(2,"div",20),o.gc(3,"button",6),o.oc("click",function(){return o.Sc(t),o.sc().close.emit()}),o.gc(4,"span",7),o.fd(5,"\xd7"),o.fc(),o.gc(6,"span",8),o.fd(7,"Close"),o.fc(),o.fc(),o.gc(8,"div",21),o.gc(9,"h4",10),o.fd(10,"Join the Waitlist"),o.fc(),o.gc(11,"p",11),o.fd(12,"Subscribe to receive an email once it becomes available."),o.fc(),o.gc(13,"div",22),o.gc(14,"div",23),o.gc(15,"div",24),o.gc(16,"div"),o.dd(17,f,4,3,"div",25),o.gc(18,"div",26),o.gc(19,"div",27),o.bc(20,"a",28),o.dd(21,g,2,4,"div",29),o.fc(),o.fc(),o.fc(),o.fc(),o.fc(),o.fc(),o.fc(),o.gc(22,"div",30),o.gc(23,"h4",10),o.fd(24,"Thank You"),o.fc(),o.gc(25,"p",14),o.fd(26,"Your Notification has been registered."),o.fc(),o.gc(27,"p",15),o.fd(28),o.fc(),o.gc(29,"div",31),o.gc(30,"button",17),o.oc("click",function(){return o.Sc(t),o.sc().close.emit()}),o.fd(31,"Continue Shopping"),o.fc(),o.fc(),o.fc(),o.fc(),o.fc(),o.fc()}if(2&t){const t=o.sc();o.Mb(17),o.Bc("ngIf",t.loading),o.Mb(4),o.Bc("ngIf",t.formInnerHtml),o.Mb(7),o.hd(" ",t.productName," ")}}let m=(()=>{class t{constructor(t,n,e,i,r,c){this.platformId=t,this.baseHref=n,this.DRUPAL_BASEURL=e,this.util=i,this.router=r,this.graphql=c,this.close=new o.r,this.loading=!0,this.isHeadlessForm=!1,this.showHdThankyou=!1}ngOnInit(){if(this.headlessWaitlistForm)this.isHeadlessForm=!0,this.presetFormValues={waitlist_item:this.product.title,region_code:this.baseHref.replace("/","")||"intl"},this.loading=!1;else if(Object(i.B)(this.platformId)){this.isHeadlessForm=!1;var t=this.router.url;"/testing-page"!=t&&"/headless-buy-page-test"!=t||(t="/personal-air-purifiers/atem-desk/buy"),this.pageUrlFormatted=("/"!==this.baseHref?this.baseHref:"")+t,this.getWaitlistForm()}}loadInitScript(){this.util.loadScript("assets/iqair/js/jquery-inputmask.min.js",{replace:!0,async:!1,defer:!1,tag:"body"})}headlessFormSubmitted(){!function(t){var n;if(t&&void 0!==window.dataLayer){const{field_currency:e,field_product_price:o,shopifyProduct:i,title:r}=t,c=null===(n=null==i?void 0:i.variants)||void 0===n?void 0:n[0];if(c){const{id:t,sku:n}=c;window.dataLayer.push({event:"ee_joinTheWaitlist",currency:e,product_brand:null==i?void 0:i.vendor,product_name:r,product_price:+o,product_sku:n,product_type:null==i?void 0:i.productType,quantity:1,totalValue:+o,variant_id:t})}}}(this.product),this.showHdThankyou=!0}onOverlayClick(){this.close.emit()}getWaitlistForm(){this.graphql.getDrupalPage(this.pageUrlFormatted).subscribe(t=>{if(t){const n=t.data.route.content.entityTranslation.rendered,e=(new DOMParser).parseFromString(n,"text/html").querySelector("form.webform-submission-form");if(e){e.action=this.DRUPAL_BASEURL+this.pageUrlFormatted;const t=e.querySelector("input[data-drupal-selector='edit-waitlist-item']");t&&(t.value=this.product.title),this.formInnerHtml=e.parentElement.innerHTML,this.loading=!1,this.loadInitScript()}else this.formInnerHtml='<div style="text-align: center;"><b>Waitlist for this item is currently not available</b></div>',this.loading=!1}},t=>{console.error("gql error",t)})}}return t.\u0275fac=function(n){return new(n||t)(o.ac(o.J),o.ac(i.a),o.ac(r.a),o.ac(c.a),o.ac(a.g),o.ac(s.a))},t.\u0275cmp=o.Ub({type:t,selectors:[["waitlist-modal-component"]],inputs:{product:"product",headlessWaitlistForm:"headlessWaitlistForm"},outputs:{close:"close"},decls:3,vars:2,consts:[[1,"waitlist-modal-component",3,"click"],["class","modal-headless-outer",3,"click",4,"ngIf"],["class","modal fade show","id","bronto-modal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLongTitle","aria-modal","true","style","padding-right: 17px; display: block;",3,"click",4,"ngIf"],[1,"modal-headless-outer",3,"click"],[1,"modal-headless"],[1,"modal-headless-inner"],["type","button","id","bronto-form-dismiss-icon","data-dismiss","modal",1,"close",2,"position","absolute","right","15px","top","10px","margin","10px",3,"click"],["aria-hidden","true"],[1,"sr-only"],[3,"hidden"],[2,"text-align","center","padding","20px 0 10px"],[2,"text-align","center","margin-bottom","20px"],[1,"modal-headless-webform",3,"input","presetFormValues","onSubmit"],[1,"modal-thank-you",3,"hidden"],[2,"text-align","center"],[1,"modal-product-name",2,"text-align","center","margin-bottom","20px","font-size","12px","font-weight","bold"],[2,"margin","0px 40px"],["type","button","data-dismiss","modal",1,"btn","btn-primary","btn-block",2,"display","block","margin","0 auto",3,"click"],["id","bronto-modal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLongTitle","aria-modal","true",1,"modal","fade","show",2,"padding-right","17px","display","block",3,"click"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-wrapper"],[1,"bronto-form"],[1,"bronto-custom"],[1,"bronto-fields"],[4,"ngIf"],[1,"field","field--name-field-waitlist-webform","field--type-webform","field--label-above"],[1,"field__item"],["id","webform-submission-bronto-join-waitlist-node-1721-form-ajax-content","tabindex","-1","aria-hidden","true"],["id","webform-outer","class","webform-ajax-form-wrapper","data-effect","fade","data-progress-type","throbber",3,"innerHTML",4,"ngIf"],[1,"modal-thank-you",2,"display","none"],[2,"margin","0px 80px 70px"],[3,"height","width","primaryColor"],["x","0","y","0","rx","1","ry","1","width","140","height","10"],["x","0","y","13","rx","1","ry","1","width","140","height","10"],["id","webform-outer","data-effect","fade","data-progress-type","throbber",1,"webform-ajax-form-wrapper",3,"innerHTML"]],template:function(t,n){1&t&&(o.gc(0,"div",0),o.oc("click",function(){return n.onOverlayClick()}),o.dd(1,p,24,5,"div",1),o.dd(2,h,32,3,"div",2),o.fc()),2&t&&(o.Mb(1),o.Bc("ngIf",n.isHeadlessForm),o.Mb(1),o.Bc("ngIf",!n.isHeadlessForm))},directives:[i.o,l.a,u.a],pipes:[d.a],styles:[".waitlist-modal-component{z-index:9998;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4)}.waitlist-modal-component .btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none}.waitlist-modal-component .btn-primary{color:#fff}.waitlist-modal-component .modal-dialog,.waitlist-modal-component .modal-headless-outer{top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);transition:.3s linear;margin:auto;position:absolute;width:100%;max-width:600px;background-color:#fff!important;background-color:#fff;background-clip:padding-box;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;outline:0;box-shadow:0 5px 15px rgba(0,0,0,.5)}.waitlist-modal-component .close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2;border:none;background-color:#fff!important}.waitlist-modal-component .close:focus,.waitlist-modal-component .close:hover{color:#000;text-decoration:none;cursor:pointer;filter:alpha(opacity=50);opacity:.5}.waitlist-modal-component .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.waitlist-modal-component .modal-headless{padding:15px 15px 40px;position:relative}.waitlist-modal-component .modal-headless button.button-submit{width:100%!important}@media (min-width:960px){.waitlist-modal-component .modal-headless .modal-headless-inner{margin:0 80px}}.waitlist-modal-component .bronto-form{min-height:96px;margin:0 80px 70px}.waitlist-modal-component .modal-dialog h4{color:#414141;font-style:normal;font-weight:700;font-size:18px;margin-top:10px;margin-bottom:10px}.waitlist-modal-component .modal-dialog p{color:#414141;line-height:28px}.waitlist-modal-component .modal-dialog .visually-hidden{visibility:hidden;position:absolute!important;clip:rect(1px,1px,1px,1px);overflow:hidden;height:1px;width:1px;word-wrap:normal}.waitlist-modal-component .modal-dialog .form-email,.waitlist-modal-component .modal-dialog .form-text{border:1px solid #d7d7d7;width:100%;padding:4px;font-size:14px;border-radius:0}.waitlist-modal-component .modal-dialog .form-item{margin-bottom:12px}.waitlist-modal-component .modal-dialog label{margin-bottom:4px;display:inline-block;padding:0;font-size:14px;color:#585f66}.waitlist-modal-component .modal-dialog .form-actions .button{display:block;text-transform:uppercase;font-weight:700;background:#5482ab;color:#fff;width:200px;border:none;margin:12px auto;padding:6px 0;font-size:14px;line-height:20px;font-family:inherit;cursor:pointer}.waitlist-modal-component .modal-dialog .form-actions#edit-actions{float:none!important}.waitlist-modal-component .modal-dialog .col-sm-6,.waitlist-modal-component .modal-dialog .col-sm-12{min-height:1px;padding-right:15px;margin-bottom:12px}@media (min-width:768px){.waitlist-modal-component .col-sm-6{width:50%;float:left}}@media (max-width:767px){.waitlist-modal-component .modal-dialog{box-shadow:0 3px 9px rgba(0,0,0,.5)}.waitlist-modal-component .bronto-form{margin:0 20px 15px}}"],encapsulation:2}),t})()},"4sH1":function(t,n,e){"use strict";function o(t){return null==t}e.r(n),e.d(n,"CORE_SCHEMA",function(){return Zt}),e.d(n,"DEFAULT_SCHEMA",function(){return tn}),e.d(n,"FAILSAFE_SCHEMA",function(){return Kt}),e.d(n,"JSON_SCHEMA",function(){return Xt}),e.d(n,"Schema",function(){return Gt}),e.d(n,"Type",function(){return Jt}),e.d(n,"YAMLException",function(){return rn}),e.d(n,"dump",function(){return on}),e.d(n,"load",function(){return nn}),e.d(n,"loadAll",function(){return en}),e.d(n,"safeDump",function(){return ln}),e.d(n,"safeLoad",function(){return an}),e.d(n,"safeLoadAll",function(){return sn}),e.d(n,"types",function(){return cn});var i={isNothing:o,isObject:function(t){return"object"==typeof t&&null!==t},toArray:function(t){return Array.isArray(t)?t:o(t)?[]:[t]},repeat:function(t,n){var e,o="";for(e=0;e<n;e+=1)o+=t;return o},isNegativeZero:function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},extend:function(t,n){var e,o,i,r;if(n)for(e=0,o=(r=Object.keys(n)).length;e<o;e+=1)t[i=r[e]]=n[i];return t}};function r(t,n){var e="",o=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(e+='in "'+t.mark.name+'" '),e+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!n&&t.mark.snippet&&(e+="\n\n"+t.mark.snippet),o+" "+e):o}function c(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=r(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(c.prototype=Object.create(Error.prototype)).constructor=c,c.prototype.toString=function(t){return this.name+": "+r(this,t)};var a=c;function s(t,n,e,o,i){var r="",c="",a=Math.floor(i/2)-1;return o-n>a&&(n=o-a+(r=" ... ").length),e-o>a&&(e=o+a-(c=" ...").length),{str:r+t.slice(n,e).replace(/\t/g,"\u2192")+c,pos:o-n+r.length}}function l(t,n){return i.repeat(" ",n-t.length)+t}var u=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],d=["scalar","sequence","mapping"],p=function(t,n){if(n=n||{},Object.keys(n).forEach(function(n){if(-1===u.indexOf(n))throw new a('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=n,this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(t){return t},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=function(t){var n={};return null!==t&&Object.keys(t).forEach(function(e){t[e].forEach(function(t){n[String(t)]=e})}),n}(n.styleAliases||null),-1===d.indexOf(this.kind))throw new a('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function f(t,n){var e=[];return t[n].forEach(function(t){var n=e.length;e.forEach(function(e,o){e.tag===t.tag&&e.kind===t.kind&&e.multi===t.multi&&(n=o)}),e[n]=t}),e}function g(t){return this.extend(t)}g.prototype.extend=function(t){var n=[],e=[];if(t instanceof p)e.push(t);else if(Array.isArray(t))e=e.concat(t);else{if(!t||!Array.isArray(t.implicit)&&!Array.isArray(t.explicit))throw new a("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(e=e.concat(t.explicit))}n.forEach(function(t){if(!(t instanceof p))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(t.loadKind&&"scalar"!==t.loadKind)throw new a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(t.multi)throw new a("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),e.forEach(function(t){if(!(t instanceof p))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(g.prototype);return o.implicit=(this.implicit||[]).concat(n),o.explicit=(this.explicit||[]).concat(e),o.compiledImplicit=f(o,"implicit"),o.compiledExplicit=f(o,"explicit"),o.compiledTypeMap=function(){var t,n,e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function o(t){t.multi?(e.multi[t.kind].push(t),e.multi.fallback.push(t)):e[t.kind][t.tag]=e.fallback[t.tag]=t}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(o);return e}(o.compiledImplicit,o.compiledExplicit),o};var h=g,m=new p("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),b=new p("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),y=new p("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}}),x=new h({explicit:[m,b,y]}),w=new p("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var n=t.length;return 1===n&&"~"===t||4===n&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),C=new p("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var n=t.length;return 4===n&&("true"===t||"True"===t||"TRUE"===t)||5===n&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function M(t){return 48<=t&&t<=55}function _(t){return 48<=t&&t<=57}var O=new p("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var n,e,o=t.length,i=0,r=!1;if(!o)return!1;if("-"!==(n=t[i])&&"+"!==n||(n=t[++i]),"0"===n){if(i+1===o)return!0;if("b"===(n=t[++i])){for(i++;i<o;i++)if("_"!==(n=t[i])){if("0"!==n&&"1"!==n)return!1;r=!0}return r&&"_"!==n}if("x"===n){for(i++;i<o;i++)if("_"!==(n=t[i])){if(!(48<=(e=t.charCodeAt(i))&&e<=57||65<=e&&e<=70||97<=e&&e<=102))return!1;r=!0}return r&&"_"!==n}if("o"===n){for(i++;i<o;i++)if("_"!==(n=t[i])){if(!M(t.charCodeAt(i)))return!1;r=!0}return r&&"_"!==n}}if("_"===n)return!1;for(;i<o;i++)if("_"!==(n=t[i])){if(!_(t.charCodeAt(i)))return!1;r=!0}return!(!r||"_"===n)},construct:function(t){var n,e=t,o=1;if(-1!==e.indexOf("_")&&(e=e.replace(/_/g,"")),"-"!==(n=e[0])&&"+"!==n||("-"===n&&(o=-1),n=(e=e.slice(1))[0]),"0"===e)return 0;if("0"===n){if("b"===e[1])return o*parseInt(e.slice(2),2);if("x"===e[1])return o*parseInt(e.slice(2),16);if("o"===e[1])return o*parseInt(e.slice(2),8)}return o*parseInt(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!i.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),v=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),P=/^[-+]?[0-9]+e/,k=new p("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!v.test(t)||"_"===t[t.length-1])},construct:function(t){var n,e;return e="-"===(n=t.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),".inf"===n?1===e?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===n?NaN:e*parseFloat(n,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||i.isNegativeZero(t))},represent:function(t,n){var e;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(t))return"-0.0";return e=t.toString(10),P.test(e)?e.replace("e",".e"):e},defaultStyle:"lowercase"}),S=x.extend({implicit:[w,C,O,k]}),A=S,I=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),B=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),q=new p("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==I.exec(t)||null!==B.exec(t))},construct:function(t){var n,e,o,i,r,c,a,s,l=0,u=null;if(null===(n=I.exec(t))&&(n=B.exec(t)),null===n)throw new Error("Date resolve error");if(e=+n[1],o=+n[2]-1,i=+n[3],!n[4])return new Date(Date.UTC(e,o,i));if(r=+n[4],c=+n[5],a=+n[6],n[7]){for(l=n[7].slice(0,3);l.length<3;)l+="0";l=+l}return n[9]&&(u=6e4*(60*+n[10]+ +(n[11]||0)),"-"===n[9]&&(u=-u)),s=new Date(Date.UTC(e,o,i,r,c,a,l)),u&&s.setTime(s.getTime()-u),s},instanceOf:Date,represent:function(t){return t.toISOString()}}),F=new p("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}}),T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",j=new p("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var n,e,o=0,i=t.length,r=T;for(e=0;e<i;e++)if(!((n=r.indexOf(t.charAt(e)))>64)){if(n<0)return!1;o+=6}return o%8==0},construct:function(t){var n,e,o=t.replace(/[\r\n=]/g,""),i=o.length,r=T,c=0,a=[];for(n=0;n<i;n++)n%4==0&&n&&(a.push(c>>16&255),a.push(c>>8&255),a.push(255&c)),c=c<<6|r.indexOf(o.charAt(n));return 0==(e=i%4*6)?(a.push(c>>16&255),a.push(c>>8&255),a.push(255&c)):18===e?(a.push(c>>10&255),a.push(c>>2&255)):12===e&&a.push(c>>4&255),new Uint8Array(a)},predicate:function(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)},represent:function(t){var n,e,o="",i=0,r=t.length,c=T;for(n=0;n<r;n++)n%3==0&&n&&(o+=c[i>>18&63],o+=c[i>>12&63],o+=c[i>>6&63],o+=c[63&i]),i=(i<<8)+t[n];return 0==(e=r%3)?(o+=c[i>>18&63],o+=c[i>>12&63],o+=c[i>>6&63],o+=c[63&i]):2===e?(o+=c[i>>10&63],o+=c[i>>4&63],o+=c[i<<2&63],o+=c[64]):1===e&&(o+=c[i>>2&63],o+=c[i<<4&63],o+=c[64],o+=c[64]),o}}),L=Object.prototype.hasOwnProperty,N=Object.prototype.toString,E=new p("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var n,e,o,i,r,c=[],a=t;for(n=0,e=a.length;n<e;n+=1){if(r=!1,"[object Object]"!==N.call(o=a[n]))return!1;for(i in o)if(L.call(o,i)){if(r)return!1;r=!0}if(!r)return!1;if(-1!==c.indexOf(i))return!1;c.push(i)}return!0},construct:function(t){return null!==t?t:[]}}),U=Object.prototype.toString,R=new p("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var n,e,o,i,r,c=t;for(r=new Array(c.length),n=0,e=c.length;n<e;n+=1){if("[object Object]"!==U.call(o=c[n]))return!1;if(1!==(i=Object.keys(o)).length)return!1;r[n]=[i[0],o[i[0]]]}return!0},construct:function(t){if(null===t)return[];var n,e,o,i,r,c=t;for(r=new Array(c.length),n=0,e=c.length;n<e;n+=1)o=c[n],i=Object.keys(o),r[n]=[i[0],o[i[0]]];return r}}),H=Object.prototype.hasOwnProperty,W=new p("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var n,e=t;for(n in e)if(H.call(e,n)&&null!==e[n])return!1;return!0},construct:function(t){return null!==t?t:{}}}),z=A.extend({implicit:[q,F],explicit:[j,E,R,W]}),Q=Object.prototype.hasOwnProperty,Y=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,V=/[\x85\u2028\u2029]/,D=/[,\[\]\{\}]/,$=/^(?:!|!!|![a-z\-]+!)$/i,J=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function G(t){return Object.prototype.toString.call(t)}function K(t){return 10===t||13===t}function X(t){return 9===t||32===t}function Z(t){return 9===t||32===t||10===t||13===t}function tt(t){return 44===t||91===t||93===t||123===t||125===t}function nt(t){var n;return 48<=t&&t<=57?t-48:97<=(n=32|t)&&n<=102?n-97+10:-1}function et(t){return 48===t?"\0":97===t?"\x07":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"\x1b":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"\x85":95===t?"\xa0":76===t?"\u2028":80===t?"\u2029":""}function ot(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var it=new Array(256),rt=new Array(256),ct=0;ct<256;ct++)it[ct]=et(ct)?1:0,rt[ct]=et(ct);function at(t,n){this.input=t,this.filename=n.filename||null,this.schema=n.schema||z,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function st(t,n){var e={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return e.snippet=function(t,n){if(n=Object.create(n||null),!t.buffer)return null;n.maxLength||(n.maxLength=79),"number"!=typeof n.indent&&(n.indent=1),"number"!=typeof n.linesBefore&&(n.linesBefore=3),"number"!=typeof n.linesAfter&&(n.linesAfter=2);for(var e,o=/\r?\n|\r|\0/g,r=[0],c=[],a=-1;e=o.exec(t.buffer);)c.push(e.index),r.push(e.index+e[0].length),t.position<=e.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var u,d,p="",f=Math.min(t.line+n.linesAfter,c.length).toString().length,g=n.maxLength-(n.indent+f+3);for(u=1;u<=n.linesBefore&&!(a-u<0);u++)d=s(t.buffer,r[a-u],c[a-u],t.position-(r[a]-r[a-u]),g),p=i.repeat(" ",n.indent)+l((t.line-u+1).toString(),f)+" | "+d.str+"\n"+p;for(d=s(t.buffer,r[a],c[a],t.position,g),p+=i.repeat(" ",n.indent)+l((t.line+1).toString(),f)+" | "+d.str+"\n",p+=i.repeat("-",n.indent+f+3+d.pos)+"^\n",u=1;u<=n.linesAfter&&!(a+u>=c.length);u++)d=s(t.buffer,r[a+u],c[a+u],t.position-(r[a]-r[a+u]),g),p+=i.repeat(" ",n.indent)+l((t.line+u+1).toString(),f)+" | "+d.str+"\n";return p.replace(/\n$/,"")}(e),new a(n,e)}function lt(t,n){throw st(t,n)}function ut(t,n){t.onWarning&&t.onWarning.call(null,st(t,n))}var dt={YAML:function(t,n,e){var o,i,r;null!==t.version&&lt(t,"duplication of %YAML directive"),1!==e.length&&lt(t,"YAML directive accepts exactly one argument"),null===(o=/^([0-9]+)\.([0-9]+)$/.exec(e[0]))&&lt(t,"ill-formed argument of the YAML directive"),i=parseInt(o[1],10),r=parseInt(o[2],10),1!==i&&lt(t,"unacceptable YAML version of the document"),t.version=e[0],t.checkLineBreaks=r<2,1!==r&&2!==r&&ut(t,"unsupported YAML version of the document")},TAG:function(t,n,e){var o,i;2!==e.length&&lt(t,"TAG directive accepts exactly two arguments"),i=e[1],$.test(o=e[0])||lt(t,"ill-formed tag handle (first argument) of the TAG directive"),Q.call(t.tagMap,o)&&lt(t,'there is a previously declared suffix for "'+o+'" tag handle'),J.test(i)||lt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(r){lt(t,"tag prefix is malformed: "+i)}t.tagMap[o]=i}};function pt(t,n,e,o){var i,r,c,a;if(n<e){if(a=t.input.slice(n,e),o)for(i=0,r=a.length;i<r;i+=1)9===(c=a.charCodeAt(i))||32<=c&&c<=1114111||lt(t,"expected valid JSON character");else Y.test(a)&&lt(t,"the stream contains non-printable characters");t.result+=a}}function ft(t,n,e,o){var r,c,a,s;for(i.isObject(e)||lt(t,"cannot merge mappings; the provided source object is unacceptable"),a=0,s=(r=Object.keys(e)).length;a<s;a+=1)Q.call(n,c=r[a])||(n[c]=e[c],o[c]=!0)}function gt(t,n,e,o,i,r,c,a,s){var l,u;if(Array.isArray(i))for(l=0,u=(i=Array.prototype.slice.call(i)).length;l<u;l+=1)Array.isArray(i[l])&&lt(t,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===G(i[l])&&(i[l]="[object Object]");if("object"==typeof i&&"[object Object]"===G(i)&&(i="[object Object]"),i=String(i),null===n&&(n={}),"tag:yaml.org,2002:merge"===o)if(Array.isArray(r))for(l=0,u=r.length;l<u;l+=1)ft(t,n,r[l],e);else ft(t,n,r,e);else t.json||Q.call(e,i)||!Q.call(n,i)||(t.line=c||t.line,t.lineStart=a||t.lineStart,t.position=s||t.position,lt(t,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(n,i,{configurable:!0,enumerable:!0,writable:!0,value:r}):n[i]=r,delete e[i];return n}function ht(t){var n;10===(n=t.input.charCodeAt(t.position))?t.position++:13===n?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):lt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function mt(t,n,e){for(var o=0,i=t.input.charCodeAt(t.position);0!==i;){for(;X(i);)9===i&&-1===t.firstTabInLine&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(n&&35===i)do{i=t.input.charCodeAt(++t.position)}while(10!==i&&13!==i&&0!==i);if(!K(i))break;for(ht(t),i=t.input.charCodeAt(t.position),o++,t.lineIndent=0;32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return-1!==e&&0!==o&&t.lineIndent<e&&ut(t,"deficient indentation"),o}function bt(t){var n,e=t.position;return!(45!==(n=t.input.charCodeAt(e))&&46!==n||n!==t.input.charCodeAt(e+1)||n!==t.input.charCodeAt(e+2)||0!==(n=t.input.charCodeAt(e+=3))&&!Z(n))}function yt(t,n){1===n?t.result+=" ":n>1&&(t.result+=i.repeat("\n",n-1))}function xt(t,n){var e,o,i=t.tag,r=t.anchor,c=[],a=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=c),o=t.input.charCodeAt(t.position);0!==o&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,lt(t,"tab characters must not be used in indentation")),45===o)&&Z(t.input.charCodeAt(t.position+1));)if(a=!0,t.position++,mt(t,!0,-1)&&t.lineIndent<=n)c.push(null),o=t.input.charCodeAt(t.position);else if(e=t.line,Mt(t,n,3,!1,!0),c.push(t.result),mt(t,!0,-1),o=t.input.charCodeAt(t.position),(t.line===e||t.lineIndent>n)&&0!==o)lt(t,"bad indentation of a sequence entry");else if(t.lineIndent<n)break;return!!a&&(t.tag=i,t.anchor=r,t.kind="sequence",t.result=c,!0)}function wt(t){var n,e,o,i,r=!1,c=!1;if(33!==(i=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&lt(t,"duplication of a tag property"),60===(i=t.input.charCodeAt(++t.position))?(r=!0,i=t.input.charCodeAt(++t.position)):33===i?(c=!0,e="!!",i=t.input.charCodeAt(++t.position)):e="!",n=t.position,r){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&62!==i);t.position<t.length?(o=t.input.slice(n,t.position),i=t.input.charCodeAt(++t.position)):lt(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!Z(i);)33===i&&(c?lt(t,"tag suffix cannot contain exclamation marks"):(e=t.input.slice(n-1,t.position+1),$.test(e)||lt(t,"named tag handle cannot contain such characters"),c=!0,n=t.position+1)),i=t.input.charCodeAt(++t.position);o=t.input.slice(n,t.position),D.test(o)&&lt(t,"tag suffix cannot contain flow indicator characters")}o&&!J.test(o)&&lt(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(a){lt(t,"tag name is malformed: "+o)}return r?t.tag=o:Q.call(t.tagMap,e)?t.tag=t.tagMap[e]+o:"!"===e?t.tag="!"+o:"!!"===e?t.tag="tag:yaml.org,2002:"+o:lt(t,'undeclared tag handle "'+e+'"'),!0}function Ct(t){var n,e;if(38!==(e=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&lt(t,"duplication of an anchor property"),e=t.input.charCodeAt(++t.position),n=t.position;0!==e&&!Z(e)&&!tt(e);)e=t.input.charCodeAt(++t.position);return t.position===n&&lt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(n,t.position),!0}function Mt(t,n,e,o,r){var c,a,s,l,u,d,p,f,g,h=1,m=!1,b=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,c=a=s=4===e||3===e,o&&mt(t,!0,-1)&&(m=!0,t.lineIndent>n?h=1:t.lineIndent===n?h=0:t.lineIndent<n&&(h=-1)),1===h)for(;wt(t)||Ct(t);)mt(t,!0,-1)?(m=!0,s=c,t.lineIndent>n?h=1:t.lineIndent===n?h=0:t.lineIndent<n&&(h=-1)):s=!1;if(s&&(s=m||r),1!==h&&4!==e||(f=1===e||2===e?n:n+1,g=t.position-t.lineStart,1===h?s&&(xt(t,g)||function(t,n,e){var o,i,r,c,a,s,l,u=t.tag,d=t.anchor,p={},f=Object.create(null),g=null,h=null,m=null,b=!1,y=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=p),l=t.input.charCodeAt(t.position);0!==l;){if(b||-1===t.firstTabInLine||(t.position=t.firstTabInLine,lt(t,"tab characters must not be used in indentation")),o=t.input.charCodeAt(t.position+1),r=t.line,63!==l&&58!==l||!Z(o)){if(c=t.line,a=t.lineStart,s=t.position,!Mt(t,e,2,!1,!0))break;if(t.line===r){for(l=t.input.charCodeAt(t.position);X(l);)l=t.input.charCodeAt(++t.position);if(58===l)Z(l=t.input.charCodeAt(++t.position))||lt(t,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(gt(t,p,f,g,h,null,c,a,s),g=h=m=null),y=!0,b=!1,i=!1,g=t.tag,h=t.result;else{if(!y)return t.tag=u,t.anchor=d,!0;lt(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return t.tag=u,t.anchor=d,!0;lt(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(b&&(gt(t,p,f,g,h,null,c,a,s),g=h=m=null),y=!0,b=!0,i=!0):b?(b=!1,i=!0):lt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,l=o;if((t.line===r||t.lineIndent>n)&&(b&&(c=t.line,a=t.lineStart,s=t.position),Mt(t,n,4,!0,i)&&(b?h=t.result:m=t.result),b||(gt(t,p,f,g,h,m,c,a,s),g=h=m=null),mt(t,!0,-1),l=t.input.charCodeAt(t.position)),(t.line===r||t.lineIndent>n)&&0!==l)lt(t,"bad indentation of a mapping entry");else if(t.lineIndent<n)break}return b&&gt(t,p,f,g,h,null,c,a,s),y&&(t.tag=u,t.anchor=d,t.kind="mapping",t.result=p),y}(t,g,f))||function(t,n){var e,o,i,r,c,a,s,l,u,d,p,f,g=!0,h=t.tag,m=t.anchor,b=Object.create(null);if(91===(f=t.input.charCodeAt(t.position)))c=93,l=!1,r=[];else{if(123!==f)return!1;c=125,l=!0,r={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=r),f=t.input.charCodeAt(++t.position);0!==f;){if(mt(t,!0,n),(f=t.input.charCodeAt(t.position))===c)return t.position++,t.tag=h,t.anchor=m,t.kind=l?"mapping":"sequence",t.result=r,!0;g?44===f&&lt(t,"expected the node content, but found ','"):lt(t,"missed comma between flow collection entries"),p=null,a=s=!1,63===f&&Z(t.input.charCodeAt(t.position+1))&&(a=s=!0,t.position++,mt(t,!0,n)),e=t.line,o=t.lineStart,i=t.position,Mt(t,n,1,!1,!0),d=t.tag,u=t.result,mt(t,!0,n),f=t.input.charCodeAt(t.position),!s&&t.line!==e||58!==f||(a=!0,f=t.input.charCodeAt(++t.position),mt(t,!0,n),Mt(t,n,1,!1,!0),p=t.result),l?gt(t,r,b,d,u,p,e,o,i):r.push(a?gt(t,null,b,d,u,p,e,o,i):u),mt(t,!0,n),44===(f=t.input.charCodeAt(t.position))?(g=!0,f=t.input.charCodeAt(++t.position)):g=!1}lt(t,"unexpected end of the stream within a flow collection")}(t,f)?b=!0:(a&&function(t,n){var e,o,r,c,a,s=1,l=!1,u=!1,d=n,p=0,f=!1;if(124===(c=t.input.charCodeAt(t.position)))o=!1;else{if(62!==c)return!1;o=!0}for(t.kind="scalar",t.result="";0!==c;)if(43===(c=t.input.charCodeAt(++t.position))||45===c)1===s?s=43===c?3:2:lt(t,"repeat of a chomping mode identifier");else{if(!((r=48<=(a=c)&&a<=57?a-48:-1)>=0))break;0===r?lt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?lt(t,"repeat of an indentation width identifier"):(d=n+r-1,u=!0)}if(X(c)){do{c=t.input.charCodeAt(++t.position)}while(X(c));if(35===c)do{c=t.input.charCodeAt(++t.position)}while(!K(c)&&0!==c)}for(;0!==c;){for(ht(t),t.lineIndent=0,c=t.input.charCodeAt(t.position);(!u||t.lineIndent<d)&&32===c;)t.lineIndent++,c=t.input.charCodeAt(++t.position);if(!u&&t.lineIndent>d&&(d=t.lineIndent),K(c))p++;else{if(t.lineIndent<d){3===s?t.result+=i.repeat("\n",l?1+p:p):1===s&&l&&(t.result+="\n");break}for(o?X(c)?(f=!0,t.result+=i.repeat("\n",l?1+p:p)):f?(f=!1,t.result+=i.repeat("\n",p+1)):0===p?l&&(t.result+=" "):t.result+=i.repeat("\n",p):t.result+=i.repeat("\n",l?1+p:p),l=!0,u=!0,p=0,e=t.position;!K(c)&&0!==c;)c=t.input.charCodeAt(++t.position);pt(t,e,t.position,!1)}}return!0}(t,f)||function(t,n){var e,o,i;if(39!==(e=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,o=i=t.position;0!==(e=t.input.charCodeAt(t.position));)if(39===e){if(pt(t,o,t.position,!0),39!==(e=t.input.charCodeAt(++t.position)))return!0;o=t.position,t.position++,i=t.position}else K(e)?(pt(t,o,i,!0),yt(t,mt(t,!1,n)),o=i=t.position):t.position===t.lineStart&&bt(t)?lt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);lt(t,"unexpected end of the stream within a single quoted scalar")}(t,f)||function(t,n){var e,o,i,r,c,a,s;if(34!==(a=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,e=o=t.position;0!==(a=t.input.charCodeAt(t.position));){if(34===a)return pt(t,e,t.position,!0),t.position++,!0;if(92===a){if(pt(t,e,t.position,!0),K(a=t.input.charCodeAt(++t.position)))mt(t,!1,n);else if(a<256&&it[a])t.result+=rt[a],t.position++;else if((c=120===(s=a)?2:117===s?4:85===s?8:0)>0){for(i=c,r=0;i>0;i--)(c=nt(a=t.input.charCodeAt(++t.position)))>=0?r=(r<<4)+c:lt(t,"expected hexadecimal character");t.result+=ot(r),t.position++}else lt(t,"unknown escape sequence");e=o=t.position}else K(a)?(pt(t,e,o,!0),yt(t,mt(t,!1,n)),e=o=t.position):t.position===t.lineStart&&bt(t)?lt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,o=t.position)}lt(t,"unexpected end of the stream within a double quoted scalar")}(t,f)?b=!0:function(t){var n,e,o;if(42!==(o=t.input.charCodeAt(t.position)))return!1;for(o=t.input.charCodeAt(++t.position),n=t.position;0!==o&&!Z(o)&&!tt(o);)o=t.input.charCodeAt(++t.position);return t.position===n&&lt(t,"name of an alias node must contain at least one character"),e=t.input.slice(n,t.position),Q.call(t.anchorMap,e)||lt(t,'unidentified alias "'+e+'"'),t.result=t.anchorMap[e],mt(t,!0,-1),!0}(t)?(b=!0,null===t.tag&&null===t.anchor||lt(t,"alias node should not have any properties")):function(t,n,e){var o,i,r,c,a,s,l,u,d=t.kind,p=t.result;if(Z(u=t.input.charCodeAt(t.position))||tt(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(Z(o=t.input.charCodeAt(t.position+1))||e&&tt(o)))return!1;for(t.kind="scalar",t.result="",i=r=t.position,c=!1;0!==u;){if(58===u){if(Z(o=t.input.charCodeAt(t.position+1))||e&&tt(o))break}else if(35===u){if(Z(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&bt(t)||e&&tt(u))break;if(K(u)){if(a=t.line,s=t.lineStart,l=t.lineIndent,mt(t,!1,-1),t.lineIndent>=n){c=!0,u=t.input.charCodeAt(t.position);continue}t.position=r,t.line=a,t.lineStart=s,t.lineIndent=l;break}}c&&(pt(t,i,r,!1),yt(t,t.line-a),i=r=t.position,c=!1),X(u)||(r=t.position+1),u=t.input.charCodeAt(++t.position)}return pt(t,i,r,!1),!!t.result||(t.kind=d,t.result=p,!1)}(t,f,1===e)&&(b=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===h&&(b=s&&xt(t,g))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&lt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),l=0,u=t.implicitTypes.length;l<u;l+=1)if((p=t.implicitTypes[l]).resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(Q.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,l=0,u=(d=t.typeMap.multi[t.kind||"fallback"]).length;l<u;l+=1)if(t.tag.slice(0,d[l].tag.length)===d[l].tag){p=d[l];break}p||lt(t,"unknown tag !<"+t.tag+">"),null!==t.result&&p.kind!==t.kind&&lt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):lt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||b}function _t(t){var n,e,o,i,r=t.position,c=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);0!==(i=t.input.charCodeAt(t.position))&&(mt(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==i));){for(c=!0,i=t.input.charCodeAt(++t.position),n=t.position;0!==i&&!Z(i);)i=t.input.charCodeAt(++t.position);for(o=[],(e=t.input.slice(n,t.position)).length<1&&lt(t,"directive name must not be less than one character in length");0!==i;){for(;X(i);)i=t.input.charCodeAt(++t.position);if(35===i){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&!K(i));break}if(K(i))break;for(n=t.position;0!==i&&!Z(i);)i=t.input.charCodeAt(++t.position);o.push(t.input.slice(n,t.position))}0!==i&&ht(t),Q.call(dt,e)?dt[e](t,e,o):ut(t,'unknown document directive "'+e+'"')}mt(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,mt(t,!0,-1)):c&&lt(t,"directives end mark is expected"),Mt(t,t.lineIndent-1,4,!1,!0),mt(t,!0,-1),t.checkLineBreaks&&V.test(t.input.slice(r,t.position))&&ut(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&bt(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,mt(t,!0,-1)):t.position<t.length-1&&lt(t,"end of the stream or a document separator is expected")}function Ot(t,n){n=n||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var e=new at(t,n),o=t.indexOf("\0");for(-1!==o&&(e.position=o,lt(e,"null byte is not allowed in input")),e.input+="\0";32===e.input.charCodeAt(e.position);)e.lineIndent+=1,e.position+=1;for(;e.position<e.length-1;)_t(e);return e.documents}var vt=Object.prototype.toString,Pt=Object.prototype.hasOwnProperty,kt={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},St=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],At=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function It(t){var n,e,o;if(n=t.toString(16).toUpperCase(),t<=255)e="x",o=2;else if(t<=65535)e="u",o=4;else{if(!(t<=4294967295))throw new a("code point within a string may not be greater than 0xFFFFFFFF");e="U",o=8}return"\\"+e+i.repeat("0",o-n.length)+n}function Bt(t){this.schema=t.schema||z,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=i.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,n){var e,o,i,r,c,a,s;if(null===n)return{};for(e={},i=0,r=(o=Object.keys(n)).length;i<r;i+=1)c=o[i],a=String(n[c]),"!!"===c.slice(0,2)&&(c="tag:yaml.org,2002:"+c.slice(2)),(s=t.compiledTypeMap.fallback[c])&&Pt.call(s.styleAliases,a)&&(a=s.styleAliases[a]),e[c]=a;return e}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType='"'===t.quotingType?2:1,this.forceQuotes=t.forceQuotes||!1,this.replacer="function"==typeof t.replacer?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function qt(t,n){for(var e,o=i.repeat(" ",n),r=0,c=-1,a="",s=t.length;r<s;)-1===(c=t.indexOf("\n",r))?(e=t.slice(r),r=s):(e=t.slice(r,c+1),r=c+1),e.length&&"\n"!==e&&(a+=o),a+=e;return a}function Ft(t,n){return"\n"+i.repeat(" ",t.indent*n)}function Tt(t){return 32===t||9===t}function jt(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function Lt(t){return jt(t)&&65279!==t&&13!==t&&10!==t}function Nt(t,n,e){var o=Lt(t),i=o&&!Tt(t);return(e?o:o&&44!==t&&91!==t&&93!==t&&123!==t&&125!==t)&&35!==t&&!(58===n&&!i)||Lt(n)&&!Tt(n)&&35===t||58===n&&i}function Et(t,n){var e,o=t.charCodeAt(n);return o>=55296&&o<=56319&&n+1<t.length&&(e=t.charCodeAt(n+1))>=56320&&e<=57343?1024*(o-55296)+e-56320+65536:o}function Ut(t){return/^\n* /.test(t)}function Rt(t,n,e,o,i){t.dump=function(){if(0===n.length)return 2===t.quotingType?'""':"''";if(!t.noCompatMode&&(-1!==St.indexOf(n)||At.test(n)))return 2===t.quotingType?'"'+n+'"':"'"+n+"'";var r=t.indent*Math.max(1,e),c=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-r);switch(function(n,e,o,i,r,c,a,s){var l,u,d=0,p=null,f=!1,g=!1,h=-1!==i,m=-1,b=jt(u=Et(n,0))&&65279!==u&&!Tt(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&function(t){return!Tt(t)&&58!==t}(Et(n,n.length-1));if(e||a)for(l=0;l<n.length;d>=65536?l+=2:l++){if(!jt(d=Et(n,l)))return 5;b=b&&Nt(d,p,s),p=d}else{for(l=0;l<n.length;d>=65536?l+=2:l++){if(10===(d=Et(n,l)))f=!0,h&&(g=g||l-m-1>i&&" "!==n[m+1],m=l);else if(!jt(d))return 5;b=b&&Nt(d,p,s),p=d}g=g||h&&l-m-1>i&&" "!==n[m+1]}return f||g?o>9&&Ut(n)?5:a?2===c?5:2:g?4:3:!b||a||function(n){return function(t,n){var e,o;for(e=0,o=t.implicitTypes.length;e<o;e+=1)if(t.implicitTypes[e].resolve(n))return!0;return!1}(t,n)}(n)?2===c?5:2:1}(n,o||t.flowLevel>-1&&e>=t.flowLevel,t.indent,c,0,t.quotingType,t.forceQuotes&&!o,i)){case 1:return n;case 2:return"'"+n.replace(/'/g,"''")+"'";case 3:return"|"+Ht(n,t.indent)+Wt(qt(n,r));case 4:return">"+Ht(n,t.indent)+Wt(qt(function(t,n){for(var e,o,i,r=/(\n+)([^\n]*)/g,c=(i=t.indexOf("\n"),r.lastIndex=i=-1!==i?i:t.length,zt(t.slice(0,i),n)),a="\n"===t[0]||" "===t[0];o=r.exec(t);){var s=o[2];e=" "===s[0],c+=o[1]+(a||e||""===s?"":"\n")+zt(s,n),a=e}return c}(n,c),r));case 5:return'"'+function(t){for(var n,e="",o=0,i=0;i<t.length;o>=65536?i+=2:i++)o=Et(t,i),!(n=kt[o])&&jt(o)?(e+=t[i],o>=65536&&(e+=t[i+1])):e+=n||It(o);return e}(n)+'"';default:throw new a("impossible error: invalid scalar style")}}()}function Ht(t,n){var e=Ut(t)?String(n):"",o="\n"===t[t.length-1];return e+(!o||"\n"!==t[t.length-2]&&"\n"!==t?o?"":"-":"+")+"\n"}function Wt(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function zt(t,n){if(""===t||" "===t[0])return t;for(var e,o,i=/ [^ ]/g,r=0,c=0,a=0,s="";e=i.exec(t);)(a=e.index)-r>n&&(s+="\n"+t.slice(r,o=c>r?c:a),r=o+1),c=a;return s+="\n",(s+=t.length-r>n&&c>r?t.slice(r,c)+"\n"+t.slice(c+1):t.slice(r)).slice(1)}function Qt(t,n,e){var o,i,r,c,s,l;for(r=0,c=(i=e?t.explicitTypes:t.implicitTypes).length;r<c;r+=1)if(((s=i[r]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof n&&n instanceof s.instanceOf)&&(!s.predicate||s.predicate(n))){if(t.tag=e?s.multi&&s.representName?s.representName(n):s.tag:"?",s.represent){if(l=t.styleMap[s.tag]||s.defaultStyle,"[object Function]"===vt.call(s.represent))o=s.represent(n,l);else{if(!Pt.call(s.represent,l))throw new a("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');o=s.represent[l](n,l)}t.dump=o}return!0}return!1}function Yt(t,n,e,o,i,r,c){t.tag=null,t.dump=e,Qt(t,e,!1)||Qt(t,e,!0);var s,l=vt.call(t.dump),u=o;o&&(o=t.flowLevel<0||t.flowLevel>n);var d,p,f="[object Object]"===l||"[object Array]"===l;if(f&&(p=-1!==(d=t.duplicates.indexOf(e))),(null!==t.tag&&"?"!==t.tag||p||2!==t.indent&&n>0)&&(i=!1),p&&t.usedDuplicates[d])t.dump="*ref_"+d;else{if(f&&p&&!t.usedDuplicates[d]&&(t.usedDuplicates[d]=!0),"[object Object]"===l)o&&0!==Object.keys(t.dump).length?(function(t,n,e,o){var i,r,c,s,l,u,d="",p=t.tag,f=Object.keys(e);if(!0===t.sortKeys)f.sort();else if("function"==typeof t.sortKeys)f.sort(t.sortKeys);else if(t.sortKeys)throw new a("sortKeys must be a boolean or a function");for(i=0,r=f.length;i<r;i+=1)u="",o&&""===d||(u+=Ft(t,n)),s=e[c=f[i]],t.replacer&&(s=t.replacer.call(e,c,s)),Yt(t,n+1,c,!0,!0,!0)&&((l=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&10===t.dump.charCodeAt(0)?u+="?":u+="? "),u+=t.dump,l&&(u+=Ft(t,n)),Yt(t,n+1,s,!0,l)&&(t.dump&&10===t.dump.charCodeAt(0)?u+=":":u+=": ",d+=u+=t.dump));t.tag=p,t.dump=d||"{}"}(t,n,t.dump,i),p&&(t.dump="&ref_"+d+t.dump)):(function(t,n,e){var o,i,r,c,a,s="",l=t.tag,u=Object.keys(e);for(o=0,i=u.length;o<i;o+=1)a="",""!==s&&(a+=", "),t.condenseFlow&&(a+='"'),c=e[r=u[o]],t.replacer&&(c=t.replacer.call(e,r,c)),Yt(t,n,r,!1,!1)&&(t.dump.length>1024&&(a+="? "),a+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Yt(t,n,c,!1,!1)&&(s+=a+=t.dump));t.tag=l,t.dump="{"+s+"}"}(t,n,t.dump),p&&(t.dump="&ref_"+d+" "+t.dump));else if("[object Array]"===l)o&&0!==t.dump.length?(function(t,n,e,o){var i,r,c,a="",s=t.tag;for(i=0,r=e.length;i<r;i+=1)c=e[i],t.replacer&&(c=t.replacer.call(e,String(i),c)),(Yt(t,n+1,c,!0,!0,!1,!0)||void 0===c&&Yt(t,n+1,null,!0,!0,!1,!0))&&(o&&""===a||(a+=Ft(t,n)),t.dump&&10===t.dump.charCodeAt(0)?a+="-":a+="- ",a+=t.dump);t.tag=s,t.dump=a||"[]"}(t,t.noArrayIndent&&!c&&n>0?n-1:n,t.dump,i),p&&(t.dump="&ref_"+d+t.dump)):(function(t,n,e){var o,i,r,c="",a=t.tag;for(o=0,i=e.length;o<i;o+=1)r=e[o],t.replacer&&(r=t.replacer.call(e,String(o),r)),(Yt(t,n,r,!1,!1)||void 0===r&&Yt(t,n,null,!1,!1))&&(""!==c&&(c+=","+(t.condenseFlow?"":" ")),c+=t.dump);t.tag=a,t.dump="["+c+"]"}(t,n,t.dump),p&&(t.dump="&ref_"+d+" "+t.dump));else{if("[object String]"!==l){if("[object Undefined]"===l)return!1;if(t.skipInvalid)return!1;throw new a("unacceptable kind of an object to dump "+l)}"?"!==t.tag&&Rt(t,t.dump,n,r,u)}null!==t.tag&&"?"!==t.tag&&(s=encodeURI("!"===t.tag[0]?t.tag.slice(1):t.tag).replace(/!/g,"%21"),s="!"===t.tag[0]?"!"+s:"tag:yaml.org,2002:"===s.slice(0,18)?"!!"+s.slice(18):"!<"+s+">",t.dump=s+" "+t.dump)}return!0}function Vt(t,n){var e,o,i=[],r=[];for(Dt(t,i,r),e=0,o=r.length;e<o;e+=1)n.duplicates.push(i[r[e]]);n.usedDuplicates=new Array(o)}function Dt(t,n,e){var o,i,r;if(null!==t&&"object"==typeof t)if(-1!==(i=n.indexOf(t)))-1===e.indexOf(i)&&e.push(i);else if(n.push(t),Array.isArray(t))for(i=0,r=t.length;i<r;i+=1)Dt(t[i],n,e);else for(i=0,r=(o=Object.keys(t)).length;i<r;i+=1)Dt(t[o[i]],n,e)}function $t(t,n){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Jt=p,Gt=h,Kt=x,Xt=S,Zt=A,tn=z,nn=function(t,n){var e=Ot(t,n);if(0!==e.length){if(1===e.length)return e[0];throw new a("expected a single document in the stream, but found more")}},en=function(t,n,e){null!==n&&"object"==typeof n&&void 0===e&&(e=n,n=null);var o=Ot(t,e);if("function"!=typeof n)return o;for(var i=0,r=o.length;i<r;i+=1)n(o[i])},on=function(t,n){var e=new Bt(n=n||{});e.noRefs||Vt(t,e);var o=t;return e.replacer&&(o=e.replacer.call({"":o},"",o)),Yt(e,0,o,!0,!0)?e.dump+"\n":""},rn=a,cn={binary:j,float:k,map:y,null:w,pairs:R,set:W,timestamp:q,bool:C,int:O,merge:F,omap:E,seq:b,str:m},an=$t("safeLoad","load"),sn=$t("safeLoadAll","loadAll"),ln=$t("safeDump","dump");n.default={Type:Jt,Schema:Gt,FAILSAFE_SCHEMA:Kt,JSON_SCHEMA:Xt,CORE_SCHEMA:Zt,DEFAULT_SCHEMA:tn,load:nn,loadAll:en,dump:on,YAMLException:rn,types:cn,safeLoad:an,safeLoadAll:sn,safeDump:ln}},"Ak+M":function(t,n,e){"use strict";e.d(n,"a",function(){return l});var o=e("fom2"),i=e("o4Yh"),r=e("iInd"),c=e("SVse"),a=e("s7LF"),s=e("8Y7J");let l=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.Yb({type:t}),t.\u0275inj=s.Xb({imports:[[r.k,c.c,i.b,a.m,a.z,o.a]]}),t})()},QSAz:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var o=e("8Y7J"),i=e("SVse"),r=e("cUpR");let c=(()=>{class t{constructor(t,n){this.platformId=t,this.sanitizer=n,this.close=new o.r}ngOnInit(){this.unformattedUri&&!this.formattedUrl&&(this.formattedUrl=this.formatExternalVidUri(this.unformattedUri))}formatExternalVidUri(t){return t.includes("polyv.net")?t=t.replace("https://v.polyv.net/uc/video/iframeview","https://cms.iqair.com/cn/polyvvideo"):t.includes("youtube.com")&&Object(i.B)(this.platformId)&&window&&(t.includes("?")?t+="&":t+="?",window.innerWidth<960?t+="mute=1":t+="autoplay=1&mute=1"),this.sanitizer.bypassSecurityTrustResourceUrl(t)}}return t.\u0275fac=function(n){return new(n||t)(o.ac(o.J),o.ac(r.c))},t.\u0275cmp=o.Ub({type:t,selectors:[["external-video-component"]],inputs:{formattedUrl:"formattedUrl",unformattedUri:"unformattedUri"},outputs:{close:"close"},decls:3,vars:1,consts:[[1,"external-content-overlay",3,"click"],[1,"external-video"],["scrolling","no","frameborder","0","allowfullscreen","",3,"src"]],template:function(t,n){1&t&&(o.gc(0,"div",0),o.oc("click",function(){return n.close.emit()}),o.gc(1,"div",1),o.bc(2,"iframe",2),o.fc(),o.fc()),2&t&&(o.Mb(2),o.Bc("src",n.formattedUrl,o.Uc))},styles:[".external-content-overlay[_ngcontent-%COMP%]{z-index:10000;position:fixed;top:0;left:0;width:100%;height:100%;background-color:hsla(0,0%,100%,.85)}.external-content-overlay[_ngcontent-%COMP%] > .external-video[_ngcontent-%COMP%]{top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);transition:.3s linear;margin:auto;position:fixed;width:100%;padding-top:56.25%}@media only screen and (min-width:960px){.external-content-overlay[_ngcontent-%COMP%] > .external-video[_ngcontent-%COMP%]{width:90%;left:5%;padding-top:50.625%}}@media only screen and (min-width:1140px){.external-content-overlay[_ngcontent-%COMP%] > .external-video[_ngcontent-%COMP%]{width:70%;left:15%;padding-top:39.375%}}.external-content-overlay[_ngcontent-%COMP%] > .external-video[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}"]}),t})()},"S+Rq":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var o=e("fom2"),i=e("8Y7J");let r=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.Yb({type:t}),t.\u0275inj=i.Xb({imports:[[o.a]]}),t})()},XkIO:function(t,n,e){"use strict";e.d(n,"a",function(){return N});var o=e("8Y7J"),i=e("SVse"),r=e("AytR"),c=e("W/JE"),a=e("s7LF"),s=e("s0lO"),l=e("iInd"),u=e("IheW"),d=e("uK2+"),p=e("H4tf"),f=e("cR01");function g(t,n){1&t&&o.cc(0)}function h(t,n){1&t&&o.cc(0)}const m=function(t){return{$implicit:t}};function b(t,n){if(1&t&&(o.gc(0,"div",8),o.dd(1,h,1,0,"ng-container",9),o.fc()),2&t){const t=n.$implicit;o.sc(4);const e=o.Oc(10);o.Pb(t.class),o.Mb(1),o.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.Hc(4,m,t))}}function y(t,n){if(1&t&&(o.ec(0),o.dd(1,b,2,6,"div",3),o.dc()),2&t){const t=o.sc(2).$implicit;o.Mb(1),o.Bc("ngForOf",t.fieldItems)}}function x(t,n){if(1&t&&(o.gc(0,"div"),o.dd(1,y,2,1,"ng-container",6),o.fc()),2&t){const t=o.sc().$implicit;o.Yc(null==t?null:t.style),o.Mb(1),o.Bc("ngIf",t.fieldItems)}}function w(t,n){if(1&t&&(o.gc(0,"div",8),o.dd(1,g,1,0,"ng-container",9),o.dd(2,x,2,3,"div",10),o.fc()),2&t){const t=n.$implicit;o.sc();const e=o.Oc(10);o.Pb(t.class),o.Mb(1),o.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",o.Hc(5,m,t)),o.Mb(1),o.Bc("ngIf","container"==t.type)}}function C(t,n){if(1&t&&(o.gc(0,"ul"),o.bc(1,"li",13),o.fc()),2&t){const t=n.$implicit;o.Mb(1),o.Bc("innerHTML",t,o.Tc)}}function M(t,n){if(1&t&&(o.gc(0,"div",11),o.dd(1,C,2,1,"ul",12),o.fc()),2&t){const t=o.sc();o.Mb(1),o.Bc("ngForOf",t.errors)}}function _(t,n){if(1&t&&(o.ec(0),o.fd(1),o.dc()),2&t){const t=o.sc();o.Mb(1),o.gd(t.submitLabel)}}function O(t,n){1&t&&(o.ec(0),o.fd(1,"Submit"),o.dc())}function v(t,n){if(1&t&&o.bc(0,"div",13),2&t){const t=o.sc().$implicit;o.Bc("innerHTML",t.markup,o.Tc)}}function P(t,n){if(1&t){const t=o.hc();o.gc(0,"div"),o.gc(1,"label",17),o.fd(2),o.fc(),o.gc(3,"input",18),o.oc("ngModelChange",function(n){o.Sc(t);const e=o.sc().$implicit;return o.sc().webform[e.key]=n}),o.fc(),o.fc()}if(2&t){const t=o.sc().$implicit,n=o.sc();o.Mb(1),o.Sb("hidden","invisible"===t.title_display)("form-required",t.required),o.Bc("for",t.key),o.Mb(1),o.gd(t.title),o.Mb(1),o.Bc("id",t.key)("type","email"==t.type?"email":"text")("name",t.key)("formControlName",t.key)("required",t.required)("placeholder",t.placeholder)("ngModel",n.webform[t.key])}}function k(t,n){if(1&t&&(o.gc(0,"div"),o.gc(1,"label",17),o.fd(2),o.fc(),o.bc(3,"input",19),o.fc()),2&t){const t=o.sc().$implicit;o.Mb(1),o.Sb("form-required",t.required),o.Bc("for",t.key),o.Mb(1),o.gd(t.title),o.Mb(1),o.Bc("id",t.key)("name",t.key)("maxLength",null==t?null:t.max)("formControlName",t.key)("required",t.required)}}function S(t,n){if(1&t&&(o.gc(0,"option",22),o.fd(1),o.fc()),2&t){const t=n.$implicit;o.Bc("value",t.value),o.Mb(1),o.gd(t.text)}}function A(t,n){if(1&t&&(o.gc(0,"div"),o.gc(1,"label",17),o.fd(2),o.fc(),o.gc(3,"select",20),o.dd(4,S,2,2,"option",21),o.fc(),o.fc()),2&t){const t=o.sc().$implicit;o.Mb(1),o.Sb("form-required",t.required),o.Bc("for",t.key),o.Mb(1),o.gd(t.title),o.Mb(1),o.Bc("id",t.key)("name",t.key)("formControlName",t.key)("value",t.default_value)("required",t.required),o.Mb(1),o.Bc("ngForOf",t.options)}}function I(t,n){if(1&t&&(o.gc(0,"div"),o.gc(1,"label",17),o.fd(2),o.fc(),o.bc(3,"textarea",23),o.fc()),2&t){const t=o.sc().$implicit;o.Mb(1),o.Sb("form-required",t.required),o.Bc("for",t.key),o.Mb(1),o.gd(t.title),o.Mb(1),o.Bc("id",t.key)("name",t.key)("maxLength",null==t?null:t.max)("formControlName",t.key)("required",t.required)}}function B(t,n){if(1&t&&(o.gc(0,"div"),o.bc(1,"p",13),o.fc()),2&t){const t=o.sc().$implicit;o.Mb(1),o.Bc("innerHTML",t.text,o.Tc)}}function q(t,n){if(1&t){const t=o.hc();o.ec(0),o.gc(1,"label",25),o.gc(2,"input",26),o.oc("ngModelChange",function(n){return o.Sc(t),o.sc(2).$implicit["#default_value"]=n})("change",function(n){o.Sc(t);const e=o.sc(2).$implicit;return o.sc().onRadioButtonChange(n,e["#default_value"])}),o.fc(),o.bc(3,"span",27),o.gc(4,"span"),o.fd(5),o.fc(),o.fc(),o.dc()}if(2&t){const t=n.$implicit,e=o.sc(2).$implicit;o.Mb(2),o.Bc("name",e.key)("formControlName",e.key)("value",t[1].value)("ngModel",e["#default_value"])("required",e.required),o.Nb("name",e.key),o.Mb(3),o.gd(t[1].text)}}function F(t,n){if(1&t&&(o.gc(0,"div",24),o.gc(1,"legend"),o.gc(2,"label",17),o.fd(3),o.fc(),o.fc(),o.dd(4,q,6,7,"ng-container",12),o.fc()),2&t){const t=o.sc().$implicit;o.Sb("sideBySide","side_by_side"==t.custRadio["#options_display"]),o.Mb(2),o.Sb("form-required",t.required),o.Bc("for",t.key),o.Mb(1),o.gd(t.title),o.Mb(1),o.Bc("ngForOf",t.custRadioOptions)}}function T(t,n){if(1&t){const t=o.hc();o.gc(0,"div",28),o.fd(1),o.gc(2,"label",17),o.fd(3),o.fc(),o.gc(4,"input",29),o.oc("ngModelChange",function(n){o.Sc(t);const e=o.sc().$implicit;return o.sc().webform[e.key]=n}),o.fc(),o.fc()}if(2&t){const t=o.sc().$implicit,n=o.sc();o.Mb(1),o.hd(" ",t.default_value," "),o.Mb(1),o.Sb("form-required",t.required),o.Bc("for",t.key),o.Mb(1),o.gd(t.title),o.Mb(1),o.Bc("id",t.key)("name",t.key)("formControlName",t.key)("ngModel",n.webform[t.key])}}function j(t,n){if(1&t&&(o.dd(0,v,1,1,"div",14),o.dd(1,P,4,13,"div",6),o.dd(2,k,4,9,"div",6),o.dd(3,A,5,10,"div",6),o.dd(4,I,4,9,"div",6),o.dd(5,B,2,1,"div",6),o.dd(6,F,5,7,"div",15),o.dd(7,T,5,9,"div",16)),2&t){const t=n.$implicit;o.Bc("ngIf","webform_markup"==t.type),o.Mb(1),o.Bc("ngIf","textfield"==t.type||"email"==t.type),o.Mb(1),o.Bc("ngIf","tel"==t.type),o.Mb(1),o.Bc("ngIf","select"==t.type),o.Mb(1),o.Bc("ngIf","textarea"==t.type),o.Mb(1),o.Bc("ngIf","processed_text"==t.type),o.Mb(1),o.Bc("ngIf",t.custRadio),o.Mb(1),o.Bc("ngIf","hidden"==t.type)}}const L=e("4sH1");let N=(()=>{class t{constructor(t,n,e,i,r,c,a,s){this.BASE_HREF=t,this.DRUPAL_BASEURL=n,this.isChineseSite=e,this.platformId=i,this.router=r,this.http=c,this.websiteService=a,this.d365CaptureFormUtil=s,this.onSubmit=new o.r,this.baseHref="",this.bodyFieldHTML="",this.webform={},this.formContentInvalid=!1,this.errors=[],this.formClasses=[],this.fields=[],this.hiddenFields=[],this.submitLabel="",this.huoyanioUserProps=[],this.huoyanioValuesToAccess=[],this.doesSubmitToHuoyanio=!1,this.formSubmitted=!1,this.baseHref=this.BASE_HREF.replace("/","")}ngOnInit(){var t,n,e;this.bodyFieldHTML=null===(n=null===(t=this.data)||void 0===t?void 0:t.field_body)||void 0===n?void 0:n.processed,this.data&&"paragraph--webform"==this.data.type&&this.data.children&&this.data.children.field_webform[0]?this.data=this.data.children&&this.data.children.field_webform[0]:this.input&&!this.data&&(this.data=this.input),this.confirmationUrl=null===(e=this.data.settings)||void 0===e?void 0:e.confirmation_url,this.webformId=this.data.webformId,this.data.elements||this.data.children.field_webform[0]?this.generateWebform():this.formContentInvalid=!0}ngAfterViewInit(){var t,n,e,o,i;this.loadHuoyanioLeadScript(),window.location.host.indexOf("localhost")>-1&&(t=window,n=document,e="script",t.MauticTrackingObject="mt",t.mt=t.mt||function(){(t.mt.q=t.mt.q||[]).push(arguments)},o=n.createElement(e),i=n.getElementsByTagName(e)[0],o.async=1,o.src="https://iqair-lead.huoyanio.com/mtc.js",i.parentNode.insertBefore(o,i)),null!=window.mt&&(this.huoyanioFunc=window.mt),this.d365CaptureFormUtil.refreshFormCapture()}generateWebform(){const t={};let n=null==this.data.elements.container?this.data.elements:this.data.elements.container;if("object"!=typeof n){var e=L.load(n,"json"),o=JSON.stringify(e);n=JSON.parse(o)}for(let i of Object.keys(n)){const e=Object.assign({},n[i]);if("#attributes"!=i){if(e["#type"]&&(e["#submit__label"]&&"string"==typeof e["#submit__label"]&&(this.submitLabel=e["#submit__label"]),"webform_actions"!=e["#type"]))if("container"==e["#type"]){let n={key:i,markup:e["#markup"],title:e["#title"],type:e["#type"],max:e["#maxlength"]||1e3,required:!1,placeholder:e["#placeholder"]||"",title_display:e["#title_display"],fieldItems:[]};this.createField(n,null,e,i,t,!0);for(let o of Object.keys(e))if(e[o]["#type"]&&"webform_actions"!=e[o]["#type"])if("webform_markup"==e[o]["#type"])this.createField({key:i,markup:e[o]["#markup"],title:e[o]["#title"],type:e[o]["#type"],max:e[o]["#maxlength"]||1e3,required:!1,placeholder:e[o]["#placeholder"]||"",title_display:e[o]["#title_display"]},n,e,i,t,!1),this.formGroup=new a.j(t);else for(let i in e[o]){if(!e[o][i]["#type"])continue;const r=i;let c=Object.assign({},e[o][i]);this.createField({key:r,markup:e[o][i]["#markup"],title:e[o][i]["#title"],type:e[o][i]["#type"],max:e[o][i]["#maxlength"]||1e3,required:!1,placeholder:e[o][i]["#placeholder"]||"",title_display:e[o][i]["#title_display"]},n,c,r,t,!1),this.formGroup=new a.j(t)}this.fields.push(n)}else this.createField({key:i,markup:e["#markup"],title:e["#title"],type:e["#type"],max:e["#maxlength"]||1e3,required:!1,placeholder:e["#placeholder"]||"",title_display:e["#title_display"],text:e["#text"]||""},null,e,i,t,!1),this.formGroup=new a.j(t)}else this.formClasses=e.class||[],this.formClasses.forEach(t=>this.doesSubmitToHuoyanio=t.indexOf("huoyanio-form")>-1)}}createField(t,n,e,o,i,r){var c,s,l,u,d,p;if("tel"==e["#type"]&&(t.max=10),e["#options"]){const n=[];e["#empty_option"]&&e["#empty_value"]&&n.push({value:e["#empty_value"],text:e["#empty_option"]});for(const t in e["#options"])n.push({value:t,text:e["#options"][t]});t.options=n}e["#input_mask"]&&(t.mask=e["#input_mask"]),(null===(c=e["#wrapper_attributes"])||void 0===c?void 0:c.class)&&(t.class=null===(s=e["#wrapper_attributes"])||void 0===s?void 0:s.class[0]),(null===(l=e["#attributes"])||void 0===l?void 0:l.class)&&(t.elementClass=null===(u=e["#attributes"])||void 0===u?void 0:u.class[0]),(null===(d=e["#attributes"])||void 0===d?void 0:d.style)&&(t.style=null===(p=e["#attributes"])||void 0===p?void 0:p.style);let f=Object.keys(e).find(t=>!t.startsWith("#"));if(f){let n=e[f];"radios"==n["#type"]&&(t.key=f,t.custRadio=n,t.custRadioOptions=Object.entries(n["#options"]))}else"radios"==e["#type"]&&(t.key=o,t.custRadio=o,t.custRadioOptions=Object.entries(t.options));let g=[];!0===e["#required"]&&(t.required=!0,g.push(a.C.required)),"email"==e["#type"]&&g.push(a.C.email),Object.hasOwnProperty("#pattern")&&g.push(a.C.pattern(e["#pattern"])),t.elementClass&&t.elementClass.indexOf("huoyanio__")>-1&&(this.huoyanioUserProps.push(t.elementClass.split("__")[1]),this.huoyanioValuesToAccess.push(t.key)),n&&!r?n.fieldItems.push(t):r||this.fields.push(t);let h="";this.presetFormValues&&this.presetFormValues[o]?h=this.presetFormValues[o]:e["#default_value"]&&(h=e["#default_value"],t["#default_value"]=e["#default_value"]),h&&(this.webform[o]=h),i[o]=new a.g(h||e["#empty_value"]||"",g)}onFormSubmit(){this.errors=[],this.formSubmitted=!0;const t=Object.assign(Object.assign({},this.formGroup.value),{webform_id:this.data.webformId}),n=this.getDrupalBaseUri()+"/iqair-webform-api/submit";this.http.post(n,t).subscribe(t=>{if(this.doesSubmitToHuoyanio&&this.captureHuoyanioLead(this.huoyanioUserProps,this.huoyanioValuesToAccess,this.formGroup.value),this.formGroup.reset(),this.confirmationUrl)if(this.confirmationUrl.indexOf("?")>=0){let[t,n]=this.confirmationUrl.split("?"),e={};n.split("&").forEach(function(t){let n=t.split("=");e[n[0]]=decodeURIComponent(n[1]||"")}),this.router.navigate([t],{queryParams:e})}else this.router.navigate([this.confirmationUrl]);this.onSubmit.emit()},t=>{if(console.error("Webform submit error:",t),"400"==t.status)for(const n in t.error.messages)this.errors.push(t.error.messages[n]);this.formSubmitted=!1},()=>{this.formSubmitted=!0})}onRadioButtonChange(t,n){var e,o;"1"==n?null===(e=null===document||void 0===document?void 0:document.querySelector("app-headless-webform div.form-item.if-company"))||void 0===e||e.classList.remove("hidden"):null===(o=null===document||void 0===document?void 0:document.querySelector("app-headless-webform div.form-item.if-company"))||void 0===o||o.classList.add("hidden")}loadHuoyanioLeadScript(){var t,n,e,o,i;window.location.host.indexOf("localhost")>-1&&(t=window,n=document,e="script",t.MauticTrackingObject="mt",t.mt=t.mt||function(){(t.mt.q=t.mt.q||[]).push(arguments)},o=n.createElement(e),i=n.getElementsByTagName(e)[0],o.async=1,o.src="https://iqair-lead.huoyanio.com/mtc.js",i.parentNode.insertBefore(o,i))}captureHuoyanioLead(t,n,e){let o={};n.forEach(function(n,i){o[t[i]]=e[n]}),window.location.pathname.indexOf("lp/office-air-quality-solutions")>-1&&(o.biao_dan_lai_yuan="20210319 Webstie Langding Page "),o&&0===Object.keys(o).length&&o.constructor===Object||("function"==typeof this.huoyanioFunc?this.huoyanioFunc("send","pageview",o):console.log("mtc.js script did not load"))}getDrupalBaseUri(){let t=this.isChineseSite?r.a.drupalCNUrl:r.a.drupalUrl;t.startsWith("http")||t.startsWith("/")||(t="/"+t);let n=this.websiteService.getBaseHref();return n&&(n="/"+n),t+n}}return t.\u0275fac=function(n){return new(n||t)(o.ac(i.a),o.ac(s.a),o.ac(c.a),o.ac(o.J),o.ac(l.g),o.ac(u.b),o.ac(d.a),o.ac(p.a))},t.\u0275cmp=o.Ub({type:t,selectors:[["app-headless-webform"]],inputs:{input:"input",presetFormValues:"presetFormValues"},outputs:{onSubmit:"onSubmit"},decls:11,vars:14,consts:[[1,"body",3,"innerHTML"],[1,"headless-webform-container",3,"hidden"],["ngNativeValidate","",3,"id","name","ngClass","formGroup","ngSubmit"],["class","form-item",3,"class",4,"ngFor","ngForOf"],["class","errors-container",4,"ngIf"],["type","submit",1,"button","button--primary","button-submit",3,"disabled"],[4,"ngIf"],["formsFields",""],[1,"form-item"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"style",4,"ngIf"],[1,"errors-container"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[3,"innerHTML",4,"ngIf"],["class","custRadio",3,"sideBySide",4,"ngIf"],["class","hidden",4,"ngIf"],[3,"for"],[3,"id","type","name","formControlName","required","placeholder","ngModel","ngModelChange"],["type","tel",3,"id","name","maxLength","formControlName","required"],[3,"id","name","formControlName","value","required"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"id","name","maxLength","formControlName","required"],[1,"custRadio"],[1,"radio-item"],["type","radio",3,"name","formControlName","value","ngModel","required","ngModelChange","change"],[1,"checkmark"],[1,"hidden"],["type","hidden",3,"id","name","formControlName","ngModel","ngModelChange"]],template:function(t,n){1&t&&(o.bc(0,"div",0),o.tc(1,"safe"),o.gc(2,"div",1),o.gc(3,"form",2),o.oc("ngSubmit",function(){return n.onFormSubmit()}),o.dd(4,w,3,7,"div",3),o.dd(5,M,2,1,"div",4),o.gc(6,"button",5),o.dd(7,_,2,1,"ng-container",6),o.dd(8,O,2,0,"ng-container",6),o.fc(),o.dd(9,j,8,8,"ng-template",null,7,o.ed),o.fc(),o.fc()),2&t&&(o.Bc("innerHTML",o.vc(1,11,n.bodyFieldHTML,"html"),o.Tc),o.Mb(2),o.Bc("hidden",n.formContentInvalid),o.Mb(1),o.Bc("id",n.webformId)("name",n.webformId)("ngClass",n.formClasses)("formGroup",n.formGroup),o.Mb(1),o.Bc("ngForOf",n.fields),o.Mb(1),o.Bc("ngIf",n.errors.length>0),o.Mb(1),o.Bc("disabled",n.formSubmitted),o.Mb(1),o.Bc("ngIf",n.submitLabel),o.Mb(1),o.Bc("ngIf",!n.submitLabel))},directives:[a.s,i.m,a.k,i.n,i.o,i.t,a.c,a.r,a.i,a.A,a.B,a.v,a.E,a.y],pipes:[f.a],styles:['.errors-container[_ngcontent-%COMP%]{font-size:14px;padding:.5em}.errors-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:red}.errors-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0;line-height:.5em}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{width:100%}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.custRadio){text-align:left}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item.col-sm-6[_ngcontent-%COMP%]{width:100%;padding-left:0;padding-right:0}@media (min-width:992px){.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   [class*=col-][_ngcontent-%COMP%]{float:left}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   [class*=col-][_ngcontent-%COMP%]:nth-child(odd){padding-right:8px}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   [class*=col-][_ngcontent-%COMP%]:nth-child(2n){padding-left:8px}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .col-sm-12[_ngcontent-%COMP%]{padding:0!important}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item.col-sm-2[_ngcontent-%COMP%]{width:calc(100% / 6)}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item.col-sm-4[_ngcontent-%COMP%]{width:calc(100% / 3)}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item.col-sm-6[_ngcontent-%COMP%]{width:50%}}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .padding-right-zero[_ngcontent-%COMP%]{padding-right:0!important}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]{margin-top:0;margin-bottom:12px;padding-left:0}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:30px;width:100%;border:1px solid #d7d7d7;padding:4px;font-size:14px}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;text-overflow:"";background:url(https://cms.iqair.com/themes/custom/iqair/images/arrow-dropdown.png);background-repeat:no-repeat;background-position:calc(100% - 12px) 50%;background-size:12px 8px;background-color:#fff}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::-ms-expand{display:none}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .form-required[_ngcontent-%COMP%]:after{content:" * ";color:red;font-weight:700}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:4px;display:inline-block;padding:0;font-size:14px;color:#585f66;font-weight:700}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-item[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .custRadio[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:12px}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .custRadio[_ngcontent-%COMP%]   .radio-item[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-left:28px;margin-right:10px;margin-bottom:12px;font-size:14px;font-weight:400;line-height:23px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .custRadio[_ngcontent-%COMP%]   .radio-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:-1}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .custRadio[_ngcontent-%COMP%]   .radio-item[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:23px;width:23px;background:url(https://cms.iqair.com/themes/custom/iqair/images/forms/radio.png) no-repeat 50%;background-size:23px 23px}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .custRadio[_ngcontent-%COMP%]   .radio-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-image:url(https://cms.iqair.com/themes/custom/iqair/images/forms/radio-selected.png)}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button.button-submit[_ngcontent-%COMP%]{display:block;text-transform:uppercase;font-weight:700;background:#5482ab;color:#fff;width:200px;border:none;margin:12px auto;padding:6px 0;font-size:14px;line-height:20px;font-family:inherit;cursor:pointer}.headless-webform-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button.button-submit[_ngcontent-%COMP%]:disabled{opacity:.75;cursor:auto}']}),t})()},e6PW:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var o=e("SVse"),i=e("s7LF"),r=e("8Y7J");let c=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[o.c,i.m]]}),t})()},erZ6:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var o=e("SVse"),i=e("iInd"),r=e("e6PW"),c=e("pkEO"),a=e("S+Rq"),s=e("8Y7J");let l=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.Yb({type:t}),t.\u0275inj=s.Xb({imports:[[o.c,i.k,r.a,c.a,a.a]]}),t})()},pkEO:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var o=e("fom2"),i=e("Ak+M"),r=e("8Y7J");let c=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.Yb({type:t}),t.\u0275inj=r.Xb({imports:[[o.a,i.a]]}),t})()},x5Hl:function(t,n,e){"use strict";e.d(n,"a",function(){return h});var o=e("8Y7J"),i=e("tNp4"),r=e("bhER"),c=e("uK2+"),a=e("SVse"),s=e("s7LF");function l(t,n){1&t&&o.cc(0)}function u(t,n){if(1&t){const t=o.hc();o.gc(0,"div",7),o.gc(1,"input",8),o.oc("click",function(){return o.Sc(t),o.sc(2).decrementProductQuantity()}),o.fc(),o.gc(2,"input",9),o.oc("ngModelChange",function(n){return o.Sc(t),o.sc(2).quantity=n})("change",function(n){return o.Sc(t),o.sc(2).verifyQuantity(n)}),o.fc(),o.gc(3,"input",10),o.oc("click",function(){return o.Sc(t),o.sc(2).incrementProductQuantity()}),o.fc(),o.fc()}if(2&t){const t=o.sc(2);o.Mb(2),o.Bc("ngModel",t.quantity)}}function d(t,n){if(1&t){const t=o.hc();o.gc(0,"div",3),o.dd(1,u,4,1,"div",4),o.gc(2,"div",5),o.gc(3,"button",6),o.oc("click",function(){return o.Sc(t),o.sc().addToCart()}),o.fd(4),o.fc(),o.fc(),o.fc()}if(2&t){const t=o.sc();o.Mb(1),o.Bc("ngIf",t.showQuantity),o.Mb(3),o.hd(" ",t.shopifyConfig.addToCartText||"Add to Cart"," ")}}function p(t,n){1&t&&(o.gc(0,"div",14),o.gc(1,"label",15),o.fd(2,"Qty"),o.fc(),o.fc())}function f(t,n){if(1&t){const t=o.hc();o.gc(0,"div",16),o.gc(1,"input",17),o.oc("ngModelChange",function(n){return o.Sc(t),o.sc(2).quantity=n})("change",function(n){return o.Sc(t),o.sc(2).verifyQuantity(n)}),o.fc(),o.fc()}if(2&t){const t=o.sc(2);o.Mb(1),o.Bc("ngModel",t.quantity)}}function g(t,n){if(1&t){const t=o.hc();o.gc(0,"div",11),o.dd(1,p,3,0,"div",12),o.dd(2,f,2,1,"div",13),o.gc(3,"div",5),o.gc(4,"button",6),o.oc("click",function(){return o.Sc(t),o.sc().addToCart()}),o.fd(5),o.fc(),o.fc(),o.fc()}if(2&t){const t=o.sc();o.Sb("right",t.showQuantity)("center",!t.showQuantity),o.Mb(1),o.Bc("ngIf",t.showQuantity),o.Mb(1),o.Bc("ngIf",t.showQuantity),o.Mb(3),o.hd(" ",t.shopifyConfig.addToCartText||"Add to Cart"," ")}}let h=(()=>{class t{constructor(t,n,e){this.cartRequestService=t,this.shopifyService=n,this.websiteService=e,this.quantity=1,this.showQuantity=!0,this.isContentBoxStyle=!1,this.toggleAvailableProducts=new o.r,this.buyButtonClicked=new o.r,this.quantityChange=new o.r,this.cartRequestService.cartContextChanged.subscribe(t=>{this.shopifyConfig=this.shopifyService.getShopifyConfig()})}addToCart(){var t,n,e,o,i,r,c,a,s,l,u;if((null===(n=null===(t=this.product)||void 0===t?void 0:t.availableOptionProducts)||void 0===n?void 0:n.length)>0&&this.toggleAvailableProducts.emit(!0),this.quantity=this.cartRequestService.correctProvidedQuantity(this.quantity,1),null===(o=null===(e=this.product.shopifyProduct)||void 0===e?void 0:e.variants)||void 0===o?void 0:o.length){const t={quantity:this.quantity,productId:btoa("gid://shopify/Product/"+this.product.field_shopify_product_id),variantId:this.product.shopifyProduct.variants[0].id,sku:this.product.shopifyProduct.variants[0].sku,productType:this.product.shopifyProduct.productType,vendor:this.product.shopifyProduct.vendor,title:this.product.title,imageUrl:(null===(r=null===(i=this.product.shopifyProduct.images)||void 0===i?void 0:i[0])||void 0===r?void 0:r.url)||(null===(s=null===(a=null===(c=this.product.shopifyProduct.variants)||void 0===c?void 0:c[0])||void 0===a?void 0:a.image)||void 0===s?void 0:s.url)||this.product.image_url,price:+this.product.field_product_price,currency:this.product.field_currency};this.cartRequestService.addItemToCart(t,!((null===(u=null===(l=this.product)||void 0===l?void 0:l.availableOptionProducts)||void 0===u?void 0:u.length)>0)),this.buyButtonClicked.emit()}else console.error("Unable to add to cart at this time.  Please reload the page and try again later.")}verifyQuantity(t){let n;(null==t?void 0:t.target)&&(t.target.value=this.cartRequestService.correctProvidedQuantity(t.target.value,1),n=t.target.value,this.quantityChange.emit(n))}incrementProductQuantity(){this.quantity++}decrementProductQuantity(){1===this.quantity?this.quantity=1:this.quantity--}}return t.\u0275fac=function(n){return new(n||t)(o.ac(i.a),o.ac(r.a),o.ac(c.a))},t.\u0275cmp=o.Ub({type:t,selectors:[["app-buy-button"]],inputs:{product:"product",showQuantity:"showQuantity",isContentBoxStyle:"isContentBoxStyle"},outputs:{toggleAvailableProducts:"toggleAvailableProducts",buyButtonClicked:"buyButtonClicked",quantityChange:"quantityChange"},decls:5,vars:1,consts:[[4,"ngTemplateOutlet"],["contentBoxStyleButton",""],["regularButton",""],[1,"shopify-button-container","content-box-style"],["class","qty-input-group",4,"ngIf"],[1,"col","btn-wrapper"],[3,"click"],[1,"qty-input-group"],["type","button","value","-",1,"button-minus",3,"click"],["type","number","min","1","aria-label","Quantity","value","1",1,"quantity-field",3,"ngModel","ngModelChange","change"],["type","button","value","+",1,"button-plus",3,"click"],[1,"shopify-button-container"],["class","col qty-label",4,"ngIf"],["class","col qty-value",4,"ngIf"],[1,"col","qty-label"],["for","qty"],[1,"col","qty-value"],["type","number","min","1","aria-label","Quantity","value","1",3,"ngModel","ngModelChange","change"]],template:function(t,n){if(1&t&&(o.dd(0,l,1,0,"ng-container",0),o.dd(1,d,5,2,"ng-template",null,1,o.ed),o.dd(3,g,6,7,"ng-template",null,2,o.ed)),2&t){const t=o.Oc(2),e=o.Oc(4);o.Bc("ngTemplateOutlet",n.isContentBoxStyle?t:e)}},directives:[a.t,a.o,s.w,s.c,s.r,s.u],styles:[".shopify-button-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.shopify-button-container.content-box-style[_ngcontent-%COMP%]{-ms-flex-pack:left;justify-content:left;margin-top:.5em}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]{clear:both;position:relative;margin-right:.5em}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #cdcdcd;background-color:transparent;box-sizing:border-box;margin:0;outline:none;padding:10px}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{-webkit-appearance:button;cursor:pointer}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:hover::-webkit-inner-spin-button, .shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:hover::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;display:none}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{min-width:45px;width:auto;transition:all .3s ease}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   .button-minus[_ngcontent-%COMP%], .shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   .button-plus[_ngcontent-%COMP%]{font-weight:700;font-size:18px;height:40px;padding:0;width:38px;position:relative}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   .button-minus[_ngcontent-%COMP%]{border-right:none}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   .button-plus[_ngcontent-%COMP%]{border-left:none}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .qty-input-group[_ngcontent-%COMP%]   .quantity-field[_ngcontent-%COMP%]{position:relative;height:40px;text-align:center;width:50px;display:inline-block;font-size:18px;resize:vertical}.shopify-button-container.content-box-style[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;font-weight:400}.shopify-button-container.right[_ngcontent-%COMP%]{-ms-flex-pack:right;justify-content:right}.shopify-button-container.center[_ngcontent-%COMP%]{-ms-flex-pack:center;justify-content:center}.shopify-button-container[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.shopify-button-container[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-height:45px;max-width:100%;min-width:100px;background-color:#2dc186;padding:0 15px;height:45px;cursor:pointer;border-radius:5px;color:#fff;font-weight:500;font-size:16px;letter-spacing:1.6px;outline:none;border:none;overflow:hidden}.shopify-button-container[_ngcontent-%COMP%]   .qty-value[_ngcontent-%COMP%]{width:45px;margin-right:12px}.shopify-button-container[_ngcontent-%COMP%]   .qty-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:45px;max-height:45px;width:45px;font-size:16px;border:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;padding-top:7px;padding-bottom:7px;text-align:left;padding-left:5px;color:#585f66;line-height:inherit}.shopify-button-container[_ngcontent-%COMP%]   .qty-label[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center;margin-left:auto;font-size:16px}"]}),t})()},zQVY:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var o=e("8Y7J");let i=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.Yb({type:t}),t.\u0275inj=o.Xb({}),t})()}}]);