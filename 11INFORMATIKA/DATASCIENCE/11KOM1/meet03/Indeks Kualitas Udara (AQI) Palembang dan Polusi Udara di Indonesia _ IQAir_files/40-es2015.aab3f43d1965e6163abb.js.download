!function(){try{var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[t]="eba7f610-5a80-4245-ae68-c56039ed7aef",i._sentryDebugIdIdentifier="sentry-dbid-eba7f610-5a80-4245-ae68-c56039ed7aef")}catch(i){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"468e0ce18ce8eaa072d85361b0e2c2d814ed5dca"},(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"+b45":function(i,t,a){"use strict";a.d(t,"a",function(){return y});var e=a("SVse"),o=a("W8+8"),n=a("8Y7J"),r=a("HS6x"),s=a("RFiY"),c=a("UNx2"),d=a("lLqz");const l=["cafAqiDataContainer"];function f(i,t){1&i&&(n.gc(0,"div",2),n.gc(1,"app-loading",3),n.rc(),n.bc(2,"rect",4),n.fc(),n.fc()),2&i&&(n.Mb(1),n.Bc("height",150)("primaryColor","#dddddd"))}function h(i,t){if(1&i&&(n.gc(0,"div",24),n.gc(1,"div",25),n.gc(2,"div",26),n.gc(3,"div",27),n.gc(4,"div",28),n.fd(5," US AQI "),n.fc(),n.gc(6,"div",29),n.fd(7),n.fc(),n.fc(),n.fc(),n.gc(8,"div",30),n.bc(9,"img",31),n.fc(),n.fc(),n.gc(10,"div",32),n.gc(11,"div",33),n.fd(12),n.fc(),n.fc(),n.fc()),2&i){const i=n.sc(2);n.ad("background-color",i.indoorAQI.backgroundColor),n.Mb(3),n.ad("background-color",i.indoorAQI.aqiBoxColor),n.Mb(4),n.hd(" ",i.indoorAQI.aqi," "),n.Mb(2),n.Bc("src",i.indoorAQI.aqiIndexIconPath,n.Vc)("alt",i.indoorAQI.aqiIndexLabel),n.Mb(2),n.ad("color",i.indoorAQI.aqiLabelColor),n.Mb(1),n.gd(i.indoorAQI.aqiIndexLabel)}}function p(i,t){if(1&i&&n.bc(0,"app-common-chart",34),2&i){const i=n.sc(2);n.Bc("option",i.indoorChartOptions)}}function g(i,t){if(1&i&&(n.gc(0,"div",35),n.bc(1,"div"),n.fd(2),n.gc(3,"span",36),n.fd(4),n.fc(),n.fc()),2&i){const i=n.sc(2);n.Mb(2),n.hd("",i.indoorAQIDateRange.firstDay," "),n.Mb(2),n.gd(i.indoorAQIDateRange.lastDay)}}function q(i,t){if(1&i&&(n.gc(0,"div",24),n.gc(1,"div",25),n.gc(2,"div",26),n.gc(3,"div",27),n.gc(4,"div",28),n.fd(5," US AQI "),n.fc(),n.gc(6,"div",29),n.fd(7),n.fc(),n.fc(),n.fc(),n.gc(8,"div",30),n.bc(9,"img",31),n.fc(),n.gc(10,"div",32),n.gc(11,"div",33),n.fd(12),n.fc(),n.fc(),n.fc(),n.fc()),2&i){const i=n.sc(2);n.ad("background-color",i.outdoorAQI.backgroundColor),n.Mb(3),n.ad("background-color",i.outdoorAQI.aqiBoxColor),n.Mb(4),n.hd(" ",i.outdoorAQI.aqi," "),n.Mb(2),n.Bc("src",i.outdoorAQI.aqiIndexIconPath,n.Vc)("alt",i.outdoorAQI.aqiIndexLabel),n.Mb(2),n.ad("color",i.outdoorAQI.aqiLabelColor),n.Mb(1),n.gd(i.outdoorAQI.aqiIndexLabel)}}function u(i,t){if(1&i&&n.bc(0,"app-common-chart",34),2&i){const i=n.sc(2);n.Bc("option",i.outdoorChartOptions)}}function b(i,t){if(1&i&&(n.gc(0,"div",35),n.fd(1),n.gc(2,"span",36),n.fd(3),n.fc(),n.fc()),2&i){const i=n.sc(2);n.Mb(1),n.hd("",i.outdoorAQIDateRange.firstDay," "),n.Mb(2),n.gd(i.outdoorAQIDateRange.lastDay)}}function m(i,t){if(1&i&&(n.gc(0,"div",37),n.gc(1,"div",38),n.fd(2),n.fc(),n.gc(3,"div",39),n.gc(4,"b"),n.fd(5,"cleaner"),n.fc(),n.fd(6," than outside "),n.fc(),n.fc()),2&i){const i=n.sc(2);n.Mb(2),n.hd(" ",i.aqiImprovement,"% ")}}function x(i,t){1&i&&(n.gc(0,"div",37),n.gc(1,"div",38),n.fd(2," Same "),n.fc(),n.gc(3,"div",39),n.fd(4," as outdoor air quality "),n.fc(),n.fc())}function v(i,t){if(1&i&&(n.gc(0,"div",5,6),n.gc(2,"div",7),n.fd(3),n.fc(),n.gc(4,"div",8),n.gc(5,"div",9),n.gc(6,"div",10),n.fd(7," Indoor "),n.fc(),n.gc(8,"div",11),n.dd(9,h,13,10,"div",12),n.gc(10,"div",13),n.gc(11,"div",14),n.gc(12,"span",15),n.fd(13,"\xa0AQI\xa0"),n.fc(),n.fd(14," \xa0Last 30 days"),n.fc(),n.dd(15,p,1,1,"app-common-chart",16),n.dd(16,g,5,2,"div",17),n.fc(),n.fc(),n.fc(),n.gc(17,"div",9),n.gc(18,"div",10),n.fd(19," Outdoor "),n.fc(),n.gc(20,"div",11),n.dd(21,q,13,10,"div",12),n.gc(22,"div",13),n.gc(23,"div",14),n.gc(24,"span",15),n.fd(25,"\xa0AQI\xa0"),n.fc(),n.fd(26," \xa0Last 30 days"),n.fc(),n.dd(27,u,1,1,"app-common-chart",16),n.dd(28,b,4,2,"div",17),n.fc(),n.fc(),n.fc(),n.gc(29,"div",9),n.bc(30,"div",18),n.gc(31,"div",19),n.gc(32,"div",20),n.fd(33," Indoor air quality is "),n.fc(),n.dd(34,m,7,1,"div",21),n.dd(35,x,5,0,"div",21),n.gc(36,"div",22),n.fd(37," Based on PM2.5 "),n.fc(),n.fc(),n.fc(),n.fc(),n.gc(38,"div",23),n.fd(39),n.tc(40,"date"),n.tc(41,"date"),n.fc(),n.fc()),2&i){const i=n.sc();n.Mb(3),n.hd(" ",i.input," Air Quality "),n.Mb(6),n.Bc("ngIf",i.indoorAQI),n.Mb(6),n.Bc("ngIf",i.indoorChartOptions),n.Mb(1),n.Bc("ngIf",i.indoorAQIDateRange),n.Mb(5),n.Bc("ngIf",i.outdoorAQI),n.Mb(6),n.Bc("ngIf",i.outdoorChartOptions),n.Mb(1),n.Bc("ngIf",i.outdoorAQIDateRange),n.Mb(6),n.Bc("ngIf",i.aqiImprovement),n.Mb(1),n.Bc("ngIf",!i.aqiImprovement),n.Mb(4),n.id(" Last Updated ",n.vc(40,11,i.startTime,"shortTime"),", ",n.vc(41,14,i.startTime,"MMMM d")," (local time) ")}}let y=(()=>{class i{constructor(i,t){this.graphQLService=i,this.chartService=t,this.apiEndpoint=Object(o.a)(),this.assetsDir="../../../../assets/iqair/js/",this.aqiImprovement=0,this.hasOfflineDevices=!1,this.isLoading=!0,this.startTime=Date.now()}ngOnInit(){this.input&&(this.cleanAirFacilityName=this.slugify(this.input),this.setupCleanAirFacilityCharts())}ngAfterViewInit(){}slugify(i){return i.toString().trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}setupCleanAirFacilityCharts(){this.graphQLService.getCleanAirFacilityData(`${this.apiEndpoint}caf/by/slug/${this.cleanAirFacilityName}/`).subscribe(i=>{const t=i.devices.indoor,a=i.devices.outdoor;t&&a&&(a.current&&a.historical&&this.formatData(a,"outdoor"),t.current&&t.historical&&this.formatData(t,"indoor"),this.getAqiImprovement()),setTimeout(()=>{this.isLoading=!1},200)},i=>{console.log(i),this.isLoading=!1})}formatData(i,t){switch(t){case"outdoor":{const a=this.getHistoryCols(i.historical);this.outdoorMaxBarHeight=this.getOutdoorMaxBarHeight(i.historical),this.outdoorAQI=this.getStyles(i.current),this.resolveOptions(a,t),this.lastOutdoorMeasurement={date:a[a.length-1].ts,aqi:a[a.length-1].aqi},this.outdoorAQIDateRange={firstDay:Object(e.A)(a[0].ts,"MMMM d","en-US"),lastDay:Object(e.A)(this.lastOutdoorMeasurement.date,"MMMM d","en-US")}}case"indoor":{const a=this.getHistoryCols(i.historical);this.indoorAQI=this.getStyles(i.current),this.resolveOptions(a,t),this.lastIndoorMeasurement={date:a[a.length-1].ts,aqi:a[a.length-1].aqi},this.indoorAQIDateRange={firstDay:Object(e.A)(a[0].ts,"MMMM d","en-US"),lastDay:Object(e.A)(this.lastIndoorMeasurement.date,"MMMM d","en-US")}}}return""}getStyles(i){const t={};switch(!0){case i<=50:t.aqi=i,t.backgroundColor="#A8E05F",t.aqiBoxColor="#87C13C",t.aqiIndexLabel="Good",t.aqiLabelColor="#607631",t.aqiIndexIconPath="assets/img/ic_face1_green.svg";break;case i<=100:t.aqi=i,t.backgroundColor="#FDD64B",t.aqiBoxColor="#EFBE1D",t.aqiIndexLabel="Moderate",t.aqiLabelColor="#8C6C1D",t.aqiIndexIconPath="assets/img/ic_face2_yellow.svg";break;case i<=150:t.aqi=i,t.backgroundColor="#FF9B57",t.aqiBoxColor="#F27E2F",t.aqiIndexLabel="Unhealthy for sensitive groups",t.aqiLabelColor="#974A20",t.aqiIndexIconPath="assets/img/ic_face3_orange.svg";break;case i<=200:t.aqi=i,t.backgroundColor="#FE6A69",t.aqiBoxColor="#E84B50",t.aqiIndexLabel="Unhealthy",t.aqiLabelColor="#942431",t.aqiIndexIconPath="assets/img/ic_face4_red.svg";break;case i<=300:t.aqi=i,t.backgroundColor="#A97ABC",t.aqiBoxColor="#8A5D9D",t.aqiIndexLabel="Very unhealthy",t.aqiLabelColor="#543B63",t.aqiIndexIconPath="assets/img/ic_face5_purple.svg";break;case i<=301:t.aqi=i,t.backgroundColor="#A87383",t.aqiBoxColor="#915C6C",t.aqiIndexLabel="Hazardous",t.aqiLabelColor="#573344",t.aqiIndexIconPath="assets/img/ic_face6_maroon.svg";break;default:t.aqi=i,t.backgroundColor="#A8E05F",t.aqiBoxColor="87C13C",t.aqiIndexLabel="Good",t.aqiLabelColor="#607631",t.aqiIndexIconPath="assets/img/ic_face1_green.svg"}return t}getHistoryCols(i){let t;for(let a of i){const i=a.aqi;i<=50?t="#A8E05F":i<=100?t="#FDD64B":i<=150?t="#FF9B57":i<=200?t="#FE6A69":i<=300?t="#A97ABC":i<=301&&(t="#A87383"),a.aqiColor=t,a.ts=Object(e.A)(a.ts,"longDate","en-US")}return i}getOutdoorMaxBarHeight(i){let t=0;for(let a=0;a<i.length;a++)t=Math.max(t,i[a].aqi);return 50*Math.ceil(t/50)}resolveOptions(i,t){let a=[],e=[];for(let n of i){a.push(n.ts);const i={y:Number(n.aqi),color:n.aqiColor};e.push(i)}const o=this.chartService.resolveAQIHistoricalOption({pollutant:"aqi",categories:a,series:{name:"aqi",data:e}});window.innerWidth<600&&(o.plotOptions.column.pointWidth=4),Object.assign(o.yAxis,{tickInterval:this.outdoorMaxBarHeight,softMax:this.outdoorMaxBarHeight}),"indoor"==t?this.indoorChartOptions=o:"outdoor"==t&&(this.outdoorChartOptions=o)}getAqiImprovement(){if(this.hasOfflineDevices=this.checkForOfflineDevices(),!this.hasOfflineDevices){let i=Math.round((this.outdoorAQI.aqi-this.indoorAQI.aqi)/this.outdoorAQI.aqi*100);this.aqiImprovement=i>0?i:0}}checkForOfflineDevices(){let i=this.calculateDateDiff(this.lastIndoorMeasurement.date),t=this.calculateDateDiff(this.lastOutdoorMeasurement.date);return i>1?(this.startTime=this.lastIndoorMeasurement.date,this.aqiImprovement=Math.round((this.lastOutdoorMeasurement.aqi-this.lastIndoorMeasurement.aqi)/this.lastOutdoorMeasurement.aqi*100),!0):t>1&&0==this.outdoorAQI.aqi?(this.startTime=this.lastOutdoorMeasurement.date,this.aqiImprovement=Math.round((this.lastOutdoorMeasurement.aqi-this.lastIndoorMeasurement.aqi)/this.lastOutdoorMeasurement.aqi*100),!0):void 0}calculateDateDiff(i){let t=new Date,a=new Date(i);return Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()))/864e5)}}return i.\u0275fac=function(t){return new(t||i)(n.ac(r.a),n.ac(s.a))},i.\u0275cmp=n.Ub({type:i,selectors:[["caf-aqi-data-component"]],viewQuery:function(i,t){if(1&i&&n.md(l,1),2&i){let i;n.Nc(i=n.pc())&&(t.cafAqiDataContainer=i.first)}},inputs:{input:"input"},decls:2,vars:2,consts:[["class","container",4,"ngIf"],["class","container caf-aqi-data-container",4,"ngIf"],[1,"container"],[3,"height","primaryColor"],["x","0","y","0","rx","0","ry","0","width","400","height","150"],[1,"container","caf-aqi-data-container"],["cafAqiDataContainer",""],[1,"caf-title"],[1,"caf-aqi-container"],[1,"aqi-display"],[1,"aqi-header"],[1,"aqi-boxes"],["class","aqi-data-top",3,"background-color",4,"ngIf"],[1,"aqi-data-chart"],[1,"aqi-month-text"],[1,"aqi-month-box"],[3,"option",4,"ngIf"],["class","date-range",4,"ngIf"],[1,"aqi-header","hide-mobile"],[1,"aqi-calc-box"],[1,"aqi-improvement-title"],["class","aqi-improvement-container",4,"ngIf"],[1,"pm-text"],[1,"last-updated-text"],[1,"aqi-data-top"],[1,"aqi-container"],[1,"aqi-info"],[1,"aqi-box"],[1,"aqi-title"],[1,"aqi-total"],[1,"icon"],[3,"src","alt"],[1,"aqi-status"],[1,"aqi-label"],[3,"option"],[1,"date-range"],[1,"align-right"],[1,"aqi-improvement-container"],[1,"aqi-improvement-percentage"],[1,"cleaner-text"]],template:function(i,t){1&i&&(n.dd(0,f,3,2,"div",0),n.dd(1,v,42,17,"div",1)),2&i&&(n.Bc("ngIf",t.isLoading&&t.indoorAQI&&t.outdoorAQI),n.Mb(1),n.Bc("ngIf",!t.isLoading&&t.indoorAQI&&t.outdoorAQI))},directives:[e.o,c.a,d.a],pipes:[e.e],styles:[".caf-aqi-data-container{border-bottom:1px solid #f5f5f5;margin-bottom:36px}.caf-aqi-data-container .caf-title{height:42px;font-size:28px;line-height:1.5;color:#414141;margin-bottom:38px}.caf-aqi-data-container .caf-aqi-container{-ms-flex-pack:justify;justify-content:space-between;margin-bottom:16px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.caf-aqi-data-container .caf-aqi-container .aqi-display{width:32%;height:auto}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-header{height:36px;font-size:24px;line-height:1.5px;color:#414141}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes{border-radius:4px;box-shadow:0 2px 12px 0 rgba(0,0,0,.12);background-color:#fff;border-bottom:6px solid transparent;height:450px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top{height:232px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .aqi-info{height:90px;width:75%;margin-right:32px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .aqi-info .aqi-box{height:90px;width:116px;border-radius:4px;margin-top:16px;margin-left:16px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .aqi-info .aqi-box .aqi-title{color:#fff;font-size:12px;margin-left:16px;line-height:2.5}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .aqi-info .aqi-box .aqi-total{color:#fff;font-size:34px;margin-left:16px;line-height:1.5}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .icon{margin-top:16px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .icon img{width:64px;height:90px;-o-object-fit:cover;object-fit:cover}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-status{width:65%;height:116px;display:-ms-flexbox;display:flex;margin-left:16px;margin-bottom:16px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-status .aqi-label{-ms-flex-item-align:end;align-self:flex-end;font-size:32px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-chart{height:212px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-chart .chart{height:inherit}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-chart .aqi-month-text{font-size:14px;color:#414141;line-height:1.429;margin-top:16px;margin-left:16px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-chart .aqi-month-box{color:#49739a;background-color:#f3f7fb}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-chart .date-range{color:#67788d;font-size:10px;line-height:1.6;margin-left:57px;margin-right:57px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-chart .align-right{float:right}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-calc-box{border-radius:4px;box-shadow:0 2px 12px 0 hsla(0,5%,41%,.12);background-color:#f3f7fb;border-bottom:6px solid transparent;height:450px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-calc-box .error-message-container{display:table-cell;height:450px;vertical-align:middle}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-calc-box .error-message-container .error-icon{text-align:center}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-calc-box .error-message-container .error-message-text{padding:16px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-calc-box .aqi-improvement-title{color:#49739a;font-size:24px;margin-left:16px;line-height:2.5;font-weight:500}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-calc-box .aqi-improvement-container .aqi-improvement-percentage{color:#49739a;font-size:84px;margin-top:66px;margin-left:16px;font-weight:500;line-height:1.19}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-calc-box .aqi-improvement-container .cleaner-text{color:#49739a;font-size:32px;margin-left:16px;line-height:1.5;width:242px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-calc-box .pm-text{color:#49739a;font-size:14px;margin:70px 0 0 16px}.caf-aqi-data-container .last-updated-text{text-align:right;font-size:12px;color:#67788d;height:28px;margin-bottom:36px}@media only screen and (max-width:1439.9px){.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .aqi-info{height:90px;width:65%;margin-right:32px}}@media only screen and (min-width:960px) and (max-width:1139.9px){.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .aqi-info{height:90px;width:65%;margin-right:32px}}@media only screen and (max-width:959.9px){.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .aqi-info{height:90px;width:50%;margin-right:32px}}@media only screen and (max-width:599.9px){.caf-aqi-data-container .caf-aqi-container .aqi-display{width:100%;height:auto;margin-bottom:38px}.caf-aqi-data-container .caf-aqi-container .aqi-display .aqi-boxes .aqi-data-top .aqi-container .aqi-info{height:90px;width:50%;margin-right:32px}.caf-aqi-data-container .caf-title{height:auto;font-size:28px;line-height:1.5;color:#414141;margin-bottom:38px;margin-top:16px}.hide-mobile{display:none}}"],encapsulation:2}),i})()},Burl:function(i,t,a){"use strict";a.d(t,"a",function(){return s});var e=a("fom2"),o=a("iInd"),n=a("O9Qi"),r=a("8Y7J");let s=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=r.Yb({type:i}),i.\u0275inj=r.Xb({imports:[[e.a,o.k,n.a]]}),i})()},NLHw:function(i,t,a){"use strict";a.d(t,"a",function(){return r});var e=a("hl0K"),o=a("5SZk"),n=a("8Y7J");let r=(()=>{class i{constructor(){this.trans=e.a.aqiText}transform(i){const t={green:this.trans.good,yellow:this.trans.moderate,orange:this.trans.unhealthySensitive,red:this.trans.unhealthy,purple:this.trans.veryUnhealthy,maroon:this.trans.hazardous};return Object(o.a)(i,t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=n.Zb({name:"aqiText",type:i,pure:!0}),i})()},O9Qi:function(i,t,a){"use strict";a.d(t,"a",function(){return n});var e=a("SVse"),o=a("8Y7J");let n=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.Yb({type:i}),i.\u0275inj=o.Xb({imports:[[e.c]]}),i})()},RFiY:function(i,t,a){"use strict";a.d(t,"a",function(){return d});var e=a("XcXF"),o=a("NLHw"),n=a("BPAf"),r=a("iq9M"),s=a("8Y7J"),c=a("8U94");let d=(()=>{class i{constructor(i,t){this.commonZone=i,this.userPref=t,this.baseOption={chart:{backgroundColor:"rgba(255, 255, 255, 0.0)"},title:"",legend:{enabled:!1},credits:{enabled:!1},xAxis:{},yAxis:{},plotOptions:{area:{marker:{enabled:!1},lineWidth:1,color:"#78c1e4",fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"rgba(120, 193, 228, 0.4)"],[1,"rgba(120, 193, 228, 0.08)"]]}},line:{marker:{enabled:!1},lineWidth:1}},series:[]},this.historyOptions={tooltip:{outside:!0,formatter:function(){return`<div><span style="font-size: 10px">${this.point.tooltipText}</span><br/>\n        <span style="color:${this.point.color}">\u25cf</span> ${this.series.name}: <b>${this.point.y}</b><br/></div>`}},xAxis:{categories:[],labels:{style:{fontSize:"10px"}},lineWidth:0,gridLineWidth:1,minorGridLineWidth:0,tickInterval:6,tickWidth:0},yAxis:{title:{text:""},gridLineWidth:0,minorGridLineWidth:0},plotOptions:{column:{borderRadius:2,borderWidth:0,groupPadding:0,pointWidth:8,minPointLength:3},line:{color:"#879cb2",lineWidth:1,marker:{enabled:!1}}},series:[]},this.fanSpeedHistoryOptions=Object.assign(Object.assign({},this.historyOptions),{yAxis:Object.assign(Object.assign({},this.historyOptions.yAxis),{tickInterval:4,max:8,min:0})})}resolveUnitTemp(){let i=e.o.Celsius;return i=this.userPref.units.system===r.c.Metric?e.o.Celsius:e.o.Fahrenheit,i}deviceOption(){return Object.assign({},this.baseOption,{tooltip:{outside:!0,formatter:function(){return`<div><span style="font-size: 10px">${this.point.tooltipText}</span><br/>\n          <span style="color:${this.point.color}">\u25cf</span> ${this.series.name}: <b>${.01===this.point.y?"0.0":this.point.y}</b><br/></div>`}},xAxis:{categories:[],labels:{y:10,step:8,style:{fontSize:"10px"}},tickWidth:0,lineWidth:0},yAxis:{visible:!1},plotOptions:{column:{borderRadius:2,borderWidth:0,groupPadding:0,pointWidth:8,minPointLength:3}},series:[]})}resolveDeviceOption(i){const t=this.deviceOption();return i.series.type="column",i.series.zones=this.commonZone.getZoneFor(i.pollutant,this.resolveUnitTemp()),t.xAxis.categories=i.categories,t.series[0]=i.series,t.series[0].pointWidth=6,t}resolveAQIHistoricalOption(i){const t=Object.assign({},this.baseOption,{chart:{plotBackgroundColor:"#fff",height:127,marginTop:25,marginRight:58,marginLeft:58},tooltip:{formatter:function(){if(this.series)return`<strong>${this.x}</strong><br>AQI: <strong>${this.y}</strong>`}},xAxis:{tickInterval:10,gridLineWidth:0,minorGridLineWidth:0,gridLineColor:"#fff",visible:!1},yAxis:{title:{text:""},gridLineWidth:0,minorGridLineWidth:0,labels:{style:{}}},plotOptions:{column:{borderRadius:0,borderWidth:0,pointPadding:0,groupPadding:0,maxPointWidth:8,minPointWidth:4,minPointLength:3},series:{minPointLength:3}},responsive:{rules:[{condition:{maxWidth:394}}]},series:[]});return i.series.type="column",t.xAxis.categories=i.categories,t.series[0]=i.series,t}resolveUNEPOption(i){const t=Object.assign({},this.baseOption,{tooltip:{formatter:function(){if(this.series)return`Concentration at ${this.point.tooltipTime} - <strong>${.01===this.y?0:this.y}</strong> \xb5g/m\xb3`},useHTML:!0,positioner:function(i,t,a){return{x:0,y:0}}},xAxis:{visible:!1},yAxis:{visible:!1},plotOptions:{column:{borderRadius:2,borderWidth:0,pointPadding:0,groupPadding:0,pointWidth:6,minPointLength:3}},series:[]});return i.series.type="column",t.series[0]=i.series,t}getCommonOption(){return{chart:{backgroundColor:"rgba(255, 255, 255, 0.0)"},title:"",legend:{enabled:!1},credits:{enabled:!1}}}getPollutantOptions(i){const t=Object.assign(Object.assign({},this.getCommonOption()),{chart:{plotBackgroundColor:"#f6fafb",height:null},tooltip:{formatter:function(){if(this.series){const i=(new o.a).transform(this.point.aqi);return`${this.x}<br/>${this.series.name} - ${i} <strong>${this.y}</strong>`}}},xAxis:{tickInterval:10,gridLineWidth:1,gridLineColor:"#fff"},yAxis:{title:{text:""},gridLineWidth:0,minorGridLineWidth:0,tickInterval:50},plotOptions:{column:{borderRadius:2,borderWidth:0,pointPadding:0,groupPadding:0,pointWidth:10,minPointLength:3}},series:[]});return i<600&&(t.chart.height="255px",t.plotOptions.column.pointWidth=4,t.xAxis.tickInterval=10,t.yAxis.tickInterval=100),t}getHistoryOptions(i){return Object.assign(Object.assign({},this.getCommonOption()),"fanSpeed"===i?this.fanSpeedHistoryOptions:this.historyOptions)}}return i.DEVICE_OPTION=0,i.POLLUTANT_OPTION=1,i.\u0275fac=function(t){return new(t||i)(s.kc(c.a),s.kc(n.b))},i.\u0275prov=s.Wb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},lLqz:function(i,t,a){"use strict";a.d(t,"a",function(){return c});var e=a("8Y7J"),o=a("SVse"),n=a("6n/F"),r=a("iInd");const s=["chartElement"];let c=(()=>{class i{constructor(i,t){this.platformId=i,this.route=t}ngOnInit(){this.route.paramMap.subscribe(i=>{this.chartObject.renderer.url=window.location.href,this.chartObject.redraw()})}ngAfterViewInit(){this.resolveChart()}ngOnChanges(i){var t;(null===(t=i.option)||void 0===t?void 0:t.currentValue)&&this.resolveChart()}resolveChart(){Object(o.B)(this.platformId)&&(this.chartObject&&this.chartObject.destroy(),this.chartObject=n.chart(this.chartElement.nativeElement,this.option))}}return i.\u0275fac=function(t){return new(t||i)(e.ac(e.J),e.ac(r.a))},i.\u0275cmp=e.Ub({type:i,selectors:[["app-common-chart"]],viewQuery:function(i,t){if(1&i&&e.md(s,3),2&i){let i;e.Nc(i=e.pc())&&(t.chartElement=i.first)}},inputs:{option:"option"},features:[e.Kb],decls:2,vars:0,consts:[[1,"chart"],["chartElement",""]],template:function(i,t){1&i&&e.bc(0,"div",0,1)},styles:[".chart[_ngcontent-%COMP%]{height:100%}"]}),i})()}}]);