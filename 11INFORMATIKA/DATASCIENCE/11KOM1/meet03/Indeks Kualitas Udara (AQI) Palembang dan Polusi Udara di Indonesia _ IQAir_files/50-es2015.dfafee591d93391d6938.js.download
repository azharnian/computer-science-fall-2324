!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="03fa8f86-7736-4568-90f6-021e9e630fc1",t._sentryDebugIdIdentifier="sentry-dbid-03fa8f86-7736-4568-90f6-021e9e630fc1")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"468e0ce18ce8eaa072d85361b0e2c2d814ed5dca"},(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"/vC6":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i={ASC:"asc",DESC:"desc"}},"5otf":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fom2"),r=n("iInd"),o=n("VLCt"),a=n("8Y7J");let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({imports:[[i.a,r.k,o.b.forRoot({preset:o.c})]]}),t})()},"7JpE":function(t,e,n){"use strict";n.d(e,"a",function(){return M});var i=n("SVse"),r=n("8Y7J"),o=n("hl0K"),a=n("XcXF"),s=n("BPAf"),c=n("/7us"),l=n("GoYx"),p=n("UNx2"),u=n("iInd"),d=n("g8r5"),f=n("REAf"),g=n("tgU/"),m=n("O1EI");const b=function(){return{height:"18px",width:"220px"}},h=function(){return{height:"25px",width:"64px"}},_=function(){return{height:"128px",maxWidth:"100%"}};function x(t,e){1&t&&(r.gc(0,"div",1),r.gc(1,"div",2),r.gc(2,"app-loading",3),r.rc(),r.bc(3,"rect",4),r.fc(),r.fc(),r.qc(),r.gc(4,"div",5),r.gc(5,"div"),r.gc(6,"app-loading",3),r.rc(),r.bc(7,"rect",4),r.fc(),r.fc(),r.fc(),r.qc(),r.gc(8,"div",6),r.gc(9,"app-loading",7),r.rc(),r.bc(10,"rect",4),r.fc(),r.fc(),r.fc()),2&t&&(r.Mb(1),r.ad("height","18px"),r.Mb(1),r.Yc(r.Gc(14,b)),r.Mb(3),r.ad("height","25px"),r.Mb(1),r.Yc(r.Gc(15,h)),r.Mb(2),r.ad("height","128px")("padding",0),r.Mb(1),r.Yc(r.Gc(16,_)))}const y=function(t){return[t]};function w(t,e){if(1&t&&(r.gc(0,"a",15),r.fd(1),r.fc()),2&t){const t=r.sc(2);r.Bc("routerLink",r.Hc(2,y,"/"+t.href)),r.Mb(1),r.gd(t.transDetails)}}function v(t,e){if(1&t&&(r.gc(0,"div",1),r.gc(1,"h2",2),r.fd(2),r.fc(),r.gc(3,"div",5),r.gc(4,"h3",8),r.fd(5),r.fc(),r.dd(6,w,2,4,"a",9),r.fc(),r.gc(7,"div"),r.tc(8,"aqiFgBgColorClass"),r.gc(9,"div",10),r.gc(10,"p"),r.tc(11,"aqiBoxBg"),r.gc(12,"span",11),r.fd(13),r.tc(14,"units"),r.fc(),r.gc(15,"span",12),r.fd(16),r.fc(),r.fc(),r.gc(17,"p",13),r.fd(18),r.fc(),r.fc(),r.bc(19,"img",14),r.tc(20,"aqiFace"),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(2),r.hd(" ",t.trans.country.aroundMe.airQualityAroundMe," "),r.Mb(3),r.gd(t.nearestCityName),r.Mb(1),r.Bc("ngIf",t.href),r.Mb(1),r.Qb("air-quality-near-me__information-container ",r.uc(8,14,t.nearestCityDetails.aqi),""),r.Mb(3),r.Qb("information__aqi ",r.uc(11,16,t.nearestCityDetails.aqi),""),r.Mb(3),r.gd(r.uc(14,18,t.Unit.AQI)),r.Mb(3),r.gd(t.nearestCityDetails.aqi),r.Mb(2),r.gd(t.nearestCityDetails.aqiText),r.Mb(1),r.Bc("src",r.uc(20,20,t.nearestCityDetails.aqi),r.Vc)("alt",t.trans.imageAlt.aqiFaceAlt)}}let M=(()=>{class t{constructor(t,e,n,i){this.userPref=t,this.cityService=e,this.aqiTextService=n,this.platformId=i,this.isLoading=!1,this.isLoadingData=!0,this.noCookie=!1,this.trans=o.a.portal,this.transDetails=o.a.core.nav.see,this.Unit=a.p}ngOnInit(){this.setNearestCity()}setNearestCity(){if(Object(i.B)(this.platformId))if(this.userPref){this.nearestCityName=this.userPref.city.name;const t=this.userPref.city.id;t&&(this.cityBreadcrumbObs=this.cityService.getCityById(t).subscribe(t=>{if(t&&t.breadcrumbs){let e;t.breadcrumbs[1]&&t.breadcrumbs[1].label===this.nearestCityName?e=t.breadcrumbs[1].url:t.breadcrumbs[2]&&t.breadcrumbs[2].label===this.nearestCityName&&(e=t.breadcrumbs[2].url),e&&(this.href=e)}}),this.nearestCityDetailsObs=this.cityService.getCityById(this.userPref.city.id).subscribe(t=>{var e,n;this.nearestCityDetails={aqi:null===(e=t.current)||void 0===e?void 0:e.aqi,aqiText:this.aqiTextService.aqiText(null===(n=t.current)||void 0===n?void 0:n.aqi)},this.isLoadingData=!1}))}else this.noCookie=!0;this.noCookie=!0}ngOnDestroy(){this.nearestCityDetails&&this.nearestCityDetailsObs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(s.b),r.ac(c.a),r.ac(l.a),r.ac(r.J))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-air-quality-near-me"]],inputs:{isLoading:"isLoading"},decls:2,vars:2,consts:[["class","air-quality-near-me",4,"ngIf"],[1,"air-quality-near-me"],[1,"air-quality-near-me__section-title"],["preserveAspectRatio","none"],["x","0","y","0","rx","1","ry","1","width","100%","height","100%"],[1,"see-detail-container"],[1,"air-quality-near-me__information-container"],["width","900","preserveAspectRatio","none"],[1,"air-quality-near-me__title"],[3,"routerLink",4,"ngIf"],[1,"information"],[1,"information__aqi__measurement"],[1,"information__aqi__number"],[1,"information__aqi-text"],[3,"src","alt"],[3,"routerLink"]],template:function(t,e){1&t&&(r.dd(0,x,11,17,"div",0),r.dd(1,v,21,22,"div",0)),2&t&&(r.Bc("ngIf",!e.noCookie&&(e.isLoadingData||e.isLoading)),r.Mb(1),r.Bc("ngIf",!e.isLoading&&!e.isLoadingData))},directives:[i.o,p.a,u.j],pipes:[d.a,f.a,g.a,m.a],styles:[".air-quality-near-me[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);padding:16px;margin-bottom:16px;position:relative;overflow:hidden}@media only screen and (min-width:960px){.air-quality-near-me[_ngcontent-%COMP%]{padding:24px;margin-bottom:24px}}.air-quality-near-me__section-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:12px;line-height:1.5;letter-spacing:.9px;text-transform:uppercase;color:#499fbc;margin-bottom:10px}@media only screen and (min-width:960px){.air-quality-near-me__section-title[_ngcontent-%COMP%]{margin-bottom:8px}}.air-quality-near-me__title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-size:18px;line-height:1.44;color:#414141;font-weight:500;font-size:20px;line-height:1.4}@media only screen and (max-width:959.9px){.air-quality-near-me__title[_ngcontent-%COMP%]{font-size:17px;line-height:1.53}}.air-quality-near-me[_ngcontent-%COMP%]   .see-detail-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;margin-bottom:24px}.air-quality-near-me[_ngcontent-%COMP%]   .see-detail-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;font-weight:500;letter-spacing:1.2px;color:#49739a}.air-quality-near-me__information-container[_ngcontent-%COMP%]{padding:24px;margin:0 -16px -16px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@media only screen and (min-width:960px){.air-quality-near-me__information-container[_ngcontent-%COMP%]{margin:0 -24px -24px}}@media only screen and (max-width:959.9px){.air-quality-near-me__information-container[_ngcontent-%COMP%]{margin:0 -16px -16px}}.air-quality-near-me__information-container[_ngcontent-%COMP%]   .information__aqi[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:#fff;padding:4px 12px;margin-bottom:16px;border-radius:4px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.air-quality-near-me__information-container[_ngcontent-%COMP%]   .information__aqi__measurement[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;margin-right:8px}.air-quality-near-me__information-container[_ngcontent-%COMP%]   .information__aqi__number[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:28px;letter-spacing:0}.air-quality-near-me__information-container[_ngcontent-%COMP%]   .information__aqi-text[_ngcontent-%COMP%]{font-size:24px;font-weight:500;line-height:1.5}.air-quality-near-me__information-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:58px}"]}),t})()},BOp4:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n("SVse"),r=n("8Y7J"),o=n("2Vo4"),a=n("hl0K"),s=n("BPAf"),c=n("UNx2"),l=n("d3Oa");function p(t,e){if(1&t&&(r.ec(0),r.fd(1),r.dc()),2&t){const t=r.sc(2);r.Mb(1),r.hd(" (",t.trans.timestamp,") ")}}function u(t,e){if(1&t&&(r.gc(0,"p",2),r.gc(1,"span"),r.fd(2),r.fc(),r.gc(3,"time",3),r.fd(4),r.tc(5,"momentDate"),r.fc(),r.dd(6,p,2,1,"ng-container",1),r.tc(7,"async"),r.fc()),2&t){const t=r.sc();r.Mb(2),r.gd(t.trans.timestampLastUpdateAt),r.Mb(1),r.Cc("dateTime",t.timestamp),r.Mb(1),r.hd(" ",r.wc(5,4,t.timestamp,"HH:mm, MMM D",t.timezone)," "),r.Mb(2),r.Bc("ngIf",r.uc(7,8,t.localTime))}}const d=function(){return{height:"21px"}};function f(t,e){1&t&&(r.ec(0),r.gc(1,"app-loading",4),r.rc(),r.bc(2,"rect",5),r.fc(),r.dc()),2&t&&(r.Mb(1),r.Yc(r.Gc(2,d)))}let g=(()=>{class t{constructor(t,e){this.platformId=t,this.userPref=e,this.trans=a.a.core,this.checkLocalTime=!1,this.isLoading=!1,this.localTime=new o.a(this.checkLocalTime)}ngOnChanges(t){(t.timezone||t.timestamp)&&this.handleLocaltime()}handleLocaltime(){this.checkLocalTime&&this.userTimezone!==this.timezone&&this.localTime.next(!0)}get userTimezone(){if(Object(i.B)(this.platformId))try{return this.userPref.timezone}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.J),r.ac(s.b))},t.\u0275cmp=r.Ub({type:t,selectors:[["app-timestamp"]],inputs:{timezone:"timezone",timestamp:"timestamp",checkLocalTime:"checkLocalTime",isLoading:"isLoading"},features:[r.Kb],decls:2,vars:2,consts:[["class","timestamp__wrapper",4,"ngIf"],[4,"ngIf"],[1,"timestamp__wrapper"],[3,"dateTime"],["height","21"],["x","0","y","0","rx","1","ry","1","width","270px","height","21"]],template:function(t,e){1&t&&(r.dd(0,u,8,10,"p",0),r.dd(1,f,3,3,"ng-container",1)),2&t&&(r.Bc("ngIf",!e.isLoading),r.Mb(1),r.Bc("ngIf",e.isLoading))},directives:[i.o,c.a],pipes:[l.a,i.b],styles:[".timestamp__wrapper[_ngcontent-%COMP%]{color:#516072;font-size:12px;height:22px;line-height:1.5}.timestamp__wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;line-height:1.5;color:#516072;font-weight:600;letter-spacing:.5px}@media only screen and (max-width:959.9px){.timestamp__wrapper[_ngcontent-%COMP%]{line-height:1.75}span[_ngcontent-%COMP%]{line-height:1.5;height:22px}}"]}),t})()},E8p3:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("8Y7J");let r=(()=>{class t{transform(t,e=","){return null==t?void 0:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Zb({name:"populationNumber",type:t,pure:!0}),t})()},Elm6:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("XcXF"),r=n("BPAf"),o=n("iq9M"),a=n("8Y7J");let s=(()=>{class t{constructor(t){var e;this.userPref=t,this._unitSystem=(null===(e=this.userPref)||void 0===e?void 0:e.units.system)||o.c.Metric}getUnit(t){var e;return t===i.p.AQI?`${null===(e=this.userPref)||void 0===e?void 0:e.AQI} AQI`:this._unitSystem===o.c.Metric?o.b[t]:o.a[t]}}return t.\u0275fac=function(e){return new(e||t)(a.kc(r.b))},t.\u0275prov=a.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},HOcb:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("iInd"),r=n("fom2"),o=n("tgU/"),a=n("8Y7J");let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Yb({type:t}),t.\u0275inj=a.Xb({providers:[o.a],imports:[[r.a,i.k]]}),t})()},KrkP:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5SZk"),r=n("8Y7J");let o=(()=>{class t{transform(t){return Object(i.a)(t,{green:"aqi-opacity-green",yellow:"aqi-opacity-yellow",orange:"aqi-opacity-orange",red:"aqi-opacity-red",purple:"aqi-opacity-purple",maroon:"aqi-opacity-maroon"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Zb({name:"aqiFgOpacityBgColor",type:t,pure:!0}),t})()},O1EI:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5SZk"),r=n("8Y7J");let o=(()=>{class t{transform(t,e=null){if(!e){const n={green:"green",yellow:"yellow",orange:"orange",red:"red",purple:"purple",maroon:"maroon"};e=Object(i.a)(t,n)}return`/assets/aqi/ic-face-${e}.svg`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Zb({name:"aqiFace",type:t,pure:!0}),t})()},QGOA:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n("IheW"),r=n("LRne"),o=n("JIr8"),a=n("lJxs"),s=n("W8+8"),c=n("/vC6"),l=n("6cJF"),p=n("W0ZU"),u=n("8Y7J"),d=n("7Xt/"),f=n("2qh6");let g=(()=>{class t{constructor(t,e,n){this.http=t,this.httpPaginationMapper=e,this.analysisService=n,this.apiUrl=Object(s.a)(),this.placeType="country"}getCountries(){return this.http.get(`${this.apiUrl}countries`).pipe(Object(o.a)(t=>this._logErrorAndReturnEmptyArray(t)))}getStatesByCountry(t){return this.http.get(`${this.apiUrl}states/by/countryID/${t}`)}getCountryDetail(t){return this.http.get(`${this.apiUrl}countries/${t}`)}getCountryYearRanking(t,e){return this.http.get(`${this.apiUrl}countries/${t}/${e}/ranking`)}getCitiesRankedByAQI(t,e=c.a.DESC){return this.http.get(`${this.apiUrl}countries/${t}/rankings`,{withCredentials:!0,params:{sortOrder:e},observe:"response"}).pipe(Object(a.a)(t=>this.httpPaginationMapper.toPagination(t)))}getLiveRanking(t=10,e=1,n=p.b.LEAST_TO_MOST){let r=new i.f({encoder:new l.a});return r=r.set("sortBy","aqi"),r=r.set("sortOrder",n.toString()),r=r.set("page",e.toString()),r=r.set("perPage",t.toString()),r=r.set("display","full"),this.http.get(`${this.apiUrl}countries/rankings`,{params:r,headers:new i.e({"Content-Type":"application/json"}),observe:"response",withCredentials:!0}).pipe(Object(a.a)(t=>this.httpPaginationMapper.toPagination(t)))}_logErrorAndReturnEmptyArray(t){return console.error(`Error when fetching from ${t.url}. Error details: ${null==t?void 0:t.message}`),Object(r.a)([])}}return t.\u0275fac=function(e){return new(e||t)(u.kc(i.b),u.kc(d.a),u.kc(f.a))},t.\u0275prov=u.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},REAf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5SZk"),r=n("8Y7J");let o=(()=>{class t{transform(t){return Object(i.a)(t,{green:"aqi-box-green",yellow:"aqi-box-yellow",orange:"aqi-box-orange",red:"aqi-box-red",purple:"aqi-box-purple",maroon:"aqi-box-maroon"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Zb({name:"aqiBoxBg",type:t,pure:!0}),t})()},U00U:function(t,e,n){"use strict";n.d(e,"a",function(){return Z});var i=n("8Y7J"),r=n("hl0K"),o=n("SVse"),a=n("UNx2"),s=n("iInd");const c=function(){return{height:"100%",width:"100%",marginBottom:"-6px"}};function l(t,e){1&t&&(i.gc(0,"div",10),i.gc(1,"app-loading",11),i.rc(),i.bc(2,"rect",12),i.fc(),i.fc()),2&t&&(i.Mb(1),i.Yc(i.Gc(2,c)))}function p(t,e){}function u(t,e){1&t&&i.dd(0,p,0,0,"ng-template")}const d=function(t){return{$implicit:t}};function f(t,e){if(1&t&&(i.ec(0),i.dd(1,u,1,0,void 0,18),i.dc()),2&t){const t=i.sc(2),e=i.Oc(3);i.Mb(1),i.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.Hc(2,d,t.sourcesBanner))}}function g(t,e){}function m(t,e){1&t&&i.dd(0,g,0,0,"ng-template")}function b(t,e){if(1&t&&(i.ec(0),i.dd(1,m,1,0,void 0,18),i.dc()),2&t){const t=i.sc(2),e=i.Oc(5);i.Mb(1),i.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.Hc(2,d,t.sourcesBanner))}}function h(t,e){}function _(t,e){1&t&&i.dd(0,h,0,0,"ng-template")}function x(t,e){}function y(t,e){1&t&&i.dd(0,x,0,0,"ng-template")}function w(t,e){if(1&t&&(i.gc(0,"div",13),i.gc(1,"p",14),i.fd(2),i.fc(),i.gc(3,"div",15),i.dd(4,f,2,4,"ng-container",16),i.dd(5,b,2,4,"ng-container",16),i.dd(6,_,1,0,void 0,17),i.fc(),i.dd(7,y,1,0,void 0,18),i.gc(8,"a",19),i.fd(9),i.fc(),i.fc()),2&t){const t=i.sc(),e=i.Oc(13),n=i.Oc(11);i.Mb(2),i.hd(" ",t.isProvidedBySatellite?t.trans.aqDataSource:t.trans.aqDataContributors," "),i.Mb(2),i.Bc("ngIf",t.isProvidedBySatellite),i.Mb(1),i.Bc("ngIf",!t.isProvidedBySatellite),i.Mb(1),i.Bc("ngTemplateOutlet",e),i.Mb(1),i.Bc("ngTemplateOutlet",n)("ngTemplateOutletContext",i.Hc(7,d,t._promotionBanners)),i.Mb(2),i.hd(" ",t.trans.findOutMore," ")}}function v(t,e){if(1&t&&(i.gc(0,"a",25),i.fd(1),i.fc()),2&t){const t=i.sc(2);i.Mb(1),i.hd(" ",t.trans.learnMore," ")}}function M(t,e){if(1&t&&(i.gc(0,"div",20),i.bc(1,"img",21),i.gc(2,"div",22),i.gc(3,"span",23),i.fd(4),i.fc(),i.dd(5,v,2,1,"a",24),i.fc(),i.fc()),2&t){const t=e.$implicit,n=i.sc();i.Mb(1),i.Bc("src",t.pictures[0],i.Vc)("alt",n.imageAltTrans.contributorAlt),i.Mb(3),i.gd(t.labels[0]),i.Mb(1),i.Bc("ngIf",t.url)}}function O(t,e){}function S(t,e){1&t&&i.dd(0,O,0,0,"ng-template")}function C(t,e){if(1&t&&(i.ec(0),i.dd(1,S,1,0,void 0,18),i.dc()),2&t){const t=i.sc().$implicit;i.sc();const e=i.Oc(7);i.Mb(1),i.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.Hc(2,d,t))}}function B(t,e){}function k(t,e){1&t&&i.dd(0,B,0,0,"ng-template")}function I(t,e){if(1&t&&(i.ec(0),i.dd(1,k,1,0,void 0,18),i.dc()),2&t){const t=i.sc().$implicit;i.sc();const e=i.Oc(9);i.Mb(1),i.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.Hc(2,d,t))}}function P(t,e){if(1&t&&(i.dd(0,C,2,4,"ng-container",16),i.dd(1,I,2,4,"ng-container",16)),2&t){const t=i.sc();i.Bc("ngIf",t.isStation),i.Mb(1),i.Bc("ngIf",!t.isStation)}}function T(t,e){if(1&t&&(i.ec(0),i.gc(1,"a",29),i.gc(2,"div",20),i.bc(3,"img",21),i.gc(4,"div",30),i.bc(5,"p",31),i.gc(6,"p",32),i.fd(7),i.fc(),i.fc(),i.fc(),i.fc(),i.dc()),2&t){const t=i.sc().$implicit,e=i.sc();i.Mb(1),i.Bc("href",null==t?null:t.url,i.Vc),i.Mb(2),i.Bc("src",t.pictures[0],i.Vc)("alt",e.imageAltTrans.contributorAlt),i.Mb(2),i.Bc("innerHTML",t.labels[0],i.Tc),i.Mb(2),i.gd(t.sourceSubType)}}const q=function(t){return[t]};function L(t,e){if(1&t&&(i.gc(0,"a",33),i.gc(1,"div",20),i.bc(2,"img",21),i.gc(3,"div",30),i.bc(4,"p",31),i.gc(5,"p",32),i.fd(6),i.fc(),i.fc(),i.fc(),i.fc()),2&t){const t=i.sc().$implicit,e=i.sc();i.Bc("routerLink",i.Hc(5,q,"/"+(null==t?null:t.url))),i.Mb(2),i.Bc("src",t.pictures[0],i.Vc)("alt",e.imageAltTrans.contributorAlt),i.Mb(2),i.Bc("innerHTML",t.labels[0],i.Tc),i.Mb(2),i.gd(t.sourceSubType)}}function A(t,e){if(1&t&&(i.gc(0,"h3",26),i.fd(1),i.fc(),i.dd(2,T,8,5,"ng-container",27),i.dd(3,L,7,7,"ng-template",null,28,i.ed)),2&t){const t=e.$implicit,n=i.Oc(4),r=i.sc();i.Mb(1),i.hd(" ",r.trans.operatedBy.oneStation," "),i.Mb(1),i.Bc("ngIf","Anonymous"===t.sourceType)("ngIfElse",n)}}function $(t,e){if(1&t&&(i.gc(0,"span"),i.fd(1),i.fc()),2&t){const t=i.sc().$implicit;i.Mb(1),i.gd(null==t?null:t.stationsCount)}}function E(t,e){if(1&t&&i.bc(0,"img",21),2&t){const t=e.$implicit;i.Bc("src",t,i.Vc)("alt",t)}}function j(t,e){if(1&t){const t=i.hc();i.gc(0,"p",26),i.dd(1,$,2,1,"span",16),i.gc(2,"span"),i.fd(3),i.fc(),i.fc(),i.gc(4,"div",34),i.gc(5,"div",35),i.bc(6,"p",36),i.gc(7,"div",37),i.dd(8,E,1,2,"img",38),i.fc(),i.fc(),i.gc(9,"p",39),i.oc("click",function(){return i.Sc(t),i.sc().scrollToContributorList()}),i.fd(10),i.fc(),i.fc()}if(2&t){const t=e.$implicit,n=i.sc();i.Mb(1),i.Bc("ngIf",null==t?null:t.stationsCount),i.Mb(2),i.hd(" ",(null==t?null:t.stationsCount)>1?n.trans.operatedBy.multiStation:n.trans.operatedBy.oneStation," "),i.Mb(3),i.Bc("innerHTML",null==t?null:t.labels[0],i.Tc),i.Mb(2),i.Bc("ngForOf",null==t?null:t.pictures),i.Mb(2),i.gd(n.trans.seeAll)}}function z(t,e){if(1&t&&i.bc(0,"img",49),2&t){const t=i.sc().$implicit;i.Bc("src",t.headerPicture,i.Vc)}}function D(t,e){if(1&t&&(i.ec(0),i.gc(1,"div",43),i.dd(2,z,1,1,"img",44),i.gc(3,"div",45),i.gc(4,"p",46),i.fd(5),i.fc(),i.gc(6,"p",47),i.fd(7),i.fc(),i.fc(),i.gc(8,"a",48),i.fd(9),i.fc(),i.fc(),i.dc()),2&t){const t=e.$implicit,n=i.sc(2);i.Mb(2),i.Bc("ngIf",t.headerPicture),i.Mb(2),i.Sb("text__description",n.isProvidedBySatellite),i.Mb(1),i.hd(" ",null==t?null:t.description1," "),i.Mb(2),i.hd(" ",null==t?null:t.description2," "),i.Mb(1),i.Bc("href",null==t||null==t.actions[0]?null:t.actions[0].url,i.Vc),i.Mb(1),i.hd(" ",null==t||null==t.actions[0]?null:t.actions[0].label," ")}}function Y(t,e){if(1&t&&(i.gc(0,"div",40),i.gc(1,"p",41),i.fd(2),i.fc(),i.dd(3,D,10,7,"ng-container",42),i.fc()),2&t){const t=e.$implicit;i.Mb(2),i.hd(" ",t.title," "),i.Mb(1),i.Bc("ngForOf",t.banners)}}function R(t,e){}function J(t,e){1&t&&i.dd(0,R,0,0,"ng-template")}function U(t,e){if(1&t&&(i.ec(0),i.dd(1,J,1,0,void 0,18),i.dc()),2&t){const t=i.sc(3),e=i.Oc(17);i.Mb(1),i.Bc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.Hc(2,d,t.sponsorList[0]))}}function H(t,e){if(1&t&&(i.gc(0,"div",51),i.dd(1,U,2,4,"ng-container",27),i.fc()),2&t){const t=i.sc(2),e=i.Oc(15);i.Mb(1),i.Bc("ngIf",1===t.sponsorsCount)("ngIfElse",e)}}function V(t,e){if(1&t&&i.dd(0,H,2,2,"div",50),2&t){const t=i.sc();i.Bc("ngIf",t.sponsorList)}}function F(t,e){if(1&t&&(i.gc(0,"p"),i.fd(1),i.fc()),2&t){const t=i.sc();i.Mb(1),i.id("",t.sponsorsCount," ",t.trans.sponsor.mixSponsor,"")}}function K(t,e){if(1&t&&(i.gc(0,"p"),i.fd(1),i.fc()),2&t){const t=i.sc(2);i.Mb(1),i.hd(" ",t.trans.sponsor.oneSponsor," ")}}function X(t,e){if(1&t&&(i.gc(0,"p"),i.gc(1,"span"),i.fd(2),i.fc(),i.gc(3,"span"),i.fd(4),i.fc(),i.fc()),2&t){const t=i.sc().$implicit,e=i.sc();i.Mb(2),i.hd(" ",null==t?null:t.stationsCount," "),i.Mb(2),i.hd(" ",(null==t?null:t.stationsCount)>1?e.trans.sponsor.multiSponsor:e.trans.sponsor.oneStationSponsor," ")}}function N(t,e){if(1&t&&(i.gc(0,"a",55),i.fd(1),i.fc()),2&t){const t=i.sc().$implicit;i.Bc("routerLink",i.Hc(2,q,"/"+(null==t?null:t.url))),i.Mb(1),i.gd(null==t?null:t.name)}}function Q(t,e){if(1&t&&(i.gc(0,"p"),i.fd(1),i.fc()),2&t){const t=i.sc().$implicit;i.Mb(1),i.gd(null==t?null:t.name)}}function W(t,e){if(1&t&&(i.gc(0,"div",52),i.dd(1,K,2,1,"p",16),i.dd(2,X,5,2,"p",16),i.fc(),i.dd(3,N,2,4,"a",53),i.dd(4,Q,2,1,"ng-template",null,54,i.ed)),2&t){const t=e.$implicit,n=i.Oc(5),r=i.sc();i.Mb(1),i.Bc("ngIf",r.isStation||1===r.sourcesBanner.stationsCount),i.Mb(1),i.Bc("ngIf",!r.isStation&&r.sourcesBanner.stationsCount>1),i.Mb(1),i.Bc("ngIf",null==t?null:t.url)("ngIfElse",n)}}let Z=(()=>{class t{constructor(){this.contributorClicked=new i.r,this.trans=r.a.contributorComp,this.imageAltTrans=r.a.portal.imageAlt,this.isLoading=!1,this.isStation=!1}ngOnInit(){}ngOnChanges(t){var e,n,i,r,o;t.locationInfo&&t.locationInfo.currentValue&&(this.sponsorsCount=(null===(e=this.sponsorList)||void 0===e?void 0:e.length)>1?null===(n=this.sponsorList)||void 0===n?void 0:n.reduce((t,e)=>t+e.stationsCount,0):null===(i=this.sponsorList)||void 0===i?void 0:i.length,this.sourcesBanner&&(this.isProvidedBySatellite="satellite"===(null===(r=this.sourcesBanner)||void 0===r?void 0:r.sourceType)),this._promotionBanners={banners:this.promotionBanners.banners.map(t=>{var e;return Object.assign(Object.assign({},t),{headerPicture:null===(e=null==t?void 0:t.headerPicture)||void 0===e?void 0:e.replace("/assets","")})}),title:null===(o=this.promotionBanners)||void 0===o?void 0:o.title})}scrollToContributorList(){this.contributorClicked.emit(null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ub({type:t,selectors:[["app-contributor-summary"]],inputs:{locationInfo:"locationInfo",isLoading:"isLoading",isStation:"isStation",promotionBanners:"promotionBanners",sourcesBanner:"sourcesBanner",sponsorList:"sponsorList"},outputs:{contributorClicked:"contributorClicked"},features:[i.Kb],decls:18,vars:2,consts:[["class","contributor-summary",4,"ngIf"],["class","contributorSource",4,"ngIf"],["estimatedSourceBanner",""],["simpleSourceBanner",""],["stationSourceTmpl",""],["cityStateCountrySourceBannerTmpl",""],["programBannerTmpl",""],["sponsorTmpl",""],["mixSponsorTmpl",""],["oneSponsorTmpl",""],[1,"contributor-summary"],["preserveAspectRatio","none",1,"image"],["x","0","y","0","rx","1","ry","1","width","100%","height","100%"],[1,"contributorSource"],[1,"title"],[1,"source_banner"],[4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["href","https://support.iqair.com/en/articles/4148631-how-are-purpleair-devices-credited-on-the-iqair-website-and-app","target","_blank",1,"find-out-more"],[1,"source_banner__profile_wrapper"],[1,"image",3,"src","alt"],[1,"estimated_profile"],[1,"estimated_profile__name"],["href","https://www.iqair.com/us/newsroom/what-does-the-asterisk-mean-on-some-locations-aqi","target","_blank","class","estimated_profile__link",4,"ngIf"],["href","https://www.iqair.com/us/newsroom/what-does-the-asterisk-mean-on-some-locations-aqi","target","_blank",1,"estimated_profile__link"],[1,"source_banner__title"],[4,"ngIf","ngIfElse"],["nonAnonymousStationTmpl",""],["target","_blank",3,"href"],[1,"profile"],[1,"profile__name",3,"innerHTML"],[1,"profile__sourceSubType"],[3,"routerLink"],[1,"source_banner__source_list_wrapper"],[1,"source_info"],[1,"source_info__count",3,"innerHTML"],[1,"source_info__profile"],["class","image",3,"src","alt",4,"ngFor","ngForOf"],[1,"link",3,"click"],[1,"program_banner"],[1,"program_banner__title"],[4,"ngFor","ngForOf"],[1,"program_banner__program_wrapper"],["alt","image","class","icon",3,"src",4,"ngIf"],[1,"text"],[1,"text__title"],[1,"text__description"],["target","_blank",1,"iqair-contained-button","redirection",3,"href"],["alt","image",1,"icon",3,"src"],["class","sponsor_indicator",4,"ngIf"],[1,"sponsor_indicator"],[1,"sponsor"],["class","link",3,"routerLink",4,"ngIf","ngIfElse"],["communityNameTmpl",""],[1,"link",3,"routerLink"]],template:function(t,e){1&t&&(i.dd(0,l,3,3,"div",0),i.dd(1,w,10,9,"div",1),i.dd(2,M,6,4,"ng-template",null,2,i.ed),i.dd(4,P,2,2,"ng-template",null,3,i.ed),i.dd(6,A,5,3,"ng-template",null,4,i.ed),i.dd(8,j,11,5,"ng-template",null,5,i.ed),i.dd(10,Y,4,2,"ng-template",null,6,i.ed),i.dd(12,V,1,1,"ng-template",null,7,i.ed),i.dd(14,F,2,2,"ng-template",null,8,i.ed),i.dd(16,W,6,4,"ng-template",null,9,i.ed)),2&t&&(i.Bc("ngIf",e.isLoading),i.Mb(1),i.Bc("ngIf",!e.isLoading))},directives:[o.o,a.a,o.t,s.j,o.n],styles:[".contributor-summary__loading-container{margin-bottom:16px;border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08);padding:16px}@media only screen and (min-width:960px){.contributor-summary__loading-container{margin-bottom:24px;padding:24px}}.contributor-summary__loading-container__sneakpeak{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;margin-bottom:41px}.contributor-summary__loading-container__link{line-height:18px;position:relative}.contributor-summary__loading-container .image{margin:-16px}@media only screen and (min-width:960px){.contributor-summary__loading-container .image{margin:-24px}}.contributorSource{padding:16px;margin-bottom:16px;border-radius:4px;box-shadow:0 2px 20px 0 rgba(0,0,0,.08)}@media only screen and (min-width:960px){.contributorSource{padding:24px;margin-bottom:24px}}.contributorSource .title{font-size:12px;font-weight:700;color:#499fbc;margin-bottom:16px}.contributorSource .source_banner__title{font-size:16px;line-height:26px;font-weight:500;color:#414141}.contributorSource .source_banner__source_list_wrapper{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;border-radius:4px;border:1px solid rgba(0,0,0,.08);margin:8px 0 16px;padding:12px}.contributorSource .source_banner__source_list_wrapper .source_info{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.contributorSource .source_banner__source_list_wrapper .source_info__count{font-size:14px;text-transform:capitalize;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;max-width:100%}.contributorSource .source_banner__source_list_wrapper .source_info__profile{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:start;-ms-flex-align:center;align-items:center}.contributorSource .source_banner__source_list_wrapper .source_info__profile .image{border:2px solid #fff;border-radius:50%;width:24px;height:24px;background-color:#fff}.contributorSource .source_banner__source_list_wrapper .source_info__profile .image:not(:first-child){margin-left:-10px}.contributorSource .source_banner__source_list_wrapper .link{text-transform:uppercase;font-size:12px;color:#49739a;cursor:pointer;max-width:100%;white-space:nowrap}.contributorSource .source_banner__profile_wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:12px;border-radius:4px;border:1px solid rgba(0,0,0,.08);margin:8px 0 16px;padding:12px}.contributorSource .source_banner__profile_wrapper .image{border-radius:50%;width:36px;height:36px;border:1px solid rgba(0,0,0,.08)}.contributorSource .source_banner__profile_wrapper .profile{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:4px}.contributorSource .source_banner__profile_wrapper .profile__name{font-size:14px;color:#414141;text-transform:capitalize;font-weight:600}.contributorSource .source_banner__profile_wrapper .profile__sourceSubType{font-size:12px;font-weight:500;color:#67788d;text-transform:capitalize}.contributorSource .source_banner__profile_wrapper .estimated_profile{font-size:14px}.contributorSource .source_banner__profile_wrapper .estimated_profile__name{font-weight:400;color:#414141;text-transform:capitalize}.contributorSource .source_banner__profile_wrapper .estimated_profile__link{color:#49739a;font-weight:500}.contributorSource .sponsor_indicator{font-size:12px;margin-top:-4px;-ms-flex-wrap:wrap;flex-wrap:wrap}.contributorSource .sponsor_indicator,.contributorSource .sponsor_indicator .sponsor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:4px}.contributorSource .sponsor_indicator .link{color:#49739a;font-weight:700}.contributorSource .program_banner{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;padding:24px;border-radius:4px;border:1px solid rgba(0,0,0,.08);background-color:#f9fafb;margin:24px 0 16px}.contributorSource .program_banner__title{font-size:22px;font-weight:700;text-align:center}.contributorSource .program_banner__program_wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:20px;text-align:center;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;margin-top:28px}.contributorSource .program_banner__program_wrapper .icon{width:32px;height:32px}.contributorSource .program_banner__program_wrapper .text{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:6px}.contributorSource .program_banner__program_wrapper .text__title{font-size:16px;font-weight:700}.contributorSource .program_banner__program_wrapper .text__title_estimated{font-size:24px;font-weight:700}.contributorSource .program_banner__program_wrapper .text__description{font-size:16px;font-weight:400;line-height:1.5}.contributorSource .program_banner__program_wrapper .redirection{padding:0 16px;font-size:12px;font-weight:500}.contributorSource .find-out-more{font-size:12px;line-height:1.5;color:#67788d;text-decoration:underline!important}"],encapsulation:2}),t})()},UQqK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("8Y7J"),r=n("SVse"),o=n("iInd");function a(t,e){if(1&t&&(i.gc(0,"h2",4),i.fd(1),i.fc()),2&t){const t=i.sc();i.Mb(1),i.hd(" ",t.title," ")}}function s(t,e){if(1&t&&(i.gc(0,"p",5),i.fd(1),i.fc()),2&t){const t=i.sc();i.Mb(1),i.hd(" ",t.subTitle," ")}}const c=function(t){return[t]};function l(t,e){if(1&t&&(i.gc(0,"li",8),i.gc(1,"a",9),i.fd(2),i.fc(),i.fc()),2&t){const t=e.$implicit;i.Mb(1),i.Bc("routerLink",i.Hc(2,c,t.url)),i.Mb(1),i.gd(t.name)}}function p(t,e){if(1&t&&(i.gc(0,"ul",6),i.dd(1,l,3,4,"li",7),i.fc()),2&t){const t=i.sc();i.Mb(1),i.Bc("ngForOf",t.states)}}let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ub({type:t,selectors:[["app-state-list"]],inputs:{locationInfo:"locationInfo",states:"states",title:"title",subTitle:"subTitle"},decls:4,vars:3,consts:[[1,"state-section"],["class","state-section__title",4,"ngIf"],["class","state-section__teaser",4,"ngIf"],["class","state-list",4,"ngIf"],[1,"state-section__title"],[1,"state-section__teaser"],[1,"state-list"],["class","state-list__item",4,"ngFor","ngForOf"],[1,"state-list__item"],[3,"routerLink"]],template:function(t,e){1&t&&(i.gc(0,"div",0),i.dd(1,a,2,1,"h2",1),i.dd(2,s,2,1,"p",2),i.dd(3,p,2,1,"ul",3),i.fc()),2&t&&(i.Mb(1),i.Bc("ngIf",e.locationInfo),i.Mb(1),i.Bc("ngIf",e.locationInfo),i.Mb(1),i.Bc("ngIf",e.states&&e.states.length))},directives:[r.o,r.n,o.j],styles:[".state-section[_ngcontent-%COMP%]{margin-top:76px;margin-bottom:32px;line-height:1.5;color:#414141}@media only screen and (max-width:959.9px){.state-section[_ngcontent-%COMP%]{margin-top:32px}}.state-section__title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:4px}.state-section__teaser[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.state-list[_ngcontent-%COMP%]{-ms-flex-wrap:wrap;flex-wrap:wrap}.state-list[_ngcontent-%COMP%], .state-list__item[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.state-list__item[_ngcontent-%COMP%]{-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding:8px 12px;border:1px solid rgba(0,0,0,.1);border-radius:7px;background-color:#fff;font-size:14px;margin-top:12px;margin-right:12px}"]}),t})()},W0ZU:function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return d});var i=n("LRne"),r=n("JIr8"),o=n("lJxs"),a=n("XcXF"),s=n("W8+8"),c=n("8Y7J"),l=n("IheW"),p=function(t){return t.LEAST_TO_MOST="rank",t.MOST_TO_LEAST="-rank",t}({}),u=function(t){return t.LEAST_TO_MOST="desc",t.MOST_TO_LEAST="asc",t}({});let d=(()=>{class t{constructor(t){this.http=t,this.baseEndpoint=`${Object(s.a)()}analytics/rankings`,this.cityRanking="world-cities",this.countryRanking="countries",this.rankingYear=a.n}getOptions(){return this.http.get(`${this.baseEndpoint}/${this.cityRanking}/${this.rankingYear}/filters`)}getCleanestOrMostPollutedCity(t=p.LEAST_TO_MOST){return this.http.get(`${this.baseEndpoint}/${this.cityRanking}/${this.rankingYear}?sort=${t}&perPage=1`).pipe(Object(r.a)(t=>this._logErrorAndReturnEmptyArray(t)),Object(o.a)(t=>t&&t[0]||{}))}getCities(t,e,n,i=p.LEAST_TO_MOST,r,a,s){let c="";return s&&s.split(",").forEach(t=>{c+=`&cities[]=${t}`}),this.http.get(`${this.baseEndpoint}/${this.cityRanking}/${this.rankingYear}?continent=${t}&country=${e}&state=${n}&sort=${i}&page=${r}&perPage=${a}${c}`,{observe:"response"}).pipe(Object(o.a)(t=>({data:t.body,totalCount:t.headers.get("X-Total-Count")})))}getCountries(t=u.LEAST_TO_MOST,e=300){return this.http.get(`${this.baseEndpoint}/${this.countryRanking}/${this.rankingYear}?sortOrder=${t}&perPage=${e}`).pipe(Object(r.a)(t=>this._logErrorAndReturnEmptyArray(t)))}_logErrorAndReturnEmptyArray(t){return console.error(`Error when fetching from ${t.url}. Error details: ${null==t?void 0:t.message}`),Object(i.a)([])}}return t.\u0275fac=function(e){return new(e||t)(c.kc(l.b))},t.\u0275prov=c.Wb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Z4Si:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5SZk"),r=n("8Y7J");let o=(()=>{class t{transform(t,e){const n={green:"bg-green",yellow:"bg-yellow",orange:"bg-orange",red:"bg-red",purple:"bg-purple",maroon:"bg-maroon"},r=Object(i.a)(t,n);return e?r===n.maroon||r===n.red||r===n.purple?`text-white ${r} `:`text-black-60 ${r}`:r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Zb({name:"aqiBgColorClass",type:t,pure:!0}),t})()},aN4X:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("iInd"),r=n("fom2"),o=n("8Y7J");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Yb({type:t}),t.\u0275inj=o.Xb({imports:[[r.a,i.k]]}),t})()},fD1e:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("SVse"),r=n("8Y7J"),o=n("jtHE"),a=n("hl0K"),s=n("ZFXu"),c=n("cUpR"),l=n("sJRQ"),p=n("RdO4"),u=n("2qh6"),d=n("uK2+");let f=(()=>{class t extends s.a{constructor(t,e,n,i,s,c,l){super(t),this.platformId=t,this.transferState=e,this.seoService=n,this.replacementService=i,this.analysisService=s,this.websiteService=c,this.changeDetectorRef=l,this.loaded=new r.r,this.time={ts:"",tz:""},this.isPageLoading=!0,this.pageTitleData={},this.pageTitle={},this.crumbs=[],this.initialBreadcrumb=[{label:"World",url:"/world-air-quality"}],this.transCore=a.a.portal.core,this.transAnalysis=a.a.portal.analysis,this.analysisSubj=new o.a(1),this.sourcesSubj=new o.a(1),this.isChinaPage=!1}onViewportSizeChanges(){super.onViewportSizeChanges();const t=this.isLocationMobileScreen;this.isLocationMobileScreen=document.documentElement.clientWidth<959,t&&this.isLocationMobileScreen!==t&&this.changeDetectorRef.detectChanges()}ngOnChanges(t){this.setAnalysisData()}init(){this.initGlobalConstant(),this.resolveState()}resolveState(){this.ssrKeys&&this.ssrKeys.map(t=>{if(this.transferState.hasKey(t)){const e=this.transferState.get(t,[]);this.setData(e,t),this.setTransferStateData(t,e),this.transferState.remove(t)}else this.getData(t)})}initGlobalConstant(){this.type&&(this.trans=a.a.portal[this.type],this.seoKeywords=a.a.seoKeywords[this.type])}setMainData(t){this.pageTitle.title=t.name,t.hasOwnProperty("breadcrumbs")&&(this.breadcrumbs=this.initialBreadcrumb.concat(t.breadcrumbs),this.crumbs=t.breadcrumbs),this.isChinaPage=this.websiteService.isChinaPage(),this.setAnalysis(t)}setAnalysis(t){this.analysisHeading=this.replacementService.replaceLocation(this.transAnalysis.heading,"{name}",t.name,t.type),t.hasOwnProperty("analysis")&&this.analysisSubj.next(t.analysis)}setContributorsAndSources(t){t.hasOwnProperty("sources")&&this.sourcesSubj.next(t.sources),t.hasOwnProperty("contributors")?(this.contributors=t.contributors,t.label&&(this.contributorLabel=t.label)):this.contributors=[],t.hasOwnProperty("promotionBanners")&&(this.promotionBanners={title:t.title,banners:t.promotionBanners}),t.hasOwnProperty("sourcesBanner")&&(this.sourcesBanner=t.sourcesBanner),t.hasOwnProperty("sponsorList")&&(this.sponsorList=t.sponsorList)}setSeoHeaders(t,e,n){this.seoService.writeHeader(t,e,n)}setAnalysisData(){this.analysisService.getAnalysisData({placeType:this.type,placeId:this.id}).subscribe(t=>this.analysis=t)}subscribeWithSSR(t,e){t.subscribe(t=>{this.setData(t,e),this.setTransferStateData(e,t),this.changeDetectorRef.detectChanges()},t=>{})}setTransferStateData(t,e){Object(i.C)(this.platformId)&&this.transferState.set(t,e)}onContributorClicked(t){Object(i.B)(this.platformId)&&document.getElementById("contributors").scrollIntoView({behavior:"smooth"})}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(r.ac(r.J),r.ac(c.f),r.ac(l.a),r.ac(p.a),r.ac(u.a),r.ac(d.a),r.ac(r.i))},t.\u0275dir=r.Vb({type:t,inputs:{id:"id"},outputs:{loaded:"loaded"},features:[r.Jb,r.Kb]}),t})()},ndoy:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("hl0K"),r=n("8Y7J"),o=n("SVse"),a=n("UNx2"),s=n("iInd");const c=function(){return{marginBottom:"-6px"}};function l(t,e){1&t&&(r.gc(0,"div",1),r.gc(1,"app-loading",2),r.rc(),r.bc(2,"rect",3),r.fc(),r.fc()),2&t&&(r.Mb(1),r.Yc(r.Gc(2,c)))}const p=function(t){return[t]};function u(t,e){if(1&t&&(r.gc(0,"div",1),r.gc(1,"div",4),r.gc(2,"div",5),r.gc(3,"p",6),r.fd(4),r.fc(),r.gc(5,"p",7),r.fd(6),r.fc(),r.gc(7,"div",8),r.gc(8,"a",9),r.fd(9),r.fc(),r.fc(),r.fc(),r.gc(10,"div",10),r.gc(11,"picture"),r.bc(12,"source",11),r.bc(13,"img",12),r.fc(),r.fc(),r.fc(),r.fc()),2&t){const t=r.sc();r.Mb(4),r.gd(t.trans.caption),r.Mb(2),r.gd(t.trans.subheading),r.Mb(2),r.Bc("routerLink",r.Hc(4,p,t.IQAIR_APP_URL)),r.Mb(1),r.hd(" ",t.trans.learnMore," ")}}let d=(()=>{class t{constructor(){this.trans=i.a.home.solution.app,this.IQAIR_APP_URL="/commercial/air-quality-monitors/airvisual-platform/air-quality-app",this.isLoading=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ub({type:t,selectors:[["app-airvisual-app-banner"]],inputs:{isLoading:"isLoading"},decls:2,vars:2,consts:[["class","airvisual-app-banner",4,"ngIf"],[1,"airvisual-app-banner"],["height","527.5"],["x","0","y","0","rx","4","ry","4","width","400","height","527.5"],[1,"airvisual-app-banner__item"],[1,"item_info"],[1,"item_info__title"],[1,"item_info__subtitle"],[1,"item_info__link_container"],[1,"item_info__link_container__button",3,"routerLink"],[1,"item_media"],["srcset","assets/img/airvisual-app.webp","type","image/webp"],["src","assets/img/airvisual-app.png","alt","AirVisual App, Free iOS and Android air quality app"]],template:function(t,e){1&t&&(r.dd(0,l,3,3,"div",0),r.dd(1,u,14,6,"div",0)),2&t&&(r.Bc("ngIf",e.isLoading),r.Mb(1),r.Bc("ngIf",!e.isLoading))},directives:[o.o,a.a,s.j],styles:[".airvisual-app-banner[_ngcontent-%COMP%]{box-shadow:0 2px 20px 0 rgba(0,0,0,.08);border-radius:4px;width:100%;max-width:404px;height:auto;position:relative;overflow:hidden;margin:auto}@media only screen and (max-width:959.9px){.airvisual-app-banner[_ngcontent-%COMP%]{margin-bottom:32px}}.airvisual-app-banner__item[_ngcontent-%COMP%]   .item_info[_ngcontent-%COMP%]{position:absolute;top:28px;text-align:center;width:100%;color:#fff;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:16px}.airvisual-app-banner__item[_ngcontent-%COMP%]   .item_info__title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:1.33}.airvisual-app-banner__item[_ngcontent-%COMP%]   .item_info__subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:1.43}.airvisual-app-banner__item[_ngcontent-%COMP%]   .item_info__link_container[_ngcontent-%COMP%]{padding:8px 32px}.airvisual-app-banner__item[_ngcontent-%COMP%]   .item_info__link_container__button[_ngcontent-%COMP%]{text-align:center;color:#fff;border-radius:12px;padding:8px 32px;border:2px solid #fff;font-weight:600}.airvisual-app-banner__item[_ngcontent-%COMP%]   .item_info__link_container__button[_ngcontent-%COMP%]:hover{transition:all .2s ease;background:rgba(0,0,0,.05)}.airvisual-app-banner__item[_ngcontent-%COMP%]   .item_media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),t})()},q0Ud:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fom2"),r=n("iInd"),o=n("8Y7J");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Yb({type:t}),t.\u0275inj=o.Xb({imports:[[i.a,r.k]]}),t})()},tQtq:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fom2"),r=n("iInd"),o=n("8Y7J");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Yb({type:t}),t.\u0275inj=o.Xb({imports:[[i.a,r.k]]}),t})()}}]);