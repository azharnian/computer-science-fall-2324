<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        document.addEventListener("DOMContentLoaded", () => {

            let darkInfo;
            if ( !localStorage.getItem("dark") )
                localStorage.setItem("dark", false);
            darkInfo = JSON.parse(localStorage.getItem("dark"));

            const switchDark = () => {
                // document.querySelector("body").classList.toggle('dark');
                // document.querySelector(".dark-mode-icon").classList.toggle('dark');
                document.querySelector("body").classList.add('dark');
                document.querySelector(".dark-mode-icon").classList.add('dark');
            }

            const switchLight = () => {
                document.querySelector("body").classList.remove('dark');
                document.querySelector(".dark-mode-icon").classList.remove('dark');
            }

            if (darkInfo)
                switchDark();
            else
                switchLight();

            document.querySelector(".btn").addEventListener('click', () => {
                // alert("click!");
                
                // darkInfo = !darkInfo;
                if (darkInfo){
                    darkInfo = false;
                    switchLight()
                } else {
                    darkInfo = true;
                    switchDark();
                }
                localStorage.setItem("dark", darkInfo);
            })

        })
    </script>
    <style>
        body {
            transition: background-color 1s ease;
        }

        .btn {
            width: 50px;
            height: 50px;
            border-radius: 25px;
            background-color: white;
            border: 2px solid gray;
            text-align: center;
            line-height: 50px;
            cursor: pointer;
        }

        .btn:hover {
            background-color: gray;
        }

        .dark .btn:hover {
            background-color: #FFFFFFFF;
        }

        .btn span {
            font-size: 24px;
        }

        .btn span.dark-mode-icon::after {
            content: "üåë";
        }

        .btn span.dark-mode-icon.dark::after {
            content: "‚òÄÔ∏è";
            background-color: #FFFFFFFF;
        }

        .dark {
            color: whitesmoke;
            background-color: rgb(40, 40, 40);
            transition: background-color 1s ease;
        }
    </style>
    <title>Dark Mode</title>
</head>
<body>
    <div class="btn">
        <span class="dark-mode-icon"></span>
    </div>
    <h1>Hello, </h1>
</body>
</html>